import{a as tt,b as et}from"./chunk-5IID7QRZ.js";import{b as Q,c as U,e as W,i as X,j as Y,l as Z,m as $}from"./chunk-QPNPC3UF.js";import{d as F,f as _,h as S,i as E,m as y,p as k,q as T,t as I,v as A}from"./chunk-PTVBPAL6.js";import{a as D,b as R,c as j,d as q,e as z,f as H,g as J,h as K}from"./chunk-FDHOQCIP.js";import{a as B}from"./chunk-4ZZG7ICJ.js";import{d as P,g as v}from"./chunk-7HWBNCDZ.js";import{p as h,ta as O,ua as N,wa as V,xa as G,ya as L}from"./chunk-SKGZNIDJ.js";import{Cb as p,Hb as m,Mb as o,Nb as i,Ob as f,Sb as b,Wb as w,Xb as l,cb as s,fc as r,gc as g,hb as u,oa as C,ob as x,pa as M,ub as c}from"./chunk-2CONVDTD.js";function ot(t,d){if(t&1&&(o(0,"div",3),r(1),i()),t&2){let e=l();s(),g(e.successMessage)}}function it(t,d){if(t&1&&(o(0,"div",4),r(1),i()),t&2){let e=l();s(),g(e.errorMessage)}}function rt(t,d){t&1&&(o(0,"mat-error"),r(1,"Email is required"),i())}function at(t,d){t&1&&(o(0,"mat-error"),r(1,"Please enter a valid email"),i())}function nt(t,d){t&1&&f(0,"mat-spinner",13)}function st(t,d){t&1&&r(0," Send Reset Link ")}function mt(t,d){if(t&1){let e=b();o(0,"form",8),w("ngSubmit",function(){C(e);let a=l();return M(a.onSubmit())}),o(1,"mat-form-field",9)(2,"mat-label"),r(3,"Email Address"),i(),f(4,"input",10),o(5,"mat-icon",11),r(6,"email"),i(),c(7,rt,2,0,"mat-error")(8,at,2,0,"mat-error"),i(),o(9,"button",12),c(10,nt,1,0,"mat-spinner",13)(11,st,1,0),i()()}if(t&2){let e,n,a=l();p("formGroup",a.forgotPasswordForm),s(7),m((e=a.forgotPasswordForm.get("email"))!=null&&e.hasError("required")?7:-1),s(),m((n=a.forgotPasswordForm.get("email"))!=null&&n.hasError("email")?8:-1),s(),p("disabled",a.loading),s(),m(a.loading?10:11)}}var yt=(()=>{class t{fb;authService;forgotPasswordForm;loading=!1;submitted=!1;successMessage="";errorMessage="";constructor(e,n){this.fb=e,this.authService=n,this.forgotPasswordForm=this.fb.group({email:["",[_.required,_.email]]})}onSubmit(){this.forgotPasswordForm.invalid||(this.loading=!0,this.errorMessage="",this.authService.forgotPassword(this.forgotPasswordForm.value.email).subscribe({next:e=>{this.loading=!1,e.success?(this.submitted=!0,this.successMessage="Password reset link has been sent to your email address."):this.errorMessage=e.message||"Failed to send reset link"},error:e=>{this.loading=!1,this.errorMessage=e.error?.message||"An error occurred. Please try again."}}))}static \u0275fac=function(n){return new(n||t)(u(I),u(B))};static \u0275cmp=x({type:t,selectors:[["app-forgot-password"]],decls:16,vars:3,consts:[[1,"forgot-password-container"],[1,"forgot-password-card"],["mat-card-avatar",""],[1,"success-message"],[1,"error-message"],[3,"formGroup"],["align","end"],["mat-button","","routerLink","/login"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"form-field"],["matInput","","formControlName","email","type","email","autocomplete","email"],["matPrefix",""],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"disabled"],["diameter","20"]],template:function(n,a){n&1&&(o(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-icon",2),r(4,"workflow"),i(),o(5,"mat-card-title"),r(6,"Forgot Password"),i(),o(7,"mat-card-subtitle"),r(8,"Enter your email to reset your password"),i()(),o(9,"mat-card-content"),c(10,ot,2,1,"div",3)(11,it,2,1,"div",4)(12,mt,12,5,"form",5),i(),o(13,"mat-card-actions",6)(14,"a",7),r(15,"Back to Login"),i()()()()),n&2&&(s(10),m(a.successMessage?10:-1),s(),m(a.errorMessage?11:-1),s(),m(a.submitted?-1:12))},dependencies:[h,A,y,F,S,E,k,T,v,P,K,D,z,J,j,H,q,R,Y,X,Q,U,W,$,Z,L,G,V,N,O,et,tt],styles:[".forgot-password-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#1976d2,#1565c0)}.forgot-password-card[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:1rem}mat-card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}.submit-button[_ngcontent-%COMP%]{width:100%;height:48px;font-size:1rem}.success-message[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32;padding:.75rem;border-radius:4px;margin-bottom:1rem}.error-message[_ngcontent-%COMP%]{background:#ffebee;color:#c62828;padding:.75rem;border-radius:4px;margin-bottom:1rem}"]})}return t})();export{yt as ForgotPasswordComponent};
