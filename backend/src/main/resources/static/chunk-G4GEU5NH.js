import{a as Se,b as be,c as we,d as Me,e as Te,f as ke,g as Oe,h as ye,i as Pe}from"./chunk-QFPR6THL.js";import{a as Fe,b as Ee,c as ve}from"./chunk-ZMVFBH4E.js";import{a as fe,b as xe,c as ge,d as he}from"./chunk-MSROSKVG.js";import{a as pe,b as ue}from"./chunk-6OSA477V.js";import{a as me,b as Ce}from"./chunk-67L4UISH.js";import{a as se}from"./chunk-KHA6H2VC.js";import{c as Ft}from"./chunk-EC7BDYIR.js";import"./chunk-J43BGVIN.js";import"./chunk-MS4AQ6UA.js";import{a as Kt,b as Qt}from"./chunk-DCGWK6OW.js";import{d as ht}from"./chunk-WNUHNPS4.js";import{a as ie,b as oe,c as ae,d as re,f as le}from"./chunk-3QZG32TM.js";import{a as ee,b as ne}from"./chunk-I4PAJBBT.js";import{a as _e,c as de}from"./chunk-INV3KQYA.js";import{b as Zt,c as te}from"./chunk-C5XODKZL.js";import"./chunk-LU6VCXUA.js";import"./chunk-AGZT6V36.js";import{a as Xt,b as jt}from"./chunk-CDWC6WKW.js";import{b as Bt,e as qt,f as Gt,i as Ht,j as Yt,l as zt,m as Jt}from"./chunk-ZS434AQM.js";import{d as Et,f as ct,i as vt,j as St,n as bt,o as wt,q as Mt,r as Tt,u as kt,w as Ot}from"./chunk-M3VCE5SG.js";import{a as Wt,b as $t,c as At,d as Vt,f as Lt,h as Ut}from"./chunk-BTSRKJZZ.js";import{a as ce}from"./chunk-2UBRB5ZZ.js";import"./chunk-MNRHFUYD.js";import"./chunk-UF7Y5AYJ.js";import"./chunk-PMYQJTBZ.js";import{a as Nt}from"./chunk-W7JX3HPD.js";import{a as ft,c as xt,g as gt}from"./chunk-M6HZK7Y7.js";import{Aa as Dt,q as ut,va as yt,wa as Pt,xa as Rt,ya as It}from"./chunk-37H25STD.js";import{B as mt,Cc as pt,Db as Q,Eb as S,Fb as Z,Gb as w,H as at,Jb as u,Kb as _t,Lb as ot,Mb as A,Nb as V,Ob as _,Pb as l,Qb as N,Ub as D,Yb as k,Zb as a,a as J,ab as rt,b as K,bb as lt,c as it,eb as r,gc as X,hc as c,ic as h,jb as z,jc as $,kc as tt,oa as M,pa as T,qb as Ct,qc as dt,wb as x}from"./chunk-UYCZSUYP.js";var Re=()=>[],j=(n,d)=>d.id,G=(n,d)=>d.value,nt=(n,d)=>d.name;function Ie(n,d){n&1&&(_(0,"div",11),N(1,"mat-spinner",13),_(2,"p"),c(3,"Loading form..."),l()())}function De(n,d){n&1&&(_(0,"mat-icon"),c(1,"check"),l())}function Ne(n,d){if(n&1&&c(0),n&2){let t=a().$index;$(" ",t+1," ")}}function We(n,d){if(n&1&&N(0,"div",25),n&2){let t=a().$index,e=a(3);w("completed",t<e.currentScreenIndex)}}function $e(n,d){if(n&1){let t=D();_(0,"div",21),k("click",function(){let i=M(t).$index,s=a(3);return T(s.goToScreen(i))}),_(1,"div",22),x(2,De,2,0,"mat-icon")(3,Ne,1,1),l(),_(4,"span",23),c(5),l()(),x(6,We,1,2,"div",24)}if(n&2){let t=d.$implicit,e=d.$index,i=a(3);w("active",e===i.currentScreenIndex)("completed",e<i.currentScreenIndex),r(2),u(e<i.currentScreenIndex?2:3),r(3),h(t.title||"Step "+(e+1)),r(),u(e<i.screens.length-1?6:-1)}}function Ae(n,d){if(n&1&&(_(0,"mat-icon"),c(1),l()),n&2){let t=a(4);r(),h(t.currentScreen.icon)}}function Ve(n,d){if(n&1&&(_(0,"p"),c(1),l()),n&2){let t=a(4);r(),h(t.currentScreen.description)}}function Le(n,d){if(n&1&&(_(0,"div",20),x(1,Ae,2,1,"mat-icon"),_(2,"div")(3,"h2"),c(4),l(),x(5,Ve,2,1,"p"),l()()),n&2){let t=a(3);r(),u(t.currentScreen.icon?1:-1),r(3),h(t.currentScreen.title),r(),u(t.currentScreen.description?5:-1)}}function Ue(n,d){if(n&1&&(_(0,"div",19),A(1,$e,7,7,null,null,j),l(),x(3,Le,6,3,"div",20)),n&2){let t=a(2);r(),V(t.screens),r(2),u(t.currentScreen?3:-1)}}function Be(n,d){if(n&1&&(_(0,"tr")(1,"td",27),c(2),l(),_(3,"td",28),c(4),l(),_(5,"td",29),c(6),l()()),n&2){let t=d.$implicit,e=a(3);r(2),h(e.getFieldScreenName(t)),r(2),h(t.label),r(2),h(e.getFieldDisplayValue(t))}}function qe(n,d){if(n&1&&(_(0,"mat-card",15)(1,"mat-card-content")(2,"table",26)(3,"thead")(4,"tr")(5,"th",27),c(6,"Screen"),l(),_(7,"th",28),c(8,"Field"),l(),_(9,"th",29),c(10,"Value"),l()()(),_(11,"tbody"),A(12,Be,7,3,"tr",null,j),l()()()()),n&2){let t=a(2);r(12),V(t.getSummaryFields())}}function Ge(n,d){n&1&&(_(0,"mat-card",15)(1,"mat-card-content")(2,"div",30)(3,"mat-icon"),c(4,"info"),l(),_(5,"p"),c(6,"No fields have been marked for summary display."),l(),_(7,"p",31),c(8,'To include fields in the summary, enable "In Summary" option in the field configuration.'),l()()()())}function He(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Ye(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function ze(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,He,2,0,"span",55),l(),N(5,"input",56),l(),x(6,Ye,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("placeholder",t.placeholder||"")("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?6:-1)}}function Je(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Xe(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function je(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,Je,2,0,"span",55),l(),N(5,"textarea",58),l(),x(6,Xe,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("placeholder",t.placeholder||"")("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?6:-1)}}function Ke(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Qe(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function Ze(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,Ke,2,0,"span",55),l(),N(5,"input",59),l(),x(6,Qe,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("placeholder",t.placeholder||"")("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?6:-1)}}function tn(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function en(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function nn(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,tn,2,0,"span",55),l(),N(5,"input",59),_(6,"span",60),c(7,"$\xA0"),l()(),x(8,en,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("placeholder",t.placeholder||"")("readonly",e.isFieldReadonly(t)),r(3),u(e.hasFieldError(t)?8:-1)}}function on(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function an(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function rn(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,on,2,0,"span",55),l(),N(5,"input",61),l(),x(6,an,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("placeholder",t.placeholder||"")("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?6:-1)}}function ln(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function _n(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function dn(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,ln,2,0,"span",55),l(),N(5,"input",62),l(),x(6,_n,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("placeholder",t.placeholder||"")("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?6:-1)}}function cn(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function sn(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function mn(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,cn,2,0,"span",55),l(),N(5,"input",63),l(),x(6,sn,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("placeholder",t.placeholder||"")("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?6:-1)}}function Cn(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function pn(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function un(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,Cn,2,0,"span",55),l(),N(5,"input",64)(6,"mat-datepicker-toggle",65)(7,"mat-datepicker",66,0),l(),x(9,pn,2,1,"div",57),l()),n&2){let t=X(8),e=a(2).$implicit,i=a(3);r(),w("field-invalid",i.hasFieldError(e)),r(2),h(e.label),r(),u(i.isFieldRequired(e)?4:-1),r(),S("matDatepicker",t)("formControlName",e.name)("readonly",i.isFieldReadonly(e)),r(),S("for",t)("disabled",i.isFieldReadonly(e)),r(),S("disabled",i.isFieldReadonly(e)),r(2),u(i.hasFieldError(e)?9:-1)}}function fn(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function xn(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function gn(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,fn,2,0,"span",55),l(),N(5,"input",67),l(),x(6,xn,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?6:-1)}}function hn(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Fn(n,d){if(n&1&&(_(0,"mat-option",69),c(1),l()),n&2){let t=d.$implicit;S("value",t.value),r(),h(t.label)}}function En(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function vn(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,hn,2,0,"span",55),l(),_(5,"mat-select",68),A(6,Fn,2,2,"mat-option",69,G),l()(),x(8,En,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("placeholder",t.placeholder||"")("disabled",e.isFieldReadonly(t)),r(),V(t.options),r(2),u(e.hasFieldError(t)?8:-1)}}function Sn(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function bn(n,d){if(n&1&&(_(0,"mat-option",69),c(1),l()),n&2){let t=d.$implicit;S("value",t.value),r(),h(t.label)}}function wn(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function Mn(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,Sn,2,0,"span",55),l(),_(5,"mat-select",70),A(6,bn,2,2,"mat-option",69,G),l()(),x(8,wn,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("placeholder",t.placeholder||"")("disabled",e.isFieldReadonly(t)),r(),V(t.options),r(2),u(e.hasFieldError(t)?8:-1)}}function Tn(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function kn(n,d){if(n&1&&(_(0,"mat-radio-button",74),c(1),l()),n&2){let t=d.$implicit,e=a(3).$implicit,i=a(3);S("value",t.value)("disabled",i.isFieldReadonly(e)),r(),h(t.label)}}function On(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function yn(n,d){if(n&1&&(_(0,"div",71)(1,"label",72),c(2),x(3,Tn,2,0,"span",55),l(),_(4,"mat-radio-group",73),A(5,kn,2,3,"mat-radio-button",74,G),l(),x(7,On,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(),w("horizontal-layout",t.optionsLayout==="horizontal"),S("formControlName",t.name)("disabled",e.isFieldReadonly(t)),r(),V(t.options),r(2),u(e.hasFieldError(t)?7:-1)}}function Pn(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function Rn(n,d){if(n&1&&(_(0,"div",35)(1,"mat-checkbox",73),c(2),l(),x(3,Pn,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);r(),S("formControlName",t.name)("disabled",e.isFieldReadonly(t)),r(),h(t.label),r(),u(e.hasFieldError(t)?3:-1)}}function In(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Dn(n,d){if(n&1){let t=D();_(0,"mat-checkbox",78),k("change",function(i){let s=M(t).$implicit,C=a(3).$implicit,E=a(3);return T(E.onCheckboxGroupChange(C.name,s.value,i.checked))}),c(1),l()}if(n&2){let t=d.$implicit,e=a(3).$implicit,i=a(3);S("checked",i.isCheckboxOptionSelected(e.name,t.value))("disabled",i.isFieldReadonly(e)),r(),$(" ",t.label||t.value," ")}}function Nn(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function Wn(n,d){if(n&1&&(_(0,"div",75)(1,"label",72),c(2),x(3,In,2,0,"span",55),l(),_(4,"div",76),A(5,Dn,2,3,"mat-checkbox",77,G),l(),x(7,Nn,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(),w("horizontal-layout",t.optionsLayout==="horizontal"),r(),V(t.options||dt(7,Re)),r(2),u(e.hasFieldError(t)?7:-1)}}function $n(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function An(n,d){if(n&1&&(_(0,"mat-chip"),c(1),l()),n&2){let t=d.$implicit;r(),h(t.name)}}function Vn(n,d){if(n&1&&(_(0,"div",81),A(1,An,2,1,"mat-chip",null,nt),l()),n&2){let t=a(3).$implicit,e=a(3);r(),V(e.selectedFiles[t.name])}}function Ln(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function Un(n,d){if(n&1){let t=D();_(0,"div",79)(1,"label",72),c(2),x(3,$n,2,0,"span",55),l(),_(4,"input",80),k("change",function(i){M(t);let s=a(2).$implicit,C=a(3);return T(C.onFileSelect(i,s.name))}),l(),x(5,Vn,3,0,"div",81)(6,Ln,2,1,"div",57),l()}if(n&2){let t=a(2).$implicit,e=a(3);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(),S("multiple",t.multiple)("disabled",e.isFieldReadonly(t)),r(),u(e.selectedFiles[t.name]&&e.selectedFiles[t.name].length>0?5:-1),r(),u(e.hasFieldError(t)?6:-1)}}function Bn(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function qn(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function Gn(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,Bn,2,0,"span",55),l(),N(5,"input",82),l(),x(6,qn,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("placeholder",t.placeholder||"")("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?6:-1)}}function Hn(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Yn(n,d){if(n&1&&(_(0,"mat-option",69)(1,"div",86)(2,"mat-icon"),c(3,"person"),l(),_(4,"div",87)(5,"span",88),c(6),l(),_(7,"span",89),c(8),l()()()()),n&2){let t=d.$implicit;S("value",t),r(6),tt("",t.firstName," ",t.lastName,""),r(2),h(t.email)}}function zn(n,d){n&1&&(_(0,"mat-option",85),c(1,"No users found"),l())}function Jn(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function Xn(n,d){if(n&1){let t=D();_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,Hn,2,0,"span",55),l(),_(5,"mat-icon",60),c(6,"person_search"),l(),_(7,"input",83),k("input",function(i){M(t);let s=a(2).$implicit,C=a(3);return T(C.onUserSearch(i,s.name))}),l(),_(8,"mat-autocomplete",84,1),k("optionSelected",function(i){M(t);let s=a(2).$implicit,C=a(3);return T(C.onUserSelected(i,s.name))}),A(10,Yn,9,4,"mat-option",69,j),x(12,zn,2,0,"mat-option",85),l()(),x(13,Jn,2,1,"div",57),l()}if(n&2){let t=X(9),e=a(2).$implicit,i=a(3);r(),w("field-invalid",i.hasFieldError(e)),r(2),h(e.label),r(),u(i.isFieldRequired(e)?4:-1),r(3),S("formControlName",e.name)("matAutocomplete",t)("placeholder",e.placeholder||"Search for a user...")("readonly",i.isFieldReadonly(e)),r(),S("displayWith",i.displayUserFn),r(2),V(i.getFilteredUsers(e.name)),r(2),u(i.getFilteredUsers(e.name).length===0&&i.userSearchTerms[e.name]?12:-1),r(),u(i.hasFieldError(e)?13:-1)}}function jn(n,d){if(n&1&&N(0,"input",39),n&2){let t=a(2).$implicit;S("formControlName",t.name)}}function Kn(n,d){if(n&1&&(_(0,"p",91),c(1),l()),n&2){let t=a(3).$implicit;r(),h(t.defaultValue)}}function Qn(n,d){if(n&1&&(_(0,"div",40)(1,"p",90),c(2),l(),x(3,Kn,2,1,"p",91),l()),n&2){let t=a(2).$implicit;r(2),h(t.label),r(),u(t.defaultValue?3:-1)}}function Zn(n,d){if(n&1&&(_(0,"span",92),c(1),l()),n&2){let t=a(3).$implicit;r(),h(t.label)}}function ti(n,d){if(n&1&&(_(0,"div",41),N(1,"mat-divider"),x(2,Zn,2,1,"span",92),l()),n&2){let t=a(2).$implicit;r(2),u(t.label?2:-1)}}function ei(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function ni(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function ii(n,d){if(n&1&&(_(0,"div",42)(1,"mat-slide-toggle",73),c(2),x(3,ei,2,0,"span",55),l(),x(4,ni,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);r(),S("formControlName",t.name)("disabled",e.isFieldReadonly(t)),r(),$(" ",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(),u(e.hasFieldError(t)?4:-1)}}function oi(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function ai(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function ri(n,d){if(n&1&&(_(0,"div",93)(1,"label",72),c(2),x(3,oi,2,0,"span",55),l(),_(4,"mat-button-toggle-group",73)(5,"mat-button-toggle",94),c(6,"Yes"),l(),_(7,"mat-button-toggle",95),c(8,"No"),l()(),x(9,ai,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(),S("formControlName",t.name)("disabled",e.isFieldReadonly(t)),r(5),u(e.hasFieldError(t)?9:-1)}}function li(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function _i(n,d){if(n&1){let t=D();_(0,"mat-icon",99),k("click",function(){let i=M(t).$implicit,s=a(3).$implicit,C=a(3);return T(C.setRating(s,i))}),c(1),l()}if(n&2){let t=d.$implicit,e=a(3).$implicit,i=a(3);w("filled",i.getRatingValue(e)>=t)("readonly",i.isFieldReadonly(e)),r(),$(" ",i.getRatingValue(e)>=t?"star":"star_border"," ")}}function di(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function ci(n,d){if(n&1&&(_(0,"div",96)(1,"label",72),c(2),x(3,li,2,0,"span",55),l(),_(4,"div",97),A(5,_i,2,5,"mat-icon",98,ot),l(),x(7,di,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(2),V(e.getStarArray(t)),r(2),u(e.hasFieldError(t)?7:-1)}}function si(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function mi(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function Ci(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,si,2,0,"span",55),l(),N(5,"input",100),l(),x(6,mi,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?6:-1)}}function pi(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function ui(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function fi(n,d){if(n&1&&(_(0,"div",101)(1,"label",72),c(2),x(3,pi,2,0,"span",55),l(),_(4,"mat-slider",102),N(5,"input",103),l(),x(6,ui,2,1,"div",57),l()),n&2){let t,e=a(2).$implicit,i=a(3);w("has-error",i.hasFieldError(e)),r(2),tt("",e.label,": ",((t=i.form.get(e.name))==null?null:t.value)||0," "),r(),u(i.isFieldRequired(e)?3:-1),r(),S("min",e.sliderMin||0)("max",e.sliderMax||100)("step",e.sliderStep||1)("discrete",!0)("disabled",i.isFieldReadonly(e)),r(),S("formControlName",e.name),r(),u(i.hasFieldError(e)?6:-1)}}function xi(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function gi(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function hi(n,d){if(n&1&&(_(0,"div",104)(1,"label",72),c(2),x(3,xi,2,0,"span",55),l(),N(4,"input",105),x(5,gi,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(),S("formControlName",t.name)("disabled",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?5:-1)}}function Fi(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Ei(n,d){if(n&1&&N(0,"img",110),n&2){let t=a(3).$implicit,e=a(3);S("src",e.getImagePreview(t),lt)}}function vi(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function Si(n,d){if(n&1){let t=D();_(0,"div",106)(1,"label",72),c(2),x(3,Fi,2,0,"span",55),l(),_(4,"div",107)(5,"input",108,2),k("change",function(i){M(t);let s=a(2).$implicit,C=a(3);return T(C.onImageSelect(i,s))}),l(),_(7,"button",109),k("click",function(){M(t);let i=X(6);return T(i.click())}),_(8,"mat-icon"),c(9,"add_photo_alternate"),l(),c(10," Select Image "),l(),x(11,Ei,1,1,"img",110),l(),x(12,vi,2,1,"div",57),l()}if(n&2){let t=a(2).$implicit,e=a(3);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(4),S("disabled",e.isFieldReadonly(t)),r(4),u(e.getImagePreview(t)?11:-1),r(),u(e.hasFieldError(t)?12:-1)}}function bi(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function wi(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function Mi(n,d){if(n&1){let t=D();_(0,"div",111)(1,"label",72),c(2),x(3,bi,2,0,"span",55),l(),_(4,"div",112)(5,"canvas",113),k("mousedown",function(i){M(t);let s=a(2).$implicit,C=a(3);return T(C.startSignature(i,s))})("mousemove",function(i){M(t);let s=a(2).$implicit,C=a(3);return T(C.drawSignature(i,s))})("mouseup",function(){M(t);let i=a(2).$implicit,s=a(3);return T(s.endSignature(i))})("mouseleave",function(){M(t);let i=a(2).$implicit,s=a(3);return T(s.endSignature(i))})("touchstart",function(i){M(t);let s=a(2).$implicit,C=a(3);return T(C.startSignatureTouch(i,s))})("touchmove",function(i){M(t);let s=a(2).$implicit,C=a(3);return T(C.drawSignatureTouch(i,s))})("touchend",function(){M(t);let i=a(2).$implicit,s=a(3);return T(s.endSignature(i))}),l(),_(6,"div",114)(7,"button",115),k("click",function(){M(t);let i=a(2).$implicit,s=a(3);return T(s.clearSignature(i))}),_(8,"mat-icon"),c(9,"clear"),l()()()(),x(10,wi,2,1,"div",57),l()}if(n&2){let t=a(2).$implicit,e=a(3);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(2),Q("data-field",t.name),r(2),S("disabled",e.isFieldReadonly(t)),r(3),u(e.hasFieldError(t)?10:-1)}}function Ti(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function ki(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function Oi(n,d){if(n&1){let t=D();_(0,"div",116)(1,"label",72),c(2),x(3,Ti,2,0,"span",55),l(),_(4,"div",117)(5,"div",118)(6,"button",119),k("click",function(){M(t);let i=a(5);return T(i.execRichTextCommand("bold"))}),_(7,"mat-icon"),c(8,"format_bold"),l()(),_(9,"button",120),k("click",function(){M(t);let i=a(5);return T(i.execRichTextCommand("italic"))}),_(10,"mat-icon"),c(11,"format_italic"),l()(),_(12,"button",121),k("click",function(){M(t);let i=a(5);return T(i.execRichTextCommand("underline"))}),_(13,"mat-icon"),c(14,"format_underlined"),l()(),N(15,"span",122),_(16,"button",123),k("click",function(){M(t);let i=a(5);return T(i.execRichTextCommand("insertUnorderedList"))}),_(17,"mat-icon"),c(18,"format_list_bulleted"),l()(),_(19,"button",124),k("click",function(){M(t);let i=a(5);return T(i.execRichTextCommand("insertOrderedList"))}),_(20,"mat-icon"),c(21,"format_list_numbered"),l()()(),_(22,"div",125),k("input",function(i){M(t);let s=a(2).$implicit,C=a(3);return T(C.onRichTextInput(i,s))})("blur",function(i){M(t);let s=a(2).$implicit,C=a(3);return T(C.onRichTextBlur(i,s))}),l()(),x(23,ki,2,1,"div",57),l()}if(n&2){let t,e=a(2).$implicit,i=a(3);w("has-error",i.hasFieldError(e)),r(2),$("",e.label," "),r(),u(i.isFieldRequired(e)?3:-1),r(3),S("disabled",i.isFieldReadonly(e)),r(3),S("disabled",i.isFieldReadonly(e)),r(3),S("disabled",i.isFieldReadonly(e)),r(4),S("disabled",i.isFieldReadonly(e)),r(3),S("disabled",i.isFieldReadonly(e)),r(3),w("readonly",i.isFieldReadonly(e)),S("innerHTML",((t=i.form.get(e.name))==null?null:t.value)||"",rt),Q("data-field",e.name),r(),u(i.hasFieldError(e)?23:-1)}}function yi(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Pi(n,d){if(n&1&&(_(0,"mat-icon"),c(1),l(),_(2,"span"),c(3),l()),n&2){let t,e,i=a(3).$implicit,s=a(3);r(),h((t=s.form.get(i.name))==null?null:t.value),r(2),h((e=s.form.get(i.name))==null?null:e.value)}}function Ri(n,d){n&1&&(_(0,"mat-icon"),c(1,"emoji_symbols"),l(),_(2,"span"),c(3,"Select an icon..."),l())}function Ii(n,d){if(n&1){let t=D();_(0,"div",134),k("click",function(){let i=M(t).$implicit,s=a(4).$implicit,C=a(3);return T(C.selectIcon(s,i))}),_(1,"mat-icon"),c(2),l()()}if(n&2){let t,e=d.$implicit,i=a(4).$implicit,s=a(3);w("selected",((t=s.form.get(i.name))==null?null:t.value)===e),r(2),h(e)}}function Di(n,d){if(n&1){let t=D();_(0,"div",130)(1,"input",131),k("input",function(i){M(t);let s=a(3).$implicit,C=a(3);return T(C.onIconSearch(i,s))}),l(),_(2,"div",132),A(3,Ii,3,3,"div",133,ot),l()()}if(n&2){let t=a(3).$implicit,e=a(3);r(),S("value",e.iconSearchText[t.name]||""),r(2),V(e.getFilteredIcons(t))}}function Ni(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function Wi(n,d){if(n&1){let t=D();_(0,"div",126)(1,"label",72),c(2),x(3,yi,2,0,"span",55),l(),_(4,"div",127)(5,"div",128),k("click",function(){M(t);let i=a(2).$implicit,s=a(3);return T(s.toggleIconPicker(i))}),x(6,Pi,4,2)(7,Ri,4,0),_(8,"mat-icon",129),c(9,"arrow_drop_down"),l()(),x(10,Di,5,1,"div",130),l(),x(11,Ni,2,1,"div",57),l()}if(n&2){let t,e=a(2).$implicit,i=a(3);w("has-error",i.hasFieldError(e)),r(2),$("",e.label," "),r(),u(i.isFieldRequired(e)?3:-1),r(2),w("disabled",i.isFieldReadonly(e)),r(),u((t=i.form.get(e.name))!=null&&t.value?6:7),r(4),u(i.isIconPickerOpen(e)?10:-1),r(),u(i.hasFieldError(e)?11:-1)}}function $i(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Ai(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function Vi(n,d){if(n&1){let t=D();_(0,"div",135)(1,"label",72),c(2),x(3,$i,2,0,"span",55),l(),_(4,"div",136)(5,"mat-form-field",54)(6,"mat-label"),c(7,"Barcode/QR Code"),l(),N(8,"input",137),_(9,"button",138),k("click",function(){M(t);let i=a(2).$implicit,s=a(3);return T(s.scanBarcode(i))}),_(10,"mat-icon"),c(11,"qr_code_scanner"),l()()()(),x(12,Ai,2,1,"div",57),l()}if(n&2){let t=a(2).$implicit,e=a(3);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(5),S("formControlName",t.name)("readonly",e.isFieldReadonly(t)),r(),S("disabled",e.isFieldReadonly(t)),r(3),u(e.hasFieldError(t)?12:-1)}}function Li(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Ui(n,d){n&1&&(_(0,"mat-icon",145),c(1,"sync"),l())}function Bi(n,d){n&1&&(_(0,"mat-icon"),c(1,"my_location"),l())}function qi(n,d){if(n&1&&(_(0,"div",146)(1,"mat-icon"),c(2,"place"),l(),_(3,"span"),c(4),l()()),n&2){let t=a(3).$implicit,e=a(3);r(4),h(e.getLocationDisplay(t))}}function Gi(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function Hi(n,d){if(n&1){let t=D();_(0,"div",139)(1,"label",72),c(2),x(3,Li,2,0,"span",55),l(),_(4,"div",140)(5,"div",141)(6,"mat-form-field",142)(7,"mat-label"),c(8,"Latitude"),l(),_(9,"input",143),k("input",function(i){M(t);let s=a(2).$implicit,C=a(3);return T(C.onLocationLatChange(i,s))}),l()(),_(10,"mat-form-field",142)(11,"mat-label"),c(12,"Longitude"),l(),_(13,"input",143),k("input",function(i){M(t);let s=a(2).$implicit,C=a(3);return T(C.onLocationLngChange(i,s))}),l()(),_(14,"button",144),k("click",function(){M(t);let i=a(2).$implicit,s=a(3);return T(s.getCurrentLocation(i))}),x(15,Ui,2,0,"mat-icon",145)(16,Bi,2,0,"mat-icon"),l()(),x(17,qi,5,1,"div",146),l(),x(18,Gi,2,1,"div",57),l()}if(n&2){let t=a(2).$implicit,e=a(3);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(6),S("value",e.getLocationLat(t))("readonly",e.isFieldReadonly(t)),r(4),S("value",e.getLocationLng(t))("readonly",e.isFieldReadonly(t)),r(),S("disabled",e.isFieldReadonly(t)||e.isGettingLocation(t)),r(),u(e.isGettingLocation(t)?15:16),r(2),u(e.getLocationDisplay(t)?17:-1),r(),u(e.hasFieldError(t)?18:-1)}}function Yi(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function zi(n,d){if(n&1&&(_(0,"th"),c(1),l()),n&2){let t=d.$implicit;Z("width",t.width?t.width+"px":"auto"),r(),h(t.label)}}function Ji(n,d){n&1&&(_(0,"th",151),c(1,"Actions"),l())}function Xi(n,d){if(n&1){let t=D();_(0,"input",156),k("input",function(i){M(t);let s=a().$implicit,C=a().$index,E=a(3).$implicit,f=a(3);return T(f.onTableCellChange(i,E,C,s.name))}),l()}if(n&2){let t=a().$implicit,e=a().$implicit,i=a(3).$implicit,s=a(3);S("value",e[t.name]||"")("readonly",s.isColumnReadonly(i,t))}}function ji(n,d){if(n&1){let t=D();_(0,"input",157),k("input",function(i){M(t);let s=a().$implicit,C=a().$index,E=a(3).$implicit,f=a(3);return T(f.onTableCellChange(i,E,C,s.name))}),l()}if(n&2){let t=a().$implicit,e=a().$implicit,i=a(3).$implicit,s=a(3);S("value",e[t.name]||"")("readonly",s.isColumnReadonly(i,t))}}function Ki(n,d){if(n&1){let t=D();_(0,"mat-checkbox",78),k("change",function(i){M(t);let s=a().$implicit,C=a().$index,E=a(3).$implicit,f=a(3);return T(f.onTableCheckboxChange(i,E,C,s.name))}),l()}if(n&2){let t=a().$implicit,e=a().$implicit,i=a(3).$implicit,s=a(3);S("checked",e[t.name]==="true"||e[t.name]===!0)("disabled",s.isColumnReadonly(i,t))}}function Qi(n,d){if(n&1){let t=D();_(0,"input",158),k("input",function(i){M(t);let s=a().$implicit,C=a().$index,E=a(3).$implicit,f=a(3);return T(f.onTableCellChange(i,E,C,s.name))}),l()}if(n&2){let t=a().$implicit,e=a().$implicit,i=a(3).$implicit,s=a(3);S("value",e[t.name]||"")("readonly",s.isColumnReadonly(i,t))}}function Zi(n,d){if(n&1&&(_(0,"td"),x(1,Xi,1,2,"input",153)(2,ji,1,2,"input",154)(3,Ki,1,2,"mat-checkbox",77)(4,Qi,1,2,"input",155),l()),n&2){let t,e=d.$implicit;Z("width",e.width?e.width+"px":"auto"),r(),u((t=e.type)==="NUMBER"?1:t==="DATE"?2:t==="CHECKBOX"?3:4)}}function to(n,d){if(n&1){let t=D();_(0,"td",151)(1,"button",159),k("click",function(){M(t);let i=a().$index,s=a(3).$implicit,C=a(3);return T(C.removeTableRow(s,i))}),_(2,"mat-icon"),c(3,"delete"),l()()()}if(n&2){let t=a(4).$implicit,e=a(3);r(),S("disabled",!e.canRemoveTableRow(t))}}function eo(n,d){if(n&1&&(_(0,"tr"),A(1,Zi,5,3,"td",150,nt),x(3,to,4,1,"td",151),l()),n&2){let t=a(3).$implicit,e=a(3);r(),V(e.getTableColumns(t)),r(2),u(e.isTableFullyReadonly(t)?-1:3)}}function no(n,d){n&1&&c(0," No data available. ")}function io(n,d){n&1&&c(0,' No rows added. Click "Add Row" to add data. ')}function oo(n,d){if(n&1&&(_(0,"tr")(1,"td",160),x(2,no,1,0)(3,io,1,0),l()()),n&2){let t=a(3).$implicit,e=a(3);r(),Q("colspan",e.isTableFullyReadonly(t)?e.getTableColumns(t).length:e.getTableColumns(t).length+1),r(),u(e.isTableFullyReadonly(t)?2:3)}}function ao(n,d){if(n&1&&(_(0,"span",162),c(1),l()),n&2){let t=a(4).$implicit,e=a(3);r(),tt("",e.getTableRows(t).length," / ",t.tableMaxRows," rows")}}function ro(n,d){if(n&1){let t=D();_(0,"div",152)(1,"button",161),k("click",function(){M(t);let i=a(3).$implicit,s=a(3);return T(s.addTableRow(i))}),_(2,"mat-icon"),c(3,"add"),l(),c(4," Add Row "),l(),x(5,ao,2,2,"span",162),l()}if(n&2){let t=a(3).$implicit,e=a(3);r(),S("disabled",!e.canAddTableRow(t)),r(4),u(t.tableMaxRows?5:-1)}}function lo(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function _o(n,d){if(n&1&&(_(0,"div",147)(1,"label",72),c(2),x(3,Yi,2,0,"span",55),l(),_(4,"div",148)(5,"table",149)(6,"thead")(7,"tr"),A(8,zi,2,3,"th",150,nt),x(10,Ji,2,0,"th",151),l()(),_(11,"tbody"),A(12,eo,4,1,"tr",null,_t),x(14,oo,4,2,"tr"),l()(),x(15,ro,6,2,"div",152),l(),x(16,lo,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(3);w("has-error",e.hasFieldError(t))("readonly-table",e.isFieldReadonly(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(2),w("table-striped",t.tableStriped!==!1)("table-bordered",t.tableBordered!==!1),r(3),V(e.getTableColumns(t)),r(2),u(e.isTableFullyReadonly(t)?-1:10),r(2),V(e.getTableRows(t)),r(2),u(e.getTableRows(t).length===0?14:-1),r(),u(e.isTableFullyReadonly(t)?-1:15),r(),u(e.hasFieldError(t)?16:-1)}}function co(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function so(n,d){if(n&1&&(_(0,"mat-option",69),c(1),l()),n&2){let t=d.$implicit;S("value",t.value),r(),h(t.label)}}function mo(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(4).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function Co(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,co,2,0,"span",55),l(),_(5,"mat-select",68),A(6,so,2,2,"mat-option",69,G),l()(),x(8,mo,2,1,"div",57),l()),n&2){let t=a(3).$implicit,e=a(3);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("placeholder",t.placeholder||"")("disabled",e.isFieldReadonly(t)),r(),V(t.options),r(2),u(e.hasFieldError(t)?8:-1)}}function po(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function uo(n,d){if(n&1&&(_(0,"mat-option",69),c(1),l()),n&2){let t=d.$implicit;S("value",t.value),r(),h(t.label)}}function fo(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(4).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function xo(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,po,2,0,"span",55),l(),_(5,"mat-select",70),A(6,uo,2,2,"mat-option",69,G),l()(),x(8,fo,2,1,"div",57),l()),n&2){let t=a(3).$implicit,e=a(3);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("placeholder",t.placeholder||"")("disabled",e.isFieldReadonly(t)),r(),V(t.options),r(2),u(e.hasFieldError(t)?8:-1)}}function go(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function ho(n,d){if(n&1&&(_(0,"mat-radio-button",74),c(1),l()),n&2){let t=d.$implicit,e=a(4).$implicit,i=a(3);S("value",t.value)("disabled",i.isFieldReadonly(e)),r(),h(t.label)}}function Fo(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(4).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function Eo(n,d){if(n&1&&(_(0,"div",71)(1,"label",72),c(2),x(3,go,2,0,"span",55),l(),_(4,"mat-radio-group",73),A(5,ho,2,3,"mat-radio-button",74,G),l(),x(7,Fo,2,1,"div",57),l()),n&2){let t=a(3).$implicit,e=a(3);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(),w("horizontal-layout",t.optionsLayout==="horizontal"),S("formControlName",t.name)("disabled",e.isFieldReadonly(t)),r(),V(t.options),r(2),u(e.hasFieldError(t)?7:-1)}}function vo(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function So(n,d){if(n&1){let t=D();_(0,"mat-checkbox",78),k("change",function(i){let s=M(t).$implicit,C=a(4).$implicit,E=a(3);return T(E.onCheckboxGroupChange(C.name,s.value,i.checked))}),c(1),l()}if(n&2){let t=d.$implicit,e=a(4).$implicit,i=a(3);S("checked",i.isCheckboxOptionSelected(e.name,t.value))("disabled",i.isFieldReadonly(e)),r(),$(" ",t.label," ")}}function bo(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(4).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function wo(n,d){if(n&1&&(_(0,"div",164)(1,"label",72),c(2),x(3,vo,2,0,"span",55),l(),_(4,"div",165),A(5,So,2,3,"mat-checkbox",77,G),l(),x(7,bo,2,1,"div",57),l()),n&2){let t=a(3).$implicit,e=a(3);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(),w("horizontal-layout",t.optionsLayout==="horizontal"),r(),V(t.options),r(2),u(e.hasFieldError(t)?7:-1)}}function Mo(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function To(n,d){if(n&1&&(_(0,"mat-option",69),c(1),l()),n&2){let t=d.$implicit;S("value",t.value),r(),h(t.label)}}function ko(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(4).$implicit,e=a(3);r(),h(e.getFieldErrorMessage(t))}}function Oo(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,Mo,2,0,"span",55),l(),_(5,"mat-select",68),A(6,To,2,2,"mat-option",69,G),l()(),x(8,ko,2,1,"div",57),l()),n&2){let t=a(3).$implicit,e=a(3);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("placeholder",t.placeholder||"")("disabled",e.isFieldReadonly(t)),r(),V(t.options),r(2),u(e.hasFieldError(t)?8:-1)}}function yo(n,d){if(n&1&&x(0,Co,9,8,"div",35)(1,xo,9,8,"div",35)(2,Eo,8,9,"div",36)(3,wo,8,7,"div",163)(4,Oo,9,8,"div",35),n&2){let t,e=a(2).$implicit;u((t=e.viewType)==="SELECT"?0:t==="MULTISELECT"?1:t==="RADIO"?2:t==="CHECKBOX_GROUP"?3:4)}}function Po(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),l(),N(4,"input",56),l()()),n&2){let t=a(2).$implicit,e=a(3);r(3),h(t.label),r(),S("formControlName",t.name)("placeholder",t.placeholder||"")("readonly",e.isFieldReadonly(t))}}function Ro(n,d){if(n&1&&(_(0,"div",34),x(1,ze,7,8,"div",35)(2,je,7,8,"div",35)(3,Ze,7,8,"div",35)(4,nn,9,8,"div",35)(5,rn,7,8,"div",35)(6,dn,7,8,"div",35)(7,mn,7,8,"div",35)(8,un,10,11,"div",35)(9,gn,7,7,"div",35)(10,vn,9,8,"div",35)(11,Mn,9,8,"div",35)(12,yn,8,9,"div",36)(13,Rn,4,4,"div",35)(14,Wn,8,8,"div",37)(15,Un,7,8,"div",38)(16,Gn,7,8,"div",35)(17,Xn,14,11,"div",35)(18,jn,1,1,"input",39)(19,Qn,4,2,"div",40)(20,ti,3,1,"div",41)(21,ii,5,5,"div",42)(22,ri,10,7,"div",43)(23,ci,8,5,"div",44)(24,Ci,7,7,"div",35)(25,fi,7,12,"div",45)(26,hi,6,7,"div",46)(27,Si,13,7,"div",47)(28,Mi,11,7,"div",48)(29,Oi,24,14,"div",49)(30,Wi,12,9,"div",50)(31,Vi,13,8,"div",51)(32,Hi,19,12,"div",52)(33,_o,17,14,"div",53)(34,yo,5,1)(35,Po,5,4,"div",35),l()),n&2){let t,e=a().$implicit;Z("grid-column","span "+(e.columnSpan||2)),r(),u((t=e.type)==="TEXT"?1:t==="TEXTAREA"?2:t==="NUMBER"?3:t==="CURRENCY"?4:t==="EMAIL"?5:t==="PHONE"?6:t==="PASSWORD"?7:t==="DATE"?8:t==="DATETIME"?9:t==="SELECT"?10:t==="MULTISELECT"?11:t==="RADIO"?12:t==="CHECKBOX"?13:t==="CHECKBOX_GROUP"?14:t==="FILE"?15:t==="URL"?16:t==="USER"?17:t==="HIDDEN"?18:t==="LABEL"?19:t==="DIVIDER"?20:t==="TOGGLE"?21:t==="YES_NO"?22:t==="RATING"?23:t==="TIME"?24:t==="SLIDER"?25:t==="COLOR"?26:t==="IMAGE"?27:t==="SIGNATURE"?28:t==="RICH_TEXT"?29:t==="ICON"?30:t==="BARCODE"?31:t==="LOCATION"?32:t==="TABLE"?33:t==="SQL_OBJECT"?34:35)}}function Io(n,d){if(n&1&&x(0,Ro,36,3,"div",33),n&2){let t=d.$implicit,e=a(3);u(e.isFieldVisible(t)?0:-1)}}function Do(n,d){if(n&1&&(_(0,"mat-card",16)(1,"mat-card-content")(2,"div",32),A(3,Io,1,1,null,null,j),l()()()),n&2){let t=a(2);r(3),V(t.isMultiStep?t.getUngroupedFieldsOnScreen():t.getUngroupedFields())}}function No(n,d){if(n&1&&(_(0,"mat-panel-description"),c(1),l()),n&2){let t=a().$implicit;r(),h(t.description)}}function Wo(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function $o(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function Ao(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,Wo,2,0,"span",55),l(),N(5,"input",56),l(),x(6,$o,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("placeholder",t.placeholder||"")("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?6:-1)}}function Vo(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Lo(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function Uo(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,Vo,2,0,"span",55),l(),N(5,"textarea",168),l(),x(6,Lo,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?6:-1)}}function Bo(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function qo(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function Go(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,Bo,2,0,"span",55),l(),N(5,"input",169),l(),x(6,qo,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?6:-1)}}function Ho(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Yo(n,d){if(n&1&&(_(0,"mat-option",69),c(1),l()),n&2){let t=d.$implicit;S("value",t.value),r(),h(t.label)}}function zo(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function Jo(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,Ho,2,0,"span",55),l(),_(5,"mat-select",73),A(6,Yo,2,2,"mat-option",69,G),l()(),x(8,zo,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("disabled",e.isFieldReadonly(t)),r(),V(t.options),r(2),u(e.hasFieldError(t)?8:-1)}}function Xo(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function jo(n,d){if(n&1&&(_(0,"mat-option",69),c(1),l()),n&2){let t=d.$implicit;S("value",t.value),r(),h(t.label)}}function Ko(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function Qo(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,Xo,2,0,"span",55),l(),_(5,"mat-select",170),A(6,jo,2,2,"mat-option",69,G),l()(),x(8,Ko,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("disabled",e.isFieldReadonly(t)),r(),V(t.options),r(2),u(e.hasFieldError(t)?8:-1)}}function Zo(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function ta(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function ea(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,Zo,2,0,"span",55),l(),_(5,"span",171),c(6,"$\xA0"),l(),N(7,"input",172),l(),x(8,ta,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(3),S("formControlName",t.name)("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?8:-1)}}function na(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function ia(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function oa(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,na,2,0,"span",55),l(),N(5,"input",173),l(),x(6,ia,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?6:-1)}}function aa(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function ra(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function la(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,aa,2,0,"span",55),l(),N(5,"input",174),l(),x(6,ra,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?6:-1)}}function _a(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function da(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function ca(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,_a,2,0,"span",55),l(),N(5,"input",175),l(),x(6,da,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?6:-1)}}function sa(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function ma(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function Ca(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,sa,2,0,"span",55),l(),N(5,"input",64)(6,"mat-datepicker-toggle",65)(7,"mat-datepicker",66,3),l(),x(9,ma,2,1,"div",57),l()),n&2){let t=X(8),e=a(2).$implicit,i=a(4);r(),w("field-invalid",i.hasFieldError(e)),r(2),h(e.label),r(),u(i.isFieldRequired(e)?4:-1),r(),S("matDatepicker",t)("formControlName",e.name)("readonly",i.isFieldReadonly(e)),r(),S("for",t)("disabled",i.isFieldReadonly(e)),r(),S("disabled",i.isFieldReadonly(e)),r(2),u(i.hasFieldError(e)?9:-1)}}function pa(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function ua(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function fa(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,pa,2,0,"span",55),l(),N(5,"input",67),l(),x(6,ua,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?6:-1)}}function xa(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function ga(n,d){if(n&1&&(_(0,"mat-radio-button",69),c(1),l()),n&2){let t=d.$implicit;S("value",t.value),r(),h(t.label)}}function ha(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function Fa(n,d){if(n&1&&(_(0,"div",71)(1,"label",72),c(2),x(3,xa,2,0,"span",55),l(),_(4,"mat-radio-group",73),A(5,ga,2,2,"mat-radio-button",69,G),l(),x(7,ha,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(),w("horizontal-layout",t.optionsLayout==="horizontal"),S("formControlName",t.name)("disabled",e.isFieldReadonly(t)),r(),V(t.options),r(2),u(e.hasFieldError(t)?7:-1)}}function Ea(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function va(n,d){if(n&1&&(_(0,"div",35)(1,"mat-checkbox",73),c(2),l(),x(3,Ea,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);r(),S("formControlName",t.name)("disabled",e.isFieldReadonly(t)),r(),h(t.label),r(),u(e.hasFieldError(t)?3:-1)}}function Sa(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function ba(n,d){if(n&1){let t=D();_(0,"mat-checkbox",78),k("change",function(i){let s=M(t).$implicit,C=a(3).$implicit,E=a(4);return T(E.onCheckboxGroupChange(C.name,s.value,i.checked))}),c(1),l()}if(n&2){let t=d.$implicit,e=a(3).$implicit,i=a(4);S("checked",i.isCheckboxOptionSelected(e.name,t.value))("disabled",i.isFieldReadonly(e)),r(),$(" ",t.label||t.value," ")}}function wa(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function Ma(n,d){if(n&1&&(_(0,"div",75)(1,"label",72),c(2),x(3,Sa,2,0,"span",55),l(),_(4,"div",76),A(5,ba,2,3,"mat-checkbox",77,G),l(),x(7,wa,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(),w("horizontal-layout",t.optionsLayout==="horizontal"),r(),V(t.options||dt(7,Re)),r(2),u(e.hasFieldError(t)?7:-1)}}function Ta(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function ka(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function Oa(n,d){if(n&1){let t=D();_(0,"div",79)(1,"label",72),c(2),x(3,Ta,2,0,"span",55),l(),_(4,"input",80),k("change",function(i){M(t);let s=a(2).$implicit,C=a(4);return T(C.onFileSelect(i,s.name))}),l(),x(5,ka,2,1,"div",57),l()}if(n&2){let t=a(2).$implicit,e=a(4);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(),S("multiple",t.multiple)("disabled",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?5:-1)}}function ya(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Pa(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function Ra(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,ya,2,0,"span",55),l(),N(5,"input",176),l(),x(6,Pa,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?6:-1)}}function Ia(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Da(n,d){if(n&1&&(_(0,"mat-option",69)(1,"div",86)(2,"mat-icon"),c(3,"person"),l(),_(4,"div",87)(5,"span",88),c(6),l(),_(7,"span",89),c(8),l()()()()),n&2){let t=d.$implicit;S("value",t),r(6),tt("",t.firstName," ",t.lastName,""),r(2),h(t.email)}}function Na(n,d){n&1&&(_(0,"mat-option",85),c(1,"No users found"),l())}function Wa(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function $a(n,d){if(n&1){let t=D();_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,Ia,2,0,"span",55),l(),_(5,"mat-icon",60),c(6,"person_search"),l(),_(7,"input",83),k("input",function(i){M(t);let s=a(2).$implicit,C=a(4);return T(C.onUserSearch(i,s.name))}),l(),_(8,"mat-autocomplete",84,4),k("optionSelected",function(i){M(t);let s=a(2).$implicit,C=a(4);return T(C.onUserSelected(i,s.name))}),A(10,Da,9,4,"mat-option",69,j),x(12,Na,2,0,"mat-option",85),l()(),x(13,Wa,2,1,"div",57),l()}if(n&2){let t=X(9),e=a(2).$implicit,i=a(4);r(),w("field-invalid",i.hasFieldError(e)),r(2),h(e.label),r(),u(i.isFieldRequired(e)?4:-1),r(3),S("formControlName",e.name)("matAutocomplete",t)("placeholder",e.placeholder||"Search for a user...")("readonly",i.isFieldReadonly(e)),r(),S("displayWith",i.displayUserFn),r(2),V(i.getFilteredUsers(e.name)),r(2),u(i.getFilteredUsers(e.name).length===0&&i.userSearchTerms[e.name]?12:-1),r(),u(i.hasFieldError(e)?13:-1)}}function Aa(n,d){if(n&1&&N(0,"input",39),n&2){let t=a(2).$implicit;S("formControlName",t.name)}}function Va(n,d){if(n&1&&(_(0,"p",91),c(1),l()),n&2){let t=a(3).$implicit;r(),h(t.defaultValue)}}function La(n,d){if(n&1&&(_(0,"div",40)(1,"p",90),c(2),l(),x(3,Va,2,1,"p",91),l()),n&2){let t=a(2).$implicit;r(2),h(t.label),r(),u(t.defaultValue?3:-1)}}function Ua(n,d){if(n&1&&(_(0,"span",92),c(1),l()),n&2){let t=a(3).$implicit;r(),h(t.label)}}function Ba(n,d){if(n&1&&(_(0,"div",41),N(1,"mat-divider"),x(2,Ua,2,1,"span",92),l()),n&2){let t=a(2).$implicit;r(2),u(t.label?2:-1)}}function qa(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Ga(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function Ha(n,d){if(n&1&&(_(0,"div",42)(1,"mat-slide-toggle",73),c(2),x(3,qa,2,0,"span",55),l(),x(4,Ga,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);r(),S("formControlName",t.name)("disabled",e.isFieldReadonly(t)),r(),$(" ",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(),u(e.hasFieldError(t)?4:-1)}}function Ya(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function za(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function Ja(n,d){if(n&1&&(_(0,"div",93)(1,"label",72),c(2),x(3,Ya,2,0,"span",55),l(),_(4,"mat-button-toggle-group",73)(5,"mat-button-toggle",94),c(6,"Yes"),l(),_(7,"mat-button-toggle",95),c(8,"No"),l()(),x(9,za,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(),S("formControlName",t.name)("disabled",e.isFieldReadonly(t)),r(5),u(e.hasFieldError(t)?9:-1)}}function Xa(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function ja(n,d){if(n&1){let t=D();_(0,"mat-icon",99),k("click",function(){let i=M(t).$implicit,s=a(3).$implicit,C=a(4);return T(C.setRating(s,i))}),c(1),l()}if(n&2){let t=d.$implicit,e=a(3).$implicit,i=a(4);w("filled",i.getRatingValue(e)>=t)("readonly",i.isFieldReadonly(e)),r(),$(" ",i.getRatingValue(e)>=t?"star":"star_border"," ")}}function Ka(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function Qa(n,d){if(n&1&&(_(0,"div",96)(1,"label",72),c(2),x(3,Xa,2,0,"span",55),l(),_(4,"div",97),A(5,ja,2,5,"mat-icon",98,ot),l(),x(7,Ka,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(2),V(e.getStarArray(t)),r(2),u(e.hasFieldError(t)?7:-1)}}function Za(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function tr(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function er(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,Za,2,0,"span",55),l(),N(5,"input",100),l(),x(6,tr,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?6:-1)}}function nr(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function ir(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function or(n,d){if(n&1&&(_(0,"div",101)(1,"label",72),c(2),x(3,nr,2,0,"span",55),l(),_(4,"mat-slider",102),N(5,"input",103),l(),x(6,ir,2,1,"div",57),l()),n&2){let t,e=a(2).$implicit,i=a(4);w("has-error",i.hasFieldError(e)),r(2),tt("",e.label,": ",((t=i.form.get(e.name))==null?null:t.value)||0," "),r(),u(i.isFieldRequired(e)?3:-1),r(),S("min",e.sliderMin||0)("max",e.sliderMax||100)("step",e.sliderStep||1)("discrete",!0)("disabled",i.isFieldReadonly(e)),r(),S("formControlName",e.name),r(),u(i.hasFieldError(e)?6:-1)}}function ar(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function rr(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function lr(n,d){if(n&1&&(_(0,"div",104)(1,"label",72),c(2),x(3,ar,2,0,"span",55),l(),N(4,"input",105),x(5,rr,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(),S("formControlName",t.name)("disabled",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?5:-1)}}function _r(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function dr(n,d){if(n&1&&N(0,"img",110),n&2){let t=a(3).$implicit,e=a(4);S("src",e.getImagePreview(t),lt)}}function cr(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function sr(n,d){if(n&1){let t=D();_(0,"div",106)(1,"label",72),c(2),x(3,_r,2,0,"span",55),l(),_(4,"div",107)(5,"input",108,5),k("change",function(i){M(t);let s=a(2).$implicit,C=a(4);return T(C.onImageSelect(i,s))}),l(),_(7,"button",109),k("click",function(){M(t);let i=X(6);return T(i.click())}),_(8,"mat-icon"),c(9,"add_photo_alternate"),l(),c(10," Select Image "),l(),x(11,dr,1,1,"img",110),l(),x(12,cr,2,1,"div",57),l()}if(n&2){let t=a(2).$implicit,e=a(4);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(4),S("disabled",e.isFieldReadonly(t)),r(4),u(e.getImagePreview(t)?11:-1),r(),u(e.hasFieldError(t)?12:-1)}}function mr(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Cr(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function pr(n,d){if(n&1){let t=D();_(0,"div",111)(1,"label",72),c(2),x(3,mr,2,0,"span",55),l(),_(4,"div",112)(5,"canvas",113),k("mousedown",function(i){M(t);let s=a(2).$implicit,C=a(4);return T(C.startSignature(i,s))})("mousemove",function(i){M(t);let s=a(2).$implicit,C=a(4);return T(C.drawSignature(i,s))})("mouseup",function(){M(t);let i=a(2).$implicit,s=a(4);return T(s.endSignature(i))})("mouseleave",function(){M(t);let i=a(2).$implicit,s=a(4);return T(s.endSignature(i))})("touchstart",function(i){M(t);let s=a(2).$implicit,C=a(4);return T(C.startSignatureTouch(i,s))})("touchmove",function(i){M(t);let s=a(2).$implicit,C=a(4);return T(C.drawSignatureTouch(i,s))})("touchend",function(){M(t);let i=a(2).$implicit,s=a(4);return T(s.endSignature(i))}),l(),_(6,"div",114)(7,"button",115),k("click",function(){M(t);let i=a(2).$implicit,s=a(4);return T(s.clearSignature(i))}),_(8,"mat-icon"),c(9,"clear"),l()()()(),x(10,Cr,2,1,"div",57),l()}if(n&2){let t=a(2).$implicit,e=a(4);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(2),Q("data-field",t.name),r(2),S("disabled",e.isFieldReadonly(t)),r(3),u(e.hasFieldError(t)?10:-1)}}function ur(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function fr(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function xr(n,d){if(n&1){let t=D();_(0,"div",116)(1,"label",72),c(2),x(3,ur,2,0,"span",55),l(),_(4,"div",117)(5,"div",118)(6,"button",119),k("click",function(){M(t);let i=a(6);return T(i.execRichTextCommand("bold"))}),_(7,"mat-icon"),c(8,"format_bold"),l()(),_(9,"button",120),k("click",function(){M(t);let i=a(6);return T(i.execRichTextCommand("italic"))}),_(10,"mat-icon"),c(11,"format_italic"),l()(),_(12,"button",121),k("click",function(){M(t);let i=a(6);return T(i.execRichTextCommand("underline"))}),_(13,"mat-icon"),c(14,"format_underlined"),l()(),N(15,"span",122),_(16,"button",123),k("click",function(){M(t);let i=a(6);return T(i.execRichTextCommand("insertUnorderedList"))}),_(17,"mat-icon"),c(18,"format_list_bulleted"),l()(),_(19,"button",124),k("click",function(){M(t);let i=a(6);return T(i.execRichTextCommand("insertOrderedList"))}),_(20,"mat-icon"),c(21,"format_list_numbered"),l()()(),_(22,"div",125),k("input",function(i){M(t);let s=a(2).$implicit,C=a(4);return T(C.onRichTextInput(i,s))})("blur",function(i){M(t);let s=a(2).$implicit,C=a(4);return T(C.onRichTextBlur(i,s))}),l()(),x(23,fr,2,1,"div",57),l()}if(n&2){let t,e=a(2).$implicit,i=a(4);w("has-error",i.hasFieldError(e)),r(2),$("",e.label," "),r(),u(i.isFieldRequired(e)?3:-1),r(3),S("disabled",i.isFieldReadonly(e)),r(3),S("disabled",i.isFieldReadonly(e)),r(3),S("disabled",i.isFieldReadonly(e)),r(4),S("disabled",i.isFieldReadonly(e)),r(3),S("disabled",i.isFieldReadonly(e)),r(3),w("readonly",i.isFieldReadonly(e)),S("innerHTML",((t=i.form.get(e.name))==null?null:t.value)||"",rt),Q("data-field",e.name),r(),u(i.hasFieldError(e)?23:-1)}}function gr(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function hr(n,d){if(n&1&&(_(0,"mat-icon"),c(1),l(),_(2,"span"),c(3),l()),n&2){let t,e,i=a(3).$implicit,s=a(4);r(),h((t=s.form.get(i.name))==null?null:t.value),r(2),h((e=s.form.get(i.name))==null?null:e.value)}}function Fr(n,d){n&1&&(_(0,"mat-icon"),c(1,"emoji_symbols"),l(),_(2,"span"),c(3,"Select an icon..."),l())}function Er(n,d){if(n&1){let t=D();_(0,"div",134),k("click",function(){let i=M(t).$implicit,s=a(4).$implicit,C=a(4);return T(C.selectIcon(s,i))}),_(1,"mat-icon"),c(2),l()()}if(n&2){let t,e=d.$implicit,i=a(4).$implicit,s=a(4);w("selected",((t=s.form.get(i.name))==null?null:t.value)===e),r(2),h(e)}}function vr(n,d){if(n&1){let t=D();_(0,"div",130)(1,"input",131),k("input",function(i){M(t);let s=a(3).$implicit,C=a(4);return T(C.onIconSearch(i,s))}),l(),_(2,"div",132),A(3,Er,3,3,"div",133,ot),l()()}if(n&2){let t=a(3).$implicit,e=a(4);r(),S("value",e.iconSearchText[t.name]||""),r(2),V(e.getFilteredIcons(t))}}function Sr(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function br(n,d){if(n&1){let t=D();_(0,"div",126)(1,"label",72),c(2),x(3,gr,2,0,"span",55),l(),_(4,"div",127)(5,"div",128),k("click",function(){M(t);let i=a(2).$implicit,s=a(4);return T(s.toggleIconPicker(i))}),x(6,hr,4,2)(7,Fr,4,0),_(8,"mat-icon",129),c(9,"arrow_drop_down"),l()(),x(10,vr,5,1,"div",130),l(),x(11,Sr,2,1,"div",57),l()}if(n&2){let t,e=a(2).$implicit,i=a(4);w("has-error",i.hasFieldError(e)),r(2),$("",e.label," "),r(),u(i.isFieldRequired(e)?3:-1),r(2),w("disabled",i.isFieldReadonly(e)),r(),u((t=i.form.get(e.name))!=null&&t.value?6:7),r(4),u(i.isIconPickerOpen(e)?10:-1),r(),u(i.hasFieldError(e)?11:-1)}}function wr(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Mr(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function Tr(n,d){if(n&1){let t=D();_(0,"div",135)(1,"label",72),c(2),x(3,wr,2,0,"span",55),l(),_(4,"div",136)(5,"mat-form-field",54)(6,"mat-label"),c(7,"Barcode/QR Code"),l(),N(8,"input",137),_(9,"button",138),k("click",function(){M(t);let i=a(2).$implicit,s=a(4);return T(s.scanBarcode(i))}),_(10,"mat-icon"),c(11,"qr_code_scanner"),l()()()(),x(12,Mr,2,1,"div",57),l()}if(n&2){let t=a(2).$implicit,e=a(4);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(5),S("formControlName",t.name)("readonly",e.isFieldReadonly(t)),r(),S("disabled",e.isFieldReadonly(t)),r(3),u(e.hasFieldError(t)?12:-1)}}function kr(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Or(n,d){n&1&&(_(0,"mat-icon",145),c(1,"sync"),l())}function yr(n,d){n&1&&(_(0,"mat-icon"),c(1,"my_location"),l())}function Pr(n,d){if(n&1&&(_(0,"div",146)(1,"mat-icon"),c(2,"place"),l(),_(3,"span"),c(4),l()()),n&2){let t=a(3).$implicit,e=a(4);r(4),h(e.getLocationDisplay(t))}}function Rr(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function Ir(n,d){if(n&1){let t=D();_(0,"div",139)(1,"label",72),c(2),x(3,kr,2,0,"span",55),l(),_(4,"div",140)(5,"div",141)(6,"mat-form-field",142)(7,"mat-label"),c(8,"Latitude"),l(),_(9,"input",143),k("input",function(i){M(t);let s=a(2).$implicit,C=a(4);return T(C.onLocationLatChange(i,s))}),l()(),_(10,"mat-form-field",142)(11,"mat-label"),c(12,"Longitude"),l(),_(13,"input",143),k("input",function(i){M(t);let s=a(2).$implicit,C=a(4);return T(C.onLocationLngChange(i,s))}),l()(),_(14,"button",144),k("click",function(){M(t);let i=a(2).$implicit,s=a(4);return T(s.getCurrentLocation(i))}),x(15,Or,2,0,"mat-icon",145)(16,yr,2,0,"mat-icon"),l()(),x(17,Pr,5,1,"div",146),l(),x(18,Rr,2,1,"div",57),l()}if(n&2){let t=a(2).$implicit,e=a(4);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(6),S("value",e.getLocationLat(t))("readonly",e.isFieldReadonly(t)),r(4),S("value",e.getLocationLng(t))("readonly",e.isFieldReadonly(t)),r(),S("disabled",e.isFieldReadonly(t)||e.isGettingLocation(t)),r(),u(e.isGettingLocation(t)?15:16),r(2),u(e.getLocationDisplay(t)?17:-1),r(),u(e.hasFieldError(t)?18:-1)}}function Dr(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Nr(n,d){if(n&1&&(_(0,"th"),c(1),l()),n&2){let t=d.$implicit;Z("width",t.width?t.width+"px":"auto"),r(),h(t.label)}}function Wr(n,d){n&1&&(_(0,"th",151),c(1,"Actions"),l())}function $r(n,d){if(n&1){let t=D();_(0,"input",156),k("input",function(i){M(t);let s=a().$implicit,C=a().$index,E=a(3).$implicit,f=a(4);return T(f.onTableCellChange(i,E,C,s.name))}),l()}if(n&2){let t=a().$implicit,e=a().$implicit,i=a(3).$implicit,s=a(4);S("value",e[t.name]||"")("readonly",s.isColumnReadonly(i,t))}}function Ar(n,d){if(n&1){let t=D();_(0,"input",157),k("input",function(i){M(t);let s=a().$implicit,C=a().$index,E=a(3).$implicit,f=a(4);return T(f.onTableCellChange(i,E,C,s.name))}),l()}if(n&2){let t=a().$implicit,e=a().$implicit,i=a(3).$implicit,s=a(4);S("value",e[t.name]||"")("readonly",s.isColumnReadonly(i,t))}}function Vr(n,d){if(n&1){let t=D();_(0,"mat-checkbox",78),k("change",function(i){M(t);let s=a().$implicit,C=a().$index,E=a(3).$implicit,f=a(4);return T(f.onTableCheckboxChange(i,E,C,s.name))}),l()}if(n&2){let t=a().$implicit,e=a().$implicit,i=a(3).$implicit,s=a(4);S("checked",e[t.name]==="true"||e[t.name]===!0)("disabled",s.isColumnReadonly(i,t))}}function Lr(n,d){if(n&1){let t=D();_(0,"input",158),k("input",function(i){M(t);let s=a().$implicit,C=a().$index,E=a(3).$implicit,f=a(4);return T(f.onTableCellChange(i,E,C,s.name))}),l()}if(n&2){let t=a().$implicit,e=a().$implicit,i=a(3).$implicit,s=a(4);S("value",e[t.name]||"")("readonly",s.isColumnReadonly(i,t))}}function Ur(n,d){if(n&1&&(_(0,"td"),x(1,$r,1,2,"input",153)(2,Ar,1,2,"input",154)(3,Vr,1,2,"mat-checkbox",77)(4,Lr,1,2,"input",155),l()),n&2){let t,e=d.$implicit;Z("width",e.width?e.width+"px":"auto"),r(),u((t=e.type)==="NUMBER"?1:t==="DATE"?2:t==="CHECKBOX"?3:4)}}function Br(n,d){if(n&1){let t=D();_(0,"td",151)(1,"button",159),k("click",function(){M(t);let i=a().$index,s=a(3).$implicit,C=a(4);return T(C.removeTableRow(s,i))}),_(2,"mat-icon"),c(3,"delete"),l()()()}if(n&2){let t=a(4).$implicit,e=a(4);r(),S("disabled",!e.canRemoveTableRow(t))}}function qr(n,d){if(n&1&&(_(0,"tr"),A(1,Ur,5,3,"td",150,nt),x(3,Br,4,1,"td",151),l()),n&2){let t=a(3).$implicit,e=a(4);r(),V(e.getTableColumns(t)),r(2),u(e.isTableFullyReadonly(t)?-1:3)}}function Gr(n,d){n&1&&c(0," No data available. ")}function Hr(n,d){n&1&&c(0,' No rows added. Click "Add Row" to add data. ')}function Yr(n,d){if(n&1&&(_(0,"tr")(1,"td",160),x(2,Gr,1,0)(3,Hr,1,0),l()()),n&2){let t=a(3).$implicit,e=a(4);r(),Q("colspan",e.isTableFullyReadonly(t)?e.getTableColumns(t).length:e.getTableColumns(t).length+1),r(),u(e.isTableFullyReadonly(t)?2:3)}}function zr(n,d){if(n&1&&(_(0,"span",162),c(1),l()),n&2){let t=a(4).$implicit,e=a(4);r(),tt("",e.getTableRows(t).length," / ",t.tableMaxRows," rows")}}function Jr(n,d){if(n&1){let t=D();_(0,"div",152)(1,"button",161),k("click",function(){M(t);let i=a(3).$implicit,s=a(4);return T(s.addTableRow(i))}),_(2,"mat-icon"),c(3,"add"),l(),c(4," Add Row "),l(),x(5,zr,2,2,"span",162),l()}if(n&2){let t=a(3).$implicit,e=a(4);r(),S("disabled",!e.canAddTableRow(t)),r(4),u(t.tableMaxRows?5:-1)}}function Xr(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function jr(n,d){if(n&1&&(_(0,"div",147)(1,"label",72),c(2),x(3,Dr,2,0,"span",55),l(),_(4,"div",148)(5,"table",149)(6,"thead")(7,"tr"),A(8,Nr,2,3,"th",150,nt),x(10,Wr,2,0,"th",151),l()(),_(11,"tbody"),A(12,qr,4,1,"tr",null,_t),x(14,Yr,4,2,"tr"),l()(),x(15,Jr,6,2,"div",152),l(),x(16,Xr,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);w("has-error",e.hasFieldError(t))("readonly-table",e.isFieldReadonly(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(2),w("table-striped",t.tableStriped!==!1)("table-bordered",t.tableBordered!==!1),r(3),V(e.getTableColumns(t)),r(2),u(e.isTableFullyReadonly(t)?-1:10),r(2),V(e.getTableRows(t)),r(2),u(e.getTableRows(t).length===0?14:-1),r(),u(e.isTableFullyReadonly(t)?-1:15),r(),u(e.hasFieldError(t)?16:-1)}}function Kr(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function Qr(n,d){if(n&1&&(_(0,"mat-option",69),c(1),l()),n&2){let t=d.$implicit;S("value",t.value),r(),h(t.label)}}function Zr(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(4).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function tl(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,Kr,2,0,"span",55),l(),_(5,"mat-select",68),A(6,Qr,2,2,"mat-option",69,G),l()(),x(8,Zr,2,1,"div",57),l()),n&2){let t=a(3).$implicit,e=a(4);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("placeholder",t.placeholder||"")("disabled",e.isFieldReadonly(t)),r(),V(t.options),r(2),u(e.hasFieldError(t)?8:-1)}}function el(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function nl(n,d){if(n&1&&(_(0,"mat-option",69),c(1),l()),n&2){let t=d.$implicit;S("value",t.value),r(),h(t.label)}}function il(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(4).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function ol(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,el,2,0,"span",55),l(),_(5,"mat-select",70),A(6,nl,2,2,"mat-option",69,G),l()(),x(8,il,2,1,"div",57),l()),n&2){let t=a(3).$implicit,e=a(4);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("placeholder",t.placeholder||"")("disabled",e.isFieldReadonly(t)),r(),V(t.options),r(2),u(e.hasFieldError(t)?8:-1)}}function al(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function rl(n,d){if(n&1&&(_(0,"mat-radio-button",74),c(1),l()),n&2){let t=d.$implicit,e=a(4).$implicit,i=a(4);S("value",t.value)("disabled",i.isFieldReadonly(e)),r(),h(t.label)}}function ll(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(4).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function _l(n,d){if(n&1&&(_(0,"div",71)(1,"label",72),c(2),x(3,al,2,0,"span",55),l(),_(4,"mat-radio-group",73),A(5,rl,2,3,"mat-radio-button",74,G),l(),x(7,ll,2,1,"div",57),l()),n&2){let t=a(3).$implicit,e=a(4);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(),w("horizontal-layout",t.optionsLayout==="horizontal"),S("formControlName",t.name)("disabled",e.isFieldReadonly(t)),r(),V(t.options),r(2),u(e.hasFieldError(t)?7:-1)}}function dl(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function cl(n,d){if(n&1){let t=D();_(0,"mat-checkbox",78),k("change",function(i){let s=M(t).$implicit,C=a(4).$implicit,E=a(4);return T(E.onCheckboxGroupChange(C.name,s.value,i.checked))}),c(1),l()}if(n&2){let t=d.$implicit,e=a(4).$implicit,i=a(4);S("checked",i.isCheckboxOptionSelected(e.name,t.value))("disabled",i.isFieldReadonly(e)),r(),$(" ",t.label," ")}}function sl(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(4).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function ml(n,d){if(n&1&&(_(0,"div",164)(1,"label",72),c(2),x(3,dl,2,0,"span",55),l(),_(4,"div",165),A(5,cl,2,3,"mat-checkbox",77,G),l(),x(7,sl,2,1,"div",57),l()),n&2){let t=a(3).$implicit,e=a(4);w("has-error",e.hasFieldError(t)),r(2),$("",t.label," "),r(),u(e.isFieldRequired(t)?3:-1),r(),w("horizontal-layout",t.optionsLayout==="horizontal"),r(),V(t.options),r(2),u(e.hasFieldError(t)?7:-1)}}function Cl(n,d){n&1&&(_(0,"span",55),c(1,"*"),l())}function pl(n,d){if(n&1&&(_(0,"mat-option",69),c(1),l()),n&2){let t=d.$implicit;S("value",t.value),r(),h(t.label)}}function ul(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(4).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function fl(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),x(4,Cl,2,0,"span",55),l(),_(5,"mat-select",68),A(6,pl,2,2,"mat-option",69,G),l()(),x(8,ul,2,1,"div",57),l()),n&2){let t=a(3).$implicit,e=a(4);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),u(e.isFieldRequired(t)?4:-1),r(),S("formControlName",t.name)("placeholder",t.placeholder||"")("disabled",e.isFieldReadonly(t)),r(),V(t.options),r(2),u(e.hasFieldError(t)?8:-1)}}function xl(n,d){if(n&1&&x(0,tl,9,8,"div",35)(1,ol,9,8,"div",35)(2,_l,8,9,"div",36)(3,ml,8,7,"div",163)(4,fl,9,8,"div",35),n&2){let t,e=a(2).$implicit;u((t=e.viewType)==="SELECT"?0:t==="MULTISELECT"?1:t==="RADIO"?2:t==="CHECKBOX_GROUP"?3:4)}}function gl(n,d){if(n&1&&(_(0,"div",57),c(1),l()),n&2){let t=a(3).$implicit,e=a(4);r(),h(e.getFieldErrorMessage(t))}}function hl(n,d){if(n&1&&(_(0,"div",35)(1,"mat-form-field",54)(2,"mat-label"),c(3),l(),N(4,"input",177),l(),x(5,gl,2,1,"div",57),l()),n&2){let t=a(2).$implicit,e=a(4);r(),w("field-invalid",e.hasFieldError(t)),r(2),h(t.label),r(),S("formControlName",t.name)("readonly",e.isFieldReadonly(t)),r(),u(e.hasFieldError(t)?5:-1)}}function Fl(n,d){if(n&1&&(_(0,"div",34),x(1,Ao,7,8,"div",35)(2,Uo,7,7,"div",35)(3,Go,7,7,"div",35)(4,Jo,9,7,"div",35)(5,Qo,9,7,"div",35)(6,ea,9,7,"div",35)(7,oa,7,7,"div",35)(8,la,7,7,"div",35)(9,ca,7,7,"div",35)(10,Ca,10,11,"div",35)(11,fa,7,7,"div",35)(12,Fa,8,9,"div",36)(13,va,4,4,"div",35)(14,Ma,8,8,"div",37)(15,Oa,6,7,"div",38)(16,Ra,7,7,"div",35)(17,$a,14,11,"div",35)(18,Aa,1,1,"input",39)(19,La,4,2,"div",40)(20,Ba,3,1,"div",41)(21,Ha,5,5,"div",42)(22,Ja,10,7,"div",43)(23,Qa,8,5,"div",44)(24,er,7,7,"div",35)(25,or,7,12,"div",45)(26,lr,6,7,"div",46)(27,sr,13,7,"div",47)(28,pr,11,7,"div",48)(29,xr,24,14,"div",49)(30,br,12,9,"div",50)(31,Tr,13,8,"div",51)(32,Ir,19,12,"div",52)(33,jr,17,14,"div",53)(34,xl,5,1)(35,hl,6,6,"div",35),l()),n&2){let t,e=a().$implicit;Z("grid-column","span "+(e.columnSpan||2)),r(),u((t=e.type)==="TEXT"?1:t==="TEXTAREA"?2:t==="NUMBER"?3:t==="SELECT"?4:t==="MULTISELECT"?5:t==="CURRENCY"?6:t==="EMAIL"?7:t==="PHONE"?8:t==="PASSWORD"?9:t==="DATE"?10:t==="DATETIME"?11:t==="RADIO"?12:t==="CHECKBOX"?13:t==="CHECKBOX_GROUP"?14:t==="FILE"?15:t==="URL"?16:t==="USER"?17:t==="HIDDEN"?18:t==="LABEL"?19:t==="DIVIDER"?20:t==="TOGGLE"?21:t==="YES_NO"?22:t==="RATING"?23:t==="TIME"?24:t==="SLIDER"?25:t==="COLOR"?26:t==="IMAGE"?27:t==="SIGNATURE"?28:t==="RICH_TEXT"?29:t==="ICON"?30:t==="BARCODE"?31:t==="LOCATION"?32:t==="TABLE"?33:t==="SQL_OBJECT"?34:35)}}function El(n,d){if(n&1&&x(0,Fl,36,3,"div",33),n&2){let t=d.$implicit,e=a(4);u(e.isFieldVisible(t)?0:-1)}}function vl(n,d){if(n&1&&(_(0,"mat-card",166)(1,"mat-expansion-panel",167)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),c(4),l(),x(5,No,2,1,"mat-panel-description"),l(),_(6,"div",32),A(7,El,1,1,null,null,j),l()()()),n&2){let t=d.$implicit,e=a(3);r(),S("expanded",!t.collapsed)("hideToggle",!t.collapsible),r(3),h(t.title),r(),u(t.description?5:-1),r(2),V(e.getFieldsInGroup(t.id))}}function Sl(n,d){if(n&1&&A(0,vl,9,4,"mat-card",166,j),n&2){let t=a(2);V(t.isMultiStep?t.getFieldGroupsOnScreen():t.fieldGroups)}}function bl(n,d){if(n&1){let t=D();_(0,"div",182)(1,"mat-icon"),c(2,"description"),l(),_(3,"span"),c(4),l(),_(5,"span",183),c(6),l(),_(7,"button",9),k("click",function(){let i=M(t).$index,s=a(4);return T(s.removeAttachment(i))}),_(8,"mat-icon"),c(9,"close"),l()()()}if(n&2){let t=d.$implicit,e=a(4);r(4),h(t.name),r(2),$("(",e.formatFileSize(t.size),")")}}function wl(n,d){if(n&1&&(_(0,"div",181),A(1,bl,10,2,"div",182,nt),l()),n&2){let t=a(3);r(),V(t.attachments)}}function Ml(n,d){if(n&1){let t=D();_(0,"mat-card",16)(1,"mat-card-header")(2,"mat-card-title"),c(3,"Attachments"),l(),_(4,"mat-card-subtitle"),c(5,"Upload supporting documents"),l()(),_(6,"mat-card-content")(7,"div",178)(8,"input",179,6),k("change",function(i){M(t);let s=a(2);return T(s.onAttachmentSelect(i))}),l(),_(10,"button",180),k("click",function(){M(t);let i=X(9);return T(i.click())}),_(11,"mat-icon"),c(12,"attach_file"),l(),c(13," Add Attachments "),l(),x(14,wl,3,0,"div",181),l()()()}if(n&2){let t=a(2);r(14),u(t.attachments.length>0?14:-1)}}function Tl(n,d){n&1&&(_(0,"th",27),c(1,"Screen"),l())}function kl(n,d){if(n&1&&(_(0,"td",27),c(1),l()),n&2){let t=a().$implicit,e=a(3);r(),h(e.getFieldScreenName(t))}}function Ol(n,d){if(n&1&&(_(0,"tr"),x(1,kl,2,1,"td",27),_(2,"td",28),c(3),l(),_(4,"td",29),c(5),l()()),n&2){let t=d.$implicit,e=a(3);r(),u(e.isMultiStep?1:-1),r(2),h(t.label),r(2),h(e.getFieldDisplayValue(t))}}function yl(n,d){if(n&1&&(_(0,"mat-card",15)(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon"),c(4,"summarize"),l(),c(5," Summary "),l()(),_(6,"mat-card-content")(7,"table",26)(8,"thead")(9,"tr"),x(10,Tl,2,0,"th",27),_(11,"th",28),c(12,"Field"),l(),_(13,"th",29),c(14,"Value"),l()()(),_(15,"tbody"),A(16,Ol,6,3,"tr",null,j),l()()()()),n&2){let t=a(2);r(10),u(t.isMultiStep?10:-1),r(6),V(t.getSummaryFields())}}function Pl(n,d){n&1&&N(0,"mat-spinner",186)}function Rl(n,d){n&1&&c(0," Submit for Approval ")}function Il(n,d){if(n&1){let t=D();_(0,"div",17)(1,"button",184),k("click",function(){M(t);let i=a(2);return T(i.goBack())}),c(2,"Cancel"),l(),_(3,"button",109),k("click",function(){M(t);let i=a(2);return T(i.saveDraft())}),c(4," Save Draft "),l(),_(5,"button",185),x(6,Pl,1,0,"mat-spinner",186)(7,Rl,1,0),l()()}if(n&2){let t=a(2);r(3),S("disabled",t.submitting),r(2),S("disabled",t.submitting),r(),u(t.submitting?6:7)}}function Dl(n,d){if(n&1){let t=D();_(0,"button",184),k("click",function(){M(t);let i=a(3);return T(i.goBack())}),c(1,"Cancel"),l(),N(2,"span",187),_(3,"button",188),k("click",function(){M(t);let i=a(3);return T(i.goToNextScreen())}),c(4," Next "),_(5,"mat-icon"),c(6,"arrow_forward"),l()()}}function Nl(n,d){n&1&&N(0,"mat-spinner",186)}function Wl(n,d){n&1&&c(0," Submit for Approval ")}function $l(n,d){if(n&1){let t=D();_(0,"button",180),k("click",function(){M(t);let i=a(3);return T(i.goToPreviousScreen())}),_(1,"mat-icon"),c(2,"arrow_back"),l(),c(3," Back "),l(),N(4,"span",187),_(5,"button",184),k("click",function(){M(t);let i=a(3);return T(i.goBack())}),c(6,"Cancel"),l(),_(7,"button",109),k("click",function(){M(t);let i=a(3);return T(i.saveDraft())}),c(8," Save Draft "),l(),_(9,"button",185),x(10,Nl,1,0,"mat-spinner",186)(11,Wl,1,0),l()}if(n&2){let t=a(3);r(7),S("disabled",t.submitting),r(2),S("disabled",t.submitting),r(),u(t.submitting?10:11)}}function Al(n,d){if(n&1){let t=D();_(0,"button",180),k("click",function(){M(t);let i=a(3);return T(i.goToPreviousScreen())}),_(1,"mat-icon"),c(2,"arrow_back"),l(),c(3," Back "),l(),N(4,"span",187),_(5,"button",188),k("click",function(){M(t);let i=a(3);return T(i.goToNextScreen())}),c(6," Next "),_(7,"mat-icon"),c(8,"arrow_forward"),l()()}}function Vl(n,d){if(n&1&&(_(0,"div",18),x(1,Dl,7,0)(2,$l,12,3)(3,Al,9,0),l()),n&2){let t=a(2);r(),u(t.isFirstScreen?1:t.isLastScreen?2:3)}}function Ll(n,d){if(n&1){let t=D();_(0,"form",14),k("ngSubmit",function(){M(t);let i=a();return T(i.onSubmit())}),x(1,Ue,4,1)(2,qe,14,0,"mat-card",15)(3,Ge,9,0,"mat-card",15)(4,Do,5,0,"mat-card",16)(5,Sl,2,0)(6,Ml,15,1,"mat-card",16)(7,yl,18,1,"mat-card",15)(8,Il,8,3,"div",17)(9,Vl,4,1,"div",18),l()}if(n&2){let t=a();S("formGroup",t.form),r(),u(t.isMultiStep?1:-1),r(),u(t.isSummaryScreen&&t.hasSummaryFields()?2:t.isSummaryScreen&&!t.hasSummaryFields()?3:-1),r(2),u(!t.isSummaryScreen&&(t.isMultiStep?t.getUngroupedFieldsOnScreen().length>0:t.getUngroupedFields().length>0)?4:-1),r(),u(t.isSummaryScreen?-1:5),r(),u(!t.isSummaryScreen&&t.workflow.requireAttachments?6:-1),r(),u(!t.isMultiStep&&(t.workflow!=null&&t.workflow.showSummary)&&t.hasSummaryFields()?7:-1),r(),u(t.isMultiStep?9:8)}}var N_=(()=>{class n{fb;userService;workflowService;authService;router;route;snackBar;cdr;workflow=null;form;loading=!0;submitting=!1;workflowCode="";fields=[];fieldGroups=[];screens=[];currentScreenIndex=0;selectedFiles={};attachments=[];instanceId=null;isEditMode=!1;existingFieldValues={};checkboxGroupValues={};calculatedFields=new Map;subscriptions=[];timeBasedFields=new Map;validationErrors={};hasAttemptedSubmit=!1;pendingUniqueChecks=new Map;uniqueCheckCache=new Map;allUsers=[];filteredUsersMap={};userSearchTerms={};selectedUsers={};constructor(t,e,i,s,C,E,f,P){this.fb=t,this.userService=e,this.workflowService=i,this.authService=s,this.router=C,this.route=E,this.snackBar=f,this.cdr=P}ngOnInit(){this.workflowCode=this.route.snapshot.paramMap.get("workflowCode")||"",this.instanceId=this.route.snapshot.paramMap.get("instanceId")||null,this.isEditMode=!!this.instanceId,this.loadWorkflow(),this.loadUsers()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}loadWorkflow(){this.workflowService.getWorkflowByCode(this.workflowCode).subscribe({next:t=>{t.success?(this.workflow=t.data,this.isEditMode&&this.instanceId?this.loadInstance():(this.loading=!1,this.initializeForm())):this.loading=!1},error:()=>{this.loading=!1,this.snackBar.open("Failed to load workflow","Close",{duration:3e3})}})}loadInstance(){this.workflowService.getInstance(this.instanceId).subscribe({next:t=>{if(t.success&&t.data&&t.data.fieldValues){let e=t.data.fieldValues;Array.isArray(e)?e.forEach(i=>{this.existingFieldValues[i.fieldName]=i.value}):typeof e=="object"&&Object.keys(e).forEach(i=>{this.existingFieldValues[i]=e[i]})}this.loading=!1,this.initializeForm()},error:()=>{this.loading=!1,this.snackBar.open("Failed to load instance","Close",{duration:3e3})}})}initializeForm(){if(!this.workflow?.forms?.[0]){console.warn("No workflow forms found for initialization");return}this.calculatedFields.clear(),this.timeBasedFields.clear();let t=this.workflow.forms[0],e=t.fieldGroups||[],i=new Map;e.forEach(f=>{f.fields&&Array.isArray(f.fields)&&f.fields.forEach(P=>{let o=P.id?.toString();o&&i.set(o,f.id?.toString())})});let s=new Map;(t.fields||[]).forEach(f=>{let P=f.id?.toString();if(P){let o=f.fieldGroupId?.toString()||i.get(P)||null;s.set(P,K(J({},f),{fieldGroupId:o}))}}),e.forEach(f=>{f.fields&&Array.isArray(f.fields)&&f.fields.forEach(P=>{let o=P.id?.toString();o&&!s.has(o)&&s.set(o,K(J({},P),{fieldGroupId:f.id?.toString()}))})}),this.fields=Array.from(s.values()).map(f=>{let P=(f.type||f.fieldType||"TEXT").toString().toUpperCase();return K(J({},f),{type:P,fieldType:P,required:f.required??f.isMandatory??!1,hidden:f.hidden??f.isHidden??!1,readOnly:f.readOnly??f.isReadonly??!1})}),this.fieldGroups=e,this.screens=(t.screens||[]).sort((f,P)=>(f.displayOrder||0)-(P.displayOrder||0)),this.currentScreenIndex=0;let C=new Set(this.fields.map(f=>f.name)),E={};this.fields.forEach(f=>{let P=[];f.required&&P.push(ct.required),f.type==="EMAIL"&&P.push(ct.email);let o="";if(this.isEditMode&&this.existingFieldValues[f.name]!==void 0){if(o=this.existingFieldValues[f.name],f.type==="CHECKBOX")o=o==="true"||o===!0;else if(f.type==="NUMBER"||f.type==="CURRENCY")o=Number(o)||null;else if(f.type==="DATE"||f.type==="DATETIME")if(o){let v=o instanceof Date?o:new Date(o);isNaN(v.getTime())?o=null:o=f.type==="DATETIME"?this.formatDateTime(v):this.formatDate(v)}else o=null}else if(f.defaultValue){let v=this.extractFieldDependencies(f.defaultValue,C);if(v.length>0)this.calculatedFields.set(f.name,{expression:f.defaultValue,fieldType:f.type,dependencies:v}),o="";else if(this.isTimeBasedFunction(f.defaultValue)&&!this.isEditMode){if(this.timeBasedFields.set(f.name,{expression:f.defaultValue,fieldType:f.type}),o=this.evaluateDefaultValue(f.defaultValue,f.type),o instanceof Date)f.type==="DATETIME"?o=this.formatDateTime(o):f.type==="DATE"&&(o=this.formatDate(o));else if((f.type==="DATE"||f.type==="DATETIME")&&o){let g=new Date(o);isNaN(g.getTime())||(o=f.type==="DATETIME"?this.formatDateTime(g):this.formatDate(g))}}else if(o=this.evaluateDefaultValue(f.defaultValue,f.type),f.type==="CHECKBOX")o=o==="true"||o===!0||!1;else if(f.type==="NUMBER"||f.type==="CURRENCY")o=o?Number(o):null;else if(f.type==="DATE"||f.type==="DATETIME"){if(o instanceof Date)o=f.type==="DATETIME"?this.formatDateTime(o):this.formatDate(o);else if(o){let g=new Date(o);isNaN(g.getTime())||(o=f.type==="DATETIME"?this.formatDateTime(g):this.formatDate(g))}}}E[f.name]=[o,P]}),this.form=this.fb.group(E),this.setupCalculatedFieldSubscriptions(),this.calculatedFields.forEach((f,P)=>{this.recalculateField(P,f)}),this.setupValidationSubscriptions()}extractFieldDependencies(t,e){let i=[],s=t.match(/^([A-Z_]+)\((.*)\)$/i);if(!s)return i;let C=s[2];return C&&this.parseArgsRaw(C).forEach(f=>{let P=f.trim().replace(/^["']|["']$/g,"");!f.startsWith('"')&&!f.startsWith("'")&&e.has(P)&&i.push(P)}),i}parseArgsRaw(t){let e=[],i="",s=!1,C="";for(let E of t)(E==='"'||E==="'")&&!s?(s=!0,C=E,i+=E):E===C&&s?(s=!1,i+=E,C=""):E===","&&!s?(e.push(i.trim()),i=""):i+=E;return i&&e.push(i.trim()),e}setupCalculatedFieldSubscriptions(){this.calculatedFields.forEach((t,e)=>{let i=t.dependencies.map(s=>this.form.get(s)).filter(s=>s!==null);if(i.length>0){let C=mt(...i.map(E=>E.valueChanges)).pipe(at(100)).subscribe(()=>{this.recalculateField(e,t)});this.subscriptions.push(C)}})}setupValidationSubscriptions(){let t=this.form.valueChanges.pipe(at(300)).subscribe(e=>{this.fields.forEach(i=>{if(i.validation&&/Unique\(/i.test(i.validation)){let s=e[i.name],C=[];this.uniqueCheckCache.forEach((E,f)=>{f.startsWith(`${i.name}:`)&&f!==`${i.name}:${s}`&&C.push(f)}),C.forEach(E=>this.uniqueCheckCache.delete(E))}}),this.clearValidationErrors()});this.subscriptions.push(t)}clearValidationErrors(){this.hasAttemptedSubmit=!1,this.fields.forEach(t=>{if(this.validationErrors[t.name]){this.validationErrors[t.name]=null;let i=this.form.get(t.name);if(i&&i.errors){let e=i.errors,{customValidation:s}=e,C=it(e,["customValidation"]);i.setErrors(Object.keys(C).length>0?C:null)}}})}validateAllFields(){this.fields.forEach(t=>{if(t.validation){let i=this.evaluateValidation(t);this.validationErrors[t.name]=i;let s=this.form.get(t.name);if(s){if(i)s.setErrors(K(J({},s.errors),{customValidation:i})),s.markAsTouched();else if(s.errors){let e=s.errors,{customValidation:C}=e,E=it(e,["customValidation"]);s.setErrors(Object.keys(E).length>0?E:null)}}}}),this.cdr.detectChanges()}evaluateValidation(t){let e=t.validation;if(!e)return null;try{let i=e.split(/\s+AND\s+/i);for(let s of i){let C=s.trim(),E=this.evaluateSingleValidation(C,t);if(E)return E}return null}catch{return null}}evaluateSingleValidation(t,e){let i=this.form.get(e.name)?.value,s=e.label||e.name,C=t.match(/^Required\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(C){let W=C[1]||C[2];return i==null||i===""||typeof i=="string"&&i.trim()===""?W||`${s} is required`:null}let E=t.match(/^Unique\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(E){let W=E[1]||E[2];if(i==null||i===""||typeof i=="string"&&i.trim()==="")return null;let I=`${e.name}:${i}`;return this.uniqueCheckCache.has(I)?this.uniqueCheckCache.get(I)?null:W||`${s} value already exists`:(this.pendingUniqueChecks.get(I)||(this.pendingUniqueChecks.set(I,!0),this.checkUniqueField(e.name,String(i),W||`${s} value already exists`)),null)}let f=t.match(/^ValidWhen\(\s*(.+?)(?:\s*,\s*(?:"([^"]*)"|'([^']*)'))?\s*\)$/i);if(f){let W=f[1].trim(),I=f[2]||f[3],L=this.evaluateCondition(W);return L===!0||L==="true"||L===0||L==="0"?null:I||`${s} validation failed`}let P=t.match(/^InvalidWhen\(\s*(.+?)(?:\s*,\s*(?:"([^"]*)"|'([^']*)'))?\s*\)$/i);if(P){let W=P[1].trim(),I=P[2]||P[3],L=this.evaluateCondition(W);return L===!0||L==="true"||typeof L=="number"&&L!==0||typeof L=="string"&&L!=="0"&&L!=="false"&&L!==""?I||`${s} validation failed`:null}let o=t.match(/^MinLength\(\s*(\d+)(?:\s*,\s*(?:"([^"]*)"|'([^']*)'))?\s*\)$/i);if(o){let W=parseInt(o[1],10),I=o[2]||o[3];return(i?String(i):"").length<W?I||`${s} must be at least ${W} characters`:null}let v=t.match(/^MaxLength\(\s*(\d+)(?:\s*,\s*(?:"([^"]*)"|'([^']*)'))?\s*\)$/i);if(v){let W=parseInt(v[1],10),I=v[2]||v[3];return(i?String(i):"").length>W?I||`${s} must be at most ${W} characters`:null}let O=t.match(/^Min\(\s*(-?[\d.]+)(?:\s*,\s*(?:"([^"]*)"|'([^']*)'))?\s*\)$/i);if(O){let W=parseFloat(O[1]),I=O[2]||O[3],L=parseFloat(i);return!isNaN(L)&&L<W?I||`${s} must be at least ${W}`:null}let g=t.match(/^Max\(\s*(-?[\d.]+)(?:\s*,\s*(?:"([^"]*)"|'([^']*)'))?\s*\)$/i);if(g){let W=parseFloat(g[1]),I=g[2]||g[3],L=parseFloat(i);return!isNaN(L)&&L>W?I||`${s} must be at most ${W}`:null}let B=t.match(/^Pattern\(\s*\/(.+)\/([gimsuy]*)(?:\s*,\s*(?:"([^"]*)"|'([^']*)'))?\s*\)$/i);if(B){let W=B[1],I=B[2]||"",L=B[3]||B[4];try{let Y=new RegExp(W,I),st=i?String(i):"";if(st&&!Y.test(st))return L||`${s} format is invalid`}catch{}return null}let y=t.match(/^Email\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(y){let W=y[1]||y[2],I=i?String(i):"";return I&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(I)?W||`${s} must be a valid email address`:null}let q=t.match(/^Phone\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(q){let W=q[1]||q[2],I=i?String(i):"";return I&&!/^[\+]?[(]?[0-9]{1,4}[)]?[-\s\.]?[(]?[0-9]{1,4}[)]?[-\s\.]?[0-9]{1,9}$/.test(I.replace(/\s/g,""))?W||`${s} must be a valid phone number`:null}let et=t.match(/^URL\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(et){let W=et[1]||et[2],I=i?String(i):"";try{I&&new URL(I)}catch{return W||`${s} must be a valid URL`}return null}let m=t.match(/^Range\(\s*(-?[\d.]+)\s*,\s*(-?[\d.]+)(?:\s*,\s*(?:"([^"]*)"|'([^']*)'))?\s*\)$/i);if(m){let W=parseFloat(m[1]),I=parseFloat(m[2]),L=m[3]||m[4],Y=parseFloat(i);return!isNaN(Y)&&(Y<W||Y>I)?L||`${s} must be between ${W} and ${I}`:null}let p=t.match(/^LengthRange\(\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(?:"([^"]*)"|'([^']*)'))?\s*\)$/i);if(p){let W=parseInt(p[1],10),I=parseInt(p[2],10),L=p[3]||p[4],Y=i?String(i):"";return Y.length<W||Y.length>I?L||`${s} must be between ${W} and ${I} characters`:null}let F=t.match(/^Digits\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(F){let W=F[1]||F[2],I=i?String(i):"";return I&&!/^\d+$/.test(I)?W||`${s} must contain only digits`:null}let b=t.match(/^Alpha\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(b){let W=b[1]||b[2],I=i?String(i):"";return I&&!/^[a-zA-Z]+$/.test(I)?W||`${s} must contain only letters`:null}let R=t.match(/^AlphaNumeric\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(R){let W=R[1]||R[2],I=i?String(i):"";return I&&!/^[a-zA-Z0-9]+$/.test(I)?W||`${s} must contain only letters and numbers`:null}let U=t.match(/^Date\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(U){let W=U[1]||U[2],I=i?String(i):"";return I&&isNaN(Date.parse(I))?W||`${s} must be a valid date`:null}let H=t.match(/^CreditCard\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(H){let W=H[1]||H[2],I=i?String(i).replace(/[\s-]/g,""):"";return I&&!this.isValidCreditCard(I)?W||`${s} must be a valid credit card number`:null}return null}isValidCreditCard(t){if(!/^\d{13,19}$/.test(t))return!1;let e=0,i=!1;for(let s=t.length-1;s>=0;s--){let C=parseInt(t[s],10);i&&(C*=2,C>9&&(C-=9)),e+=C,i=!i}return e%10===0}evaluateCondition(t){if(/\s+OR\s+/i.test(t)){let s=t.split(/\s+OR\s+/i);for(let C of s)if(this.evaluateCondition(C.trim()))return!0;return!1}if(/\s+AND\s+/i.test(t)){let s=t.split(/\s+AND\s+/i);for(let C of s)if(!this.evaluateCondition(C.trim()))return!1;return!0}let e=t.match(/^(.+?)\s*(>=|<=|!=|=|>|<)\s*(.+)$/);if(e){let s=e[1].trim(),C=e[2],E=e[3].trim(),f=this.resolveValue(s),P=this.resolveValue(E);switch(C){case"=":return f==P;case"!=":return f!=P;case">":return Number(f)>Number(P);case"<":return Number(f)<Number(P);case">=":return Number(f)>=Number(P);case"<=":return Number(f)<=Number(P)}}return this.resolveValue(t)}resolveValue(t){let e=t.trim();if(e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"))return e.slice(1,-1);if(!isNaN(Number(e)))return Number(e);if(e.toLowerCase()==="true")return!0;if(e.toLowerCase()==="false")return!1;if(this.isFunctionExpression(e))return this.evaluateFunction(e,"TEXT");let i=this.form.get(e);return i?i.value:this.containsOperatorsOrFunctions(e)?this.evaluateArithmeticExpression(e):e}containsOperatorsOrFunctions(t){return!!(/[+\-*\/]/.test(t)||/[A-Z_]+\(/i.test(t))}evaluateArithmeticExpression(t){let e=t,i=/\b([a-zA-Z_][a-zA-Z0-9_]*)\b/g,s,C=[];for(;(s=i.exec(t))!==null;){let f=s[1];if(this.isFunctionExpression(f)||["AND","OR","TRUE","FALSE"].includes(f.toUpperCase()))continue;let P=this.form.get(f);P&&C.push({field:f,value:P.value??0})}for(let f of C){let P=typeof f.value=="number"?f.value:parseFloat(f.value)||0;e=e.replace(new RegExp(`\\b${f.field}\\b`,"g"),P.toString())}let E=/([A-Z_]+)\(([^()]*)\)/gi;for(;E.test(e);)e=e.replace(E,f=>this.evaluateFunction(f,"NUMBER").toString());try{return Function('"use strict"; return ('+e+")")()}catch{return e}}checkUniqueField(t,e,i){let s=`${t}:${e}`;this.workflowService.validateUniqueField(this.workflowCode,t,e,this.instanceId||void 0).subscribe({next:C=>{this.pendingUniqueChecks.delete(s);let E=C.data;this.uniqueCheckCache.set(s,E);let f=this.form.get(t);if(!E)this.validationErrors[t]=i,f&&(f.setErrors(K(J({},f.errors),{customValidation:i})),f.markAsTouched());else{let v=this.fields.find(O=>O.name===t);if(v?.validation){let O=this.evaluateNonUniqueValidations(v);if(this.validationErrors[t]=O,f){if(O)f.setErrors(K(J({},f.errors),{customValidation:O})),f.markAsTouched();else if(f.errors){let P=f.errors,{customValidation:g}=P,B=it(P,["customValidation"]);f.setErrors(Object.keys(B).length>0?B:null)}}}else if(this.validationErrors[t]=null,f&&f.errors){let o=f.errors,{customValidation:O}=o,g=it(o,["customValidation"]);f.setErrors(Object.keys(g).length>0?g:null)}}this.cdr.detectChanges()},error:()=>{this.pendingUniqueChecks.delete(s),this.uniqueCheckCache.set(s,!0)}})}evaluateNonUniqueValidations(t){let e=t.validation;if(!e)return null;try{let i=e.split(/\s+AND\s+/i);for(let s of i){let C=s.trim();if(/^Unique\(/i.test(C))continue;let E=this.evaluateSingleValidation(C,t);if(E)return E}return null}catch{return null}}recalculateField(t,e){let i=this.evaluateFunction(e.expression,e.fieldType);if(e.fieldType==="CHECKBOX")i=i==="true"||i===!0||!1;else if(e.fieldType==="NUMBER"||e.fieldType==="CURRENCY")i=i?Number(i):null;else if(e.fieldType==="DATE"||e.fieldType==="DATETIME"){if(i instanceof Date)i=e.fieldType==="DATETIME"?this.formatDateTime(i):this.formatDate(i);else if(i){let C=new Date(i);isNaN(C.getTime())||(i=e.fieldType==="DATETIME"?this.formatDateTime(C):this.formatDate(C))}}let s=this.form.get(t);s&&s.value!==i&&s.setValue(i,{emitEvent:!1})}getUngroupedFields(){return this.fields.filter(t=>!t.fieldGroupId&&!(t.hidden||t.isHidden))}getFieldsInGroup(t){let e=t?.toString();if(this.isMultiStep){let i=this.currentScreen?.id?.toString(),s=this.currentScreenIndex===0;return this.fields.filter(C=>{if(C.fieldGroupId?.toString()!==e||C.hidden||C.isHidden)return!1;let E=C.screenId?.toString();return E===i||s&&!E})}return this.fields.filter(i=>i.fieldGroupId?.toString()===e&&!(i.hidden||i.isHidden))}get isMultiStep(){return this.screens.length>1}get isFirstScreen(){return this.currentScreenIndex===0}get isLastScreen(){return this.currentScreenIndex===this.screens.length-1}get currentScreen(){return this.screens[this.currentScreenIndex]||null}get isSummaryScreen(){return this.currentScreen?.isSummaryScreen===!0}getUngroupedFieldsOnScreen(){if(!this.isMultiStep)return this.getUngroupedFields();let t=this.currentScreen?.id?.toString(),e=this.currentScreenIndex===0;return this.fields.filter(i=>{if(i.fieldGroupId||i.hidden||i.isHidden)return!1;let s=i.screenId?.toString();return s===t||e&&!s})}getFieldGroupsOnScreen(){if(!this.isMultiStep)return this.fieldGroups;let t=this.currentScreen?.id?.toString(),e=this.currentScreenIndex===0;return this.fieldGroups.filter(i=>{let s=i.screenId?.toString();return s===t||e&&!s})}getSummaryFields(){return this.fields.filter(t=>t.inSummary===!0&&!(t.hidden||t.isHidden))}hasSummaryFields(){return this.getSummaryFields().length>0}getFieldDisplayValue(t){let e=this.form.get(t.name)?.value;if(e==null||e==="")return"-";switch(t.type||t.fieldType){case"SELECT":case"RADIO":return t.options?.find(f=>f.value===e)?.label||e;case"MULTISELECT":case"CHECKBOX_GROUP":return Array.isArray(e)?e.map(P=>t.options?.find(v=>v.value===P)?.label||P).join(", ")||"-":typeof e=="string"&&e.includes(",")?e.split(",").map(o=>o.trim()).map(o=>t.options?.find(O=>O.value===o)?.label||o).join(", ")||"-":e;case"CHECKBOX":case"TOGGLE":return e===!0||e==="true"?"Yes":"No";case"YES_NO":return e===!0||e==="true"||e==="yes"?"Yes":"No";case"DATE":if(e instanceof Date)return e.toLocaleDateString();try{let f=new Date(e);if(!isNaN(f.getTime()))return f.toLocaleDateString()}catch{}return e;case"DATETIME":if(e instanceof Date)return e.toLocaleString();try{let f=new Date(e);if(!isNaN(f.getTime()))return f.toLocaleString()}catch{}return e;case"TIME":return e;case"CURRENCY":let s=parseFloat(e);return isNaN(s)?e:"$"+s.toFixed(2);case"FILE":case"IMAGE":return this.selectedFiles[t.name]?.length>0?this.selectedFiles[t.name].map(f=>f.name).join(", "):"-";case"USER":if(this.selectedUsers[t.name]){let f=this.selectedUsers[t.name];return`${f.firstName} ${f.lastName}`}return e;case"RATING":return`${e} / ${t.ratingMax||5}`;case"SLIDER":return String(e);case"TABLE":let C=this.getTableRows(t);return`${C.length} row${C.length!==1?"s":""}`;case"SQL_OBJECT":return t.options?Array.isArray(e)?e.map(o=>t.options?.find(O=>O.value===o)?.label||o).join(", ")||"-":t.options.find(P=>P.value===e)?.label||e:e;case"COLOR":return e;case"LOCATION":return e;case"BARCODE":return e;case"RICH_TEXT":let E=String(e).replace(/<[^>]*>/g,"");return E.length>100?E.substring(0,100)+"...":E;case"HIDDEN":case"DIVIDER":case"LABEL":return"-";default:return String(e)}}getFieldScreenName(t){return!this.isMultiStep||!t.screenId?"":this.screens.find(i=>i.id?.toString()===t.screenId?.toString())?.title||""}goToNextScreen(){this.validateCurrentScreen()&&this.currentScreenIndex<this.screens.length-1&&(this.currentScreenIndex++,window.scrollTo({top:0,behavior:"smooth"}))}goToPreviousScreen(){this.currentScreenIndex>0&&(this.currentScreenIndex--,window.scrollTo({top:0,behavior:"smooth"}))}goToScreen(t){t<=this.currentScreenIndex&&(this.currentScreenIndex=t,window.scrollTo({top:0,behavior:"smooth"}))}validateCurrentScreen(){if(!this.isMultiStep||!this.currentScreen)return!0;let t=this.currentScreen.id?.toString(),e=this.currentScreenIndex===0,i=this.fields.filter(C=>{let E=C.screenId?.toString();return E===t||e&&!E}),s=!0;return i.forEach(C=>{let E=this.form.get(C.name);E&&(E.markAsTouched(),E.invalid&&(s=!1))}),s||this.snackBar.open("Please fill in all required fields on this screen","Close",{duration:3e3}),s}isFieldReadonly(t){return t.readOnly||t.isReadonly||!1}isColumnReadonly(t,e){return this.isFieldReadonly(t)?!0:e.readOnly===!0}isTableFullyReadonly(t){if(this.isFieldReadonly(t))return!0;let e=this.getTableColumns(t);return e.length===0?!1:e.every(i=>i.readOnly===!0)}isFieldRequired(t){return t.required?!0:t.validation?/Required\s*\(/i.test(t.validation):!1}isFieldVisible(t){let e=t.visibilityExpression;if(!e||e.trim()===""||e.trim().toLowerCase()==="true")return!0;if(e.trim().toLowerCase()==="false")return!1;try{return this.evaluateVisibilityExpression(e)}catch(i){return console.warn("Error evaluating visibility expression for field",t.name,i),!0}}evaluateVisibilityExpression(t){let e=t.replace(/@\{([^}]+)\}/g,(i,s)=>{let C=this.form.get(s.trim())?.value;return C==null||C===""?"null":typeof C=="string"?`'${C.replace(/'/g,"\\'")}'`:typeof C=="boolean"||typeof C=="number"?C.toString():`'${String(C)}'`});try{let i=e.match(/^['"]?([^'"=!<>]+)['"]?\s*(==|!=|===|!==)\s*['"]?([^'"]+)['"]?$/);if(i){let C=i[1].trim(),E=i[2],f=i[3].trim();return E==="=="||E==="==="?C===f:C!==f}let s=e.match(/^['"]?([^'"<>=!]+)['"]?\s*(>=|<=|>|<)\s*['"]?([^'"]+)['"]?$/);if(s){let C=parseFloat(s[1].trim()),E=s[2],f=parseFloat(s[3].trim());if(!isNaN(C)&&!isNaN(f))switch(E){case">":return C>f;case"<":return C<f;case">=":return C>=f;case"<=":return C<=f}}if(e.includes("&&")||e.includes("||")){let C=e.split(/\s*(&&|\|\|)\s*/),E=this.evaluateSimpleCondition(C[0]);for(let f=1;f<C.length;f+=2){let P=C[f],o=this.evaluateSimpleCondition(C[f+1]);P==="&&"?E=E&&o:P==="||"&&(E=E||o)}return E}if(e.trim().startsWith("!")){let C=e.trim().substring(1).trim();return!this.evaluateSimpleCondition(C)}return this.evaluateSimpleCondition(e)}catch(i){return console.warn("Error in visibility expression evaluation:",i),!0}}evaluateSimpleCondition(t){if(t=t.trim(),t.startsWith("(")&&t.endsWith(")")&&(t=t.slice(1,-1).trim()),t==="null"||t==="''"||t==='""')return!1;if(t.toLowerCase()==="true")return!0;if(t.toLowerCase()==="false")return!1;let e=t.match(/^['"]?([^'"=!<>]+)['"]?\s*(==|!=|===|!==)\s*['"]?([^'"]+)['"]?$/);if(e){let s=e[1].trim().replace(/^['"]|['"]$/g,""),C=e[2],E=e[3].trim().replace(/^['"]|['"]$/g,"");return C==="=="||C==="==="?s===E:s!==E}let i=t.match(/^['"]?([^'"<>=!]+)['"]?\s*(>=|<=|>|<)\s*['"]?([^'"]+)['"]?$/);if(i){let s=parseFloat(i[1].trim()),C=i[2],E=parseFloat(i[3].trim());if(!isNaN(s)&&!isNaN(E))switch(C){case">":return s>E;case"<":return s<E;case">=":return s>=E;case"<=":return s<=E}}return t!=="null"&&t!==""&&t!=="0"}hasFieldError(t){if(!this.hasAttemptedSubmit)return!1;let e=this.form.get(t.name),i=e?.invalid,s=!!this.validationErrors[t.name],C=e?.hasError("customValidation");return i||s||!!C}getFieldErrorMessage(t){let e=this.form.get(t.name);return this.validationErrors[t.name]?this.validationErrors[t.name]:e?.hasError("customValidation")?e.getError("customValidation"):e?.hasError("required")?`${t.label} is required`:e?.hasError("email")?"Please enter a valid email":null}getErrorStateMatcher(t){let e=this.validationErrors;return{isErrorState:i=>{if(!i)return!1;let s=!!e[t.name],C=i.invalid&&(i.touched||i.dirty);return s||C}}}evaluateDefaultValue(t,e){if(!t)return"";let i=t.trim();return this.isFunctionExpression(i)?this.evaluateFunction(i,e):t}isFunctionExpression(t){let e=/^[A-Z_]+\(.*\)$/i,i=["TODAY","NOW","CURRENT_USER","CURRENT_USER_EMAIL","CURRENT_USER_ID","CURRENT_USERNAME","CURRENT_USER_PHONE","CURRENT_USER_DEPARTMENT","CURRENT_USER_STAFFID","CURRENT_USER_ROLE","CURRENT_USER_SBU","CURRENT_USER_BRANCH","CURRENT_DATE","CURRENT_TIME","CURRENT_DATETIME","CURRENT_YEAR","CURRENT_MONTH","UUID","SHORT_UUID","TIMESTAMP","PI","E","RANDOM","ROW","WORKFLOW_ID","WORKFLOW_NAME","INSTANCE_ID","INSTANCE_STATUS","SUBMISSION_DATE","SUBMITTER_NAME","SUBMITTER_EMAIL","APPROVAL_LEVEL","APPROVER_NAME","ENVIRONMENT","VERSION","LOCALE","TIMEZONE","BROWSER","PLATFORM","IS_MOBILE","SCREEN_WIDTH","SCREEN_HEIGHT"];return e.test(t)||i.includes(t.toUpperCase())}isTimeBasedFunction(t){if(!t)return!1;let e=t.toUpperCase().trim();return["NOW","NOW()","TODAY","TODAY()","CURRENT_DATE","CURRENT_DATE()","CURRENT_TIME","CURRENT_TIME()","CURRENT_DATETIME","CURRENT_DATETIME()","TIMESTAMP","TIMESTAMP()","SUBMISSION_DATE","SUBMISSION_DATE()"].includes(e)}evaluateFunction(t,e){let i=this.authService.currentUser,s=t.toUpperCase().trim(),C=(e||"").toUpperCase(),E=t.match(/^([A-Z_]+)\((.*)\)$/i),f=E?E[1].toUpperCase():s,P=E?E[2]:"",o=P?this.parseArgs(P):[],v=q=>parseFloat(q)||0,O=q=>parseInt(q)||0,g=q=>String(q??""),B=q=>q===!0||q==="true"||q==="1"||q===1,y=q=>q instanceof Date?q:new Date(q);switch(f){case"UPPER":return g(o[0]).toUpperCase();case"LOWER":return g(o[0]).toLowerCase();case"TRIM":return g(o[0]).trim();case"TRIM_LEFT":return g(o[0]).trimStart();case"TRIM_RIGHT":return g(o[0]).trimEnd();case"CONCAT":return o.join("");case"LEFT":return g(o[0]).substring(0,O(o[1]));case"RIGHT":{let m=g(o[0]);return m.substring(m.length-O(o[1]))}case"SUBSTRING":return g(o[0]).substring(O(o[1]),O(o[1])+O(o[2]));case"LENGTH":return g(o[0]).length.toString();case"REPLACE":return g(o[0]).split(g(o[1])).join(g(o[2]));case"REPLACE_FIRST":return g(o[0]).replace(g(o[1]),g(o[2]));case"CONTAINS":return g(o[0]).includes(g(o[1])).toString();case"CONTAINS_IGNORE_CASE":return g(o[0]).toLowerCase().includes(g(o[1]).toLowerCase()).toString();case"STARTS_WITH":return g(o[0]).startsWith(g(o[1])).toString();case"ENDS_WITH":return g(o[0]).endsWith(g(o[1])).toString();case"CAPITALIZE":return g(o[0]).charAt(0).toUpperCase()+g(o[0]).slice(1).toLowerCase();case"TITLE_CASE":return g(o[0]).replace(/\b\w/g,m=>m.toUpperCase());case"SENTENCE_CASE":return g(o[0]).replace(/(^\s*\w|[.!?]\s*\w)/g,m=>m.toUpperCase());case"REVERSE":return g(o[0]).split("").reverse().join("");case"REPEAT":return g(o[0]).repeat(O(o[1]));case"PAD_LEFT":return g(o[0]).padStart(O(o[1]),g(o[2])||" ");case"PAD_RIGHT":return g(o[0]).padEnd(O(o[1]),g(o[2])||" ");case"WORD_COUNT":return g(o[0]).trim().split(/\s+/).filter(m=>m).length.toString();case"CHAR_AT":return g(o[0]).charAt(O(o[1]));case"INDEX_OF":return g(o[0]).indexOf(g(o[1])).toString();case"LAST_INDEX_OF":return g(o[0]).lastIndexOf(g(o[1])).toString();case"SPLIT":return JSON.stringify(g(o[0]).split(g(o[1])));case"JOIN":try{return JSON.parse(g(o[0])).join(g(o[1]))}catch{return o[0]}case"INITIALS":return g(o[0]).split(/\s+/).map(m=>m.charAt(0).toUpperCase()).join("");case"SLUG":return g(o[0]).toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");case"CLEAN":return g(o[0]).replace(/[^\x20-\x7E]/g,"");case"REMOVE_SPACES":return g(o[0]).replace(/\s/g,"");case"COLLAPSE_SPACES":return g(o[0]).replace(/\s+/g," ");case"EXTRACT_NUMBERS":return g(o[0]).replace(/[^0-9]/g,"");case"EXTRACT_LETTERS":return g(o[0]).replace(/[^a-zA-Z]/g,"");case"EXTRACT_ALPHANUMERIC":return g(o[0]).replace(/[^a-zA-Z0-9]/g,"");case"MASK":{let m=g(o[0]),p=O(o[1]),F=O(o[2]),b=g(o[3])||"*",R=F<0?m.length+F:F;return m.substring(0,p)+b.repeat(R-p)+m.substring(R)}case"MASK_EMAIL":{let m=g(o[0]),[p,F]=m.split("@");return F?p.charAt(0)+"***@"+F:m}case"MASK_PHONE":{let m=g(o[0]).replace(/\D/g,"");return m.length>4?"*".repeat(m.length-4)+m.slice(-4):m}case"FORMAT_PHONE":{let m=g(o[0]).replace(/\D/g,""),p=g(o[1]).toUpperCase();return p==="US"&&m.length===10?`(${m.slice(0,3)}) ${m.slice(3,6)}-${m.slice(6)}`:p==="INTL"&&m.length>=10?`+${m.slice(0,-10)} ${m.slice(-10,-7)} ${m.slice(-7,-4)} ${m.slice(-4)}`:m}case"ENCODE_HTML":return g(o[0]).replace(/[&<>"']/g,m=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[m]||m);case"DECODE_HTML":return g(o[0]).replace(/&amp;|&lt;|&gt;|&quot;|&#39;/g,m=>({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"})[m]||m);case"WRAP":return g(o[1])+g(o[0])+g(o[2]);case"TRUNCATE":{let m=g(o[0]),p=O(o[1]),F=g(o[2])||"...";return m.length>p?m.substring(0,p-F.length)+F:m}case"REGEX_MATCH":try{return new RegExp(g(o[1])).test(g(o[0])).toString()}catch{return"false"}case"REGEX_EXTRACT":try{let m=g(o[0]).match(new RegExp(g(o[1])));return m?m[0]:""}catch{return""}case"REGEX_REPLACE":try{return g(o[0]).replace(new RegExp(g(o[1]),"g"),g(o[2]))}catch{return o[0]}case"SUM":return o.reduce((m,p)=>m+v(p),0).toString();case"SUBTRACT":return(v(o[0])-v(o[1])).toString();case"MULTIPLY":return(v(o[0])*v(o[1])).toString();case"DIVIDE":return v(o[1])===0?"0":(v(o[0])/v(o[1])).toString();case"ROUND":return v(o[0]).toFixed(O(o[1]));case"ROUND_UP":let q=Math.pow(10,O(o[1]));return(Math.ceil(v(o[0])*q)/q).toString();case"ROUND_DOWN":let et=Math.pow(10,O(o[1]));return(Math.floor(v(o[0])*et)/et).toString();case"FLOOR":return Math.floor(v(o[0])).toString();case"CEIL":return Math.ceil(v(o[0])).toString();case"TRUNC":return Math.trunc(v(o[0])).toString();case"ABS":return Math.abs(v(o[0])).toString();case"SIGN":return Math.sign(v(o[0])).toString();case"NEGATE":return(-v(o[0])).toString();case"MIN":return Math.min(...o.map(v)).toString();case"MAX":return Math.max(...o.map(v)).toString();case"AVERAGE":{let m=o.map(v);return(m.reduce((p,F)=>p+F,0)/m.length).toString()}case"MEDIAN":{let m=o.map(v).sort((F,b)=>F-b),p=Math.floor(m.length/2);return(m.length%2?m[p]:(m[p-1]+m[p])/2).toString()}case"MODE":{let m={};return o.forEach(p=>{m[p]=(m[p]||0)+1}),Object.entries(m).sort((p,F)=>F[1]-p[1])[0]?.[0]||""}case"COUNT":return o.filter(m=>m!==""&&m!==null&&m!==void 0).length.toString();case"PRODUCT":return o.reduce((m,p)=>m*v(p),1).toString();case"PERCENTAGE":return v(o[1])===0?"0":(v(o[0])/v(o[1])*100).toString();case"PERCENT_OF":return(v(o[0])*v(o[1])/100).toString();case"PERCENT_CHANGE":return v(o[0])===0?"0":((v(o[1])-v(o[0]))/v(o[0])*100).toString();case"MOD":return(v(o[0])%v(o[1])).toString();case"POWER":return Math.pow(v(o[0]),v(o[1])).toString();case"SQRT":return Math.sqrt(v(o[0])).toString();case"CBRT":return Math.cbrt(v(o[0])).toString();case"LOG":return Math.log(v(o[0])).toString();case"LOG10":return Math.log10(v(o[0])).toString();case"LOG2":return Math.log2(v(o[0])).toString();case"EXP":return Math.exp(v(o[0])).toString();case"FACTORIAL":{let m=O(o[0]),p=1;for(let F=2;F<=m;F++)p*=F;return p.toString()}case"GCD":{let m=Math.abs(O(o[0])),p=Math.abs(O(o[1]));for(;p;)[m,p]=[p,m%p];return m.toString()}case"LCM":{let m=Math.abs(O(o[0])),p=Math.abs(O(o[1])),F=m,b=p;for(;b;)[F,b]=[b,F%b];return(m*p/F).toString()}case"RANDOM":return Math.random().toString();case"RANDOM_INT":return(Math.floor(Math.random()*(O(o[1])-O(o[0])+1))+O(o[0])).toString();case"CLAMP":return Math.min(Math.max(v(o[0]),v(o[1])),v(o[2])).toString();case"INTERPOLATE":return(v(o[0])+(v(o[1])-v(o[0]))*v(o[2])).toString();case"MAP_RANGE":{let m=v(o[0]),p=v(o[1]),F=v(o[2]),b=v(o[3]),R=v(o[4]);return((m-p)/(F-p)*(R-b)+b).toString()}case"SIN":return Math.sin(v(o[0])).toString();case"COS":return Math.cos(v(o[0])).toString();case"TAN":return Math.tan(v(o[0])).toString();case"DEGREES":return(v(o[0])*180/Math.PI).toString();case"RADIANS":return(v(o[0])*Math.PI/180).toString();case"PI":return Math.PI.toString();case"E":return Math.E.toString();case"VARIANCE":{let m=o.map(v),p=m.reduce((F,b)=>F+b,0)/m.length;return(m.reduce((F,b)=>F+Math.pow(b-p,2),0)/m.length).toString()}case"STDEV":{let m=o.map(v),p=m.reduce((F,b)=>F+b,0)/m.length;return Math.sqrt(m.reduce((F,b)=>F+Math.pow(b-p,2),0)/m.length).toString()}case"RANGE":{let m=o.map(v);return(Math.max(...m)-Math.min(...m)).toString()}case"COMPOUND_INTEREST":return(v(o[0])*Math.pow(1+v(o[1]),v(o[2]))).toString();case"SIMPLE_INTEREST":return(v(o[0])*(1+v(o[1])*v(o[2]))).toString();case"PMT":{let m=v(o[0]),p=v(o[1]),F=v(o[2]);return m===0?(F/p).toString():(F*m/(1-Math.pow(1+m,-p))).toString()}case"FV":return(v(o[2])*((Math.pow(1+v(o[0]),v(o[1]))-1)/v(o[0]))).toString();case"PV":return(v(o[2])*((1-Math.pow(1+v(o[0]),-v(o[1])))/v(o[0]))).toString();case"FORMAT_NUMBER":{let m=v(o[0]),p=O(o[1]);return m.toLocaleString("en-US",{minimumFractionDigits:p,maximumFractionDigits:p})}case"FORMAT_PERCENTAGE":return v(o[0]).toFixed(O(o[1]))+"%";case"FORMAT_BYTES":{let m=v(o[0]);if(m===0)return"0 Bytes";let p=1024,F=["Bytes","KB","MB","GB","TB"],b=Math.floor(Math.log(m)/Math.log(p));return(m/Math.pow(p,b)).toFixed(2)+" "+F[b]}case"FORMAT_ORDINAL":{let m=O(o[0]),p=["th","st","nd","rd"],F=m%100;return m+(p[(F-20)%10]||p[F]||p[0])}case"ROMAN":{let m=O(o[0]),p="",F=[[1e3,"M"],[900,"CM"],[500,"D"],[400,"CD"],[100,"C"],[90,"XC"],[50,"L"],[40,"XL"],[10,"X"],[9,"IX"],[5,"V"],[4,"IV"],[1,"I"]];for(let[b,R]of F)for(;m>=b;)p+=R,m-=b;return p}case"HEX":return O(o[0]).toString(16).toUpperCase();case"BIN":return O(o[0]).toString(2);case"OCT":return O(o[0]).toString(8);case"PARSE_INT":return parseInt(g(o[0]),O(o[1])||10).toString();case"TODAY":return this.formatDateForField(new Date,C||"DATE");case"NOW":return this.formatDateForField(new Date,C||"DATETIME");case"TIMESTAMP":return Date.now().toString();case"DATE":{let m=new Date(O(o[0]),O(o[1])-1,O(o[2]));return this.formatDateForField(m,C||"DATE")}case"DATETIME":{let m=new Date(O(o[0]),O(o[1])-1,O(o[2]),O(o[3]),O(o[4]),O(o[5]));return this.formatDateForField(m,C||"DATETIME")}case"DATE_FORMAT":{let m=y(o[0]),p=g(o[1]);return this.formatDateWithPattern(m,p)}case"DATE_PARSE":return new Date(g(o[0])).toISOString();case"DATE_ADD":{let m=y(o[0]),p=O(o[1]),F=g(o[2]).toLowerCase();return this.addToDate(m,p,F,C)}case"DATE_SUBTRACT":{let m=y(o[0]),p=O(o[1]),F=g(o[2]).toLowerCase();return this.addToDate(m,-p,F,C)}case"DATE_DIFF":{let m=y(o[0]),p=y(o[1]),F=g(o[2]).toLowerCase();return this.dateDiff(m,p,F)}case"AGE":{let m=y(o[0]),p=new Date,F=p.getFullYear()-m.getFullYear();return(p.getMonth()<m.getMonth()||p.getMonth()===m.getMonth()&&p.getDate()<m.getDate())&&F--,F.toString()}case"AGE_DETAILED":{let m=y(o[0]),p=new Date,F=p.getFullYear()-m.getFullYear(),b=p.getMonth()-m.getMonth(),R=p.getDate()-m.getDate();return R<0&&(b--,R+=new Date(p.getFullYear(),p.getMonth(),0).getDate()),b<0&&(F--,b+=12),`${F} years, ${b} months, ${R} days`}case"YEAR":return o[0]?y(o[0]).getFullYear().toString():new Date().getFullYear().toString();case"MONTH":return o[0]?(y(o[0]).getMonth()+1).toString():(new Date().getMonth()+1).toString();case"DAY":return o[0]?y(o[0]).getDate().toString():new Date().getDate().toString();case"HOUR":return o[0]?y(o[0]).getHours().toString():new Date().getHours().toString();case"MINUTE":return o[0]?y(o[0]).getMinutes().toString():new Date().getMinutes().toString();case"SECOND":return o[0]?y(o[0]).getSeconds().toString():new Date().getSeconds().toString();case"MILLISECOND":return o[0]?y(o[0]).getMilliseconds().toString():new Date().getMilliseconds().toString();case"WEEKDAY":return((o[0]?y(o[0]):new Date).getDay()||7).toString();case"WEEKDAY_NAME":{let m=o[0]?y(o[0]):new Date;return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][m.getDay()]}case"WEEKDAY_SHORT":{let m=o[0]?y(o[0]):new Date;return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][m.getDay()]}case"WEEK_NUMBER":{let m=o[0]?y(o[0]):new Date,p=new Date(m.getFullYear(),0,1);return Math.ceil(((m.getTime()-p.getTime())/864e5+p.getDay()+1)/7).toString()}case"QUARTER":{let m=o[0]?y(o[0]):new Date;return(Math.floor(m.getMonth()/3)+1).toString()}case"MONTH_NAME":{let m=o[0]?y(o[0]):new Date;return["January","February","March","April","May","June","July","August","September","October","November","December"][m.getMonth()]}case"MONTH_SHORT":{let m=o[0]?y(o[0]):new Date;return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][m.getMonth()]}case"DAY_OF_YEAR":{let m=o[0]?y(o[0]):new Date,p=new Date(m.getFullYear(),0,0);return Math.floor((m.getTime()-p.getTime())/864e5).toString()}case"DAYS_IN_MONTH":{let m=o[0]?y(o[0]):new Date;return new Date(m.getFullYear(),m.getMonth()+1,0).getDate().toString()}case"DAYS_IN_YEAR":{let p=(o[0]?y(o[0]):new Date).getFullYear();return(p%4===0&&p%100!==0||p%400===0?366:365).toString()}case"IS_LEAP_YEAR":{let m=o[0]?y(o[0]).getFullYear():new Date().getFullYear();return(m%4===0&&m%100!==0||m%400===0).toString()}case"START_OF_DAY":{let m=new Date(o[0]?y(o[0]):new Date);return m.setHours(0,0,0,0),this.formatDateForField(m,C||"DATETIME")}case"END_OF_DAY":{let m=new Date(o[0]?y(o[0]):new Date);return m.setHours(23,59,59,999),this.formatDateForField(m,C||"DATETIME")}case"START_OF_WEEK":{let m=new Date(o[0]?y(o[0]):new Date),p=m.getDay()||7;return m.setDate(m.getDate()-p+1),this.formatDateForField(m,C||"DATE")}case"END_OF_WEEK":{let m=new Date(o[0]?y(o[0]):new Date),p=m.getDay()||7;return m.setDate(m.getDate()+(7-p)),this.formatDateForField(m,C||"DATE")}case"START_OF_MONTH":{let m=new Date(o[0]?y(o[0]):new Date);return m.setDate(1),this.formatDateForField(m,C||"DATE")}case"END_OF_MONTH":{let m=new Date(o[0]?y(o[0]):new Date);return m.setMonth(m.getMonth()+1,0),this.formatDateForField(m,C||"DATE")}case"START_OF_QUARTER":{let m=new Date(o[0]?y(o[0]):new Date);return m.setMonth(Math.floor(m.getMonth()/3)*3,1),this.formatDateForField(m,C||"DATE")}case"END_OF_QUARTER":{let m=new Date(o[0]?y(o[0]):new Date);return m.setMonth(Math.floor(m.getMonth()/3)*3+3,0),this.formatDateForField(m,C||"DATE")}case"START_OF_YEAR":{let m=new Date(o[0]?y(o[0]):new Date);return m.setMonth(0,1),this.formatDateForField(m,C||"DATE")}case"END_OF_YEAR":{let m=new Date(o[0]?y(o[0]):new Date);return m.setMonth(11,31),this.formatDateForField(m,C||"DATE")}case"IS_WEEKEND":{let m=(o[0]?y(o[0]):new Date).getDay();return(m===0||m===6).toString()}case"IS_WEEKDAY":{let m=(o[0]?y(o[0]):new Date).getDay();return(m!==0&&m!==6).toString()}case"IS_TODAY":{let m=o[0]?y(o[0]):new Date,p=new Date;return(m.toDateString()===p.toDateString()).toString()}case"IS_YESTERDAY":{let m=o[0]?y(o[0]):new Date,p=new Date;return p.setDate(p.getDate()-1),(m.toDateString()===p.toDateString()).toString()}case"IS_TOMORROW":{let m=o[0]?y(o[0]):new Date,p=new Date;return p.setDate(p.getDate()+1),(m.toDateString()===p.toDateString()).toString()}case"IS_PAST":return((o[0]?y(o[0]):new Date)<new Date).toString();case"IS_FUTURE":return((o[0]?y(o[0]):new Date)>new Date).toString();case"IS_THIS_WEEK":{let m=o[0]?y(o[0]):new Date,p=new Date,F=new Date(p);F.setDate(p.getDate()-(p.getDay()||7)+1);let b=new Date(F);return b.setDate(F.getDate()+6),(m>=F&&m<=b).toString()}case"IS_THIS_MONTH":{let m=o[0]?y(o[0]):new Date,p=new Date;return(m.getMonth()===p.getMonth()&&m.getFullYear()===p.getFullYear()).toString()}case"IS_THIS_YEAR":return((o[0]?y(o[0]):new Date).getFullYear()===new Date().getFullYear()).toString();case"IS_SAME_DAY":return(y(o[0]).toDateString()===y(o[1]).toDateString()).toString();case"IS_BEFORE":return(y(o[0])<y(o[1])).toString();case"IS_AFTER":return(y(o[0])>y(o[1])).toString();case"IS_BETWEEN_DATES":{let m=y(o[0]),p=y(o[1]),F=y(o[2]);return(m>=p&&m<=F).toString()}case"BUSINESS_DAYS":{let m=y(o[0]),p=y(o[1]),F=0,b=new Date(m);for(;b<=p;){let R=b.getDay();R!==0&&R!==6&&F++,b.setDate(b.getDate()+1)}return F.toString()}case"ADD_BUSINESS_DAYS":{let m=new Date(o[0]?y(o[0]):new Date),p=O(o[1]);for(;p>0;)m.setDate(m.getDate()+1),m.getDay()!==0&&m.getDay()!==6&&p--;return this.formatDateForField(m,C||"DATE")}case"RELATIVE_TIME":{let m=o[0]?y(o[0]):new Date,p=Date.now()-m.getTime(),F=Math.abs(p),b=p<0;return F<6e4?b?"in a few seconds":"just now":F<36e5?`${b?"in ":""}${Math.floor(F/6e4)} minutes${b?"":" ago"}`:F<864e5?`${b?"in ":""}${Math.floor(F/36e5)} hours${b?"":" ago"}`:`${b?"in ":""}${Math.floor(F/864e5)} days${b?"":" ago"}`}case"ISO_STRING":return(o[0]?y(o[0]):new Date).toISOString();case"CURRENT_DATE":return this.formatDate(new Date);case"CURRENT_TIME":return new Date().toTimeString().split(" ")[0];case"CURRENT_DATETIME":return this.formatDateTime(new Date);case"CURRENT_YEAR":return new Date().getFullYear().toString();case"CURRENT_MONTH":return(new Date().getMonth()+1).toString();case"IF":return this.evaluateCondition(o[0])?o[1]:o[2];case"IFS":{for(let m=0;m<o.length-1;m+=2)if(this.evaluateCondition(o[m]))return o[m+1];return o.length%2===1?o[o.length-1]:""}case"SWITCH":{let m=o[0];for(let p=1;p<o.length-1;p+=2)if(m===o[p])return o[p+1];return o.length%2===0?o[o.length-1]:""}case"AND":return o.every(m=>B(m)||this.evaluateCondition(m)).toString();case"OR":return o.some(m=>B(m)||this.evaluateCondition(m)).toString();case"NOT":return(!B(o[0])).toString();case"XOR":return(B(o[0])!==B(o[1])).toString();case"NAND":return(!(B(o[0])&&B(o[1]))).toString();case"NOR":return(!(B(o[0])||B(o[1]))).toString();case"IS_EMPTY":return(!o[0]||g(o[0]).trim()==="").toString();case"IS_NOT_EMPTY":return(o[0]&&g(o[0]).trim()!=="").toString();case"IS_NULL":return(o[0]===null||o[0]===void 0||o[0]==="").toString();case"IS_NOT_NULL":return(o[0]!==null&&o[0]!==void 0&&o[0]!=="").toString();case"IS_BLANK":return(!o[0]||g(o[0]).trim()==="").toString();case"IS_TRUE":return B(o[0]).toString();case"IS_FALSE":return(!B(o[0])).toString();case"EQUALS":return(o[0]===o[1]).toString();case"EQUALS_IGNORE_CASE":return(g(o[0]).toLowerCase()===g(o[1]).toLowerCase()).toString();case"NOT_EQUALS":return(o[0]!==o[1]).toString();case"GREATER_THAN":return(v(o[0])>v(o[1])).toString();case"GREATER_THAN_OR_EQUAL":return(v(o[0])>=v(o[1])).toString();case"LESS_THAN":return(v(o[0])<v(o[1])).toString();case"LESS_THAN_OR_EQUAL":return(v(o[0])<=v(o[1])).toString();case"BETWEEN":return(v(o[0])>=v(o[1])&&v(o[0])<=v(o[2])).toString();case"NOT_BETWEEN":return(v(o[0])<v(o[1])||v(o[0])>v(o[2])).toString();case"IN":try{return JSON.parse(o[1]).includes(o[0]).toString()}catch{return"false"}case"NOT_IN":try{return(!JSON.parse(o[1]).includes(o[0])).toString()}catch{return"true"}case"IS_NUMBER":return(!isNaN(parseFloat(o[0]))&&isFinite(v(o[0]))).toString();case"IS_INTEGER":return Number.isInteger(v(o[0])).toString();case"IS_DECIMAL":return(v(o[0])%1!==0).toString();case"IS_POSITIVE":return(v(o[0])>0).toString();case"IS_NEGATIVE":return(v(o[0])<0).toString();case"IS_ZERO":return(v(o[0])===0).toString();case"IS_EVEN":return(O(o[0])%2===0).toString();case"IS_ODD":return(O(o[0])%2!==0).toString();case"IS_TEXT":return(typeof o[0]=="string").toString();case"IS_DATE":return(!isNaN(new Date(o[0]).getTime())).toString();case"IS_BOOLEAN":return(o[0]==="true"||o[0]==="false"||typeof o[0]=="boolean").toString();case"IS_EMAIL":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g(o[0])).toString();case"IS_URL":try{return new URL(g(o[0])),"true"}catch{return"false"}case"IS_PHONE":return/^[\d\s\-\+\(\)]{7,20}$/.test(g(o[0])).toString();case"IS_UUID":return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(g(o[0])).toString();case"IS_ALPHANUMERIC":return/^[a-zA-Z0-9]+$/.test(g(o[0])).toString();case"IS_ALPHA":return/^[a-zA-Z]+$/.test(g(o[0])).toString();case"IS_NUMERIC":return/^[0-9]+$/.test(g(o[0])).toString();case"IS_UPPERCASE":return(g(o[0])===g(o[0]).toUpperCase()).toString();case"IS_LOWERCASE":return(g(o[0])===g(o[0]).toLowerCase()).toString();case"MATCHES_PATTERN":try{return new RegExp(g(o[1])).test(g(o[0])).toString()}catch{return"false"}case"HAS_LENGTH":return(g(o[0]).length===O(o[1])).toString();case"HAS_MIN_LENGTH":return(g(o[0]).length>=O(o[1])).toString();case"HAS_MAX_LENGTH":return(g(o[0]).length<=O(o[1])).toString();case"CURRENT_USER":return i?.fullName||"";case"CURRENT_USER_EMAIL":return i?.email||"";case"CURRENT_USER_ID":return i?.userId||"";case"CURRENT_USERNAME":return i?.username||"";case"CURRENT_USER_PHONE":return i?.phoneNumber||"";case"CURRENT_USER_DEPARTMENT":return i?.department||"";case"CURRENT_USER_STAFFID":return i?.staffId||"";case"CURRENT_USER_ROLE":return i?.userType||"";case"CURRENT_USER_SBU":return i?.sbuIds?.[0]||"";case"CURRENT_USER_BRANCH":return i?.branchIds?.[0]||"";case"UUID":return this.generateUUID();case"SHORT_UUID":return this.generateUUID().substring(0,8);case"NANO_ID":{let m=O(o[0])||21,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",F="";for(let b=0;b<m;b++)F+=p.charAt(Math.floor(Math.random()*p.length));return F}case"SEQUENCE":return g(o[0])+Date.now().toString().slice(-8);case"SEQUENCE_PADDED":{let m=g(o[0]),p=O(o[1])||6;return m+Date.now().toString().slice(-p).padStart(p,"0")}case"RANDOM_STRING":{let m=O(o[0])||10,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",F="";for(let b=0;b<m;b++)F+=p.charAt(Math.floor(Math.random()*p.length));return F}case"RANDOM_CODE":{let m=O(o[0])||6,p=g(o[1]).toUpperCase(),F="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";p==="ALPHA"?F="ABCDEFGHIJKLMNOPQRSTUVWXYZ":p==="NUMERIC"&&(F="0123456789");let b="";for(let R=0;R<m;R++)b+=F.charAt(Math.floor(Math.random()*F.length));return b}case"ROW":return(this.currentTableRowIndex+1).toString();case"ROW_COUNT":{let m=this.resolveTableName(o[0]),p=this.tableData[m];return p?p.length.toString():"0"}case"COLUMN_COUNT":{let m=this.resolveTableName(o[0]),p=this.fields.find(F=>F.name===m&&F.fieldType==="TABLE");return p?this.getTableColumns(p).length.toString():"0"}case"GET_CELL":{let m=this.resolveTableName(o[0]),p=v(o[1])-1,F=g(o[2]),b=this.tableData[m];return b&&p>=0&&p<b.length&&b[p][F]||""}case"SET_CELL":{let m=this.resolveTableName(o[0]),p=v(o[1])-1,F=g(o[2]),b=g(o[3]),R=this.tableData[m];return R&&p>=0&&p<R.length?(R[p][F]=b,b):""}case"GET_ROW":{let m=this.resolveTableName(o[0]),p=v(o[1])-1,F=this.tableData[m];return F&&p>=0&&p<F.length?JSON.stringify(F[p]):"{}"}case"SET_ROW":{let m=this.resolveTableName(o[0]),p=v(o[1])-1,F=g(o[2]),b=this.tableData[m];if(b&&p>=0&&p<b.length)try{let R=JSON.parse(F);return Object.keys(R).forEach(U=>{b[p][U]=R[U]}),"true"}catch{return"false"}return"false"}case"GET_COLUMN":{let m=this.resolveTableName(o[0]),p=g(o[1]),F=this.tableData[m];if(F){let b=F.map(R=>R[p]||"");return JSON.stringify(b)}return"[]"}case"SUM_COLUMN":{let m=this.resolveTableName(o[0]),p=g(o[1]),F=this.tableData[m];return F?F.reduce((R,U)=>{let H=parseFloat(U[p]);return R+(isNaN(H)?0:H)},0).toString():"0"}case"AVG_COLUMN":{let m=this.resolveTableName(o[0]),p=g(o[1]),F=this.tableData[m];if(F&&F.length>0){let b=F.map(R=>parseFloat(R[p])).filter(R=>!isNaN(R));if(b.length>0)return(b.reduce((U,H)=>U+H,0)/b.length).toString()}return"0"}case"MIN_COLUMN":{let m=this.resolveTableName(o[0]),p=g(o[1]),F=this.tableData[m];if(F&&F.length>0){let b=F.map(R=>parseFloat(R[p])).filter(R=>!isNaN(R));if(b.length>0)return Math.min(...b).toString()}return""}case"MAX_COLUMN":{let m=this.resolveTableName(o[0]),p=g(o[1]),F=this.tableData[m];if(F&&F.length>0){let b=F.map(R=>parseFloat(R[p])).filter(R=>!isNaN(R));if(b.length>0)return Math.max(...b).toString()}return""}case"COUNT_COLUMN":{let m=this.resolveTableName(o[0]),p=g(o[1]),F=this.tableData[m];return F?F.filter(R=>{let U=R[p];return U!=null&&U!==""}).length.toString():"0"}case"FIND_ROW":{let m=this.resolveTableName(o[0]),p=g(o[1]),F=g(o[2]),b=this.tableData[m];return b?(b.findIndex(U=>U[p]===F)+1).toString():"0"}case"CLEAR_ROW":{let m=this.resolveTableName(o[0]),p=v(o[1])-1,F=this.tableData[m];return F&&p>=0&&p<F.length?(Object.keys(F[p]).forEach(b=>{F[p][b]=""}),"true"):"false"}case"DELETE_ROW":{let m=this.resolveTableName(o[0]),p=v(o[1])-1,F=this.tableData[m];return F&&p>=0&&p<F.length?(F.splice(p,1),"true"):"false"}case"ADD_ROW":{let m=this.resolveTableName(o[0]),p=o[1]?g(o[1]):null,F=this.fields.find(b=>b.name===m&&b.fieldType==="TABLE");if(F){this.tableData[m]||(this.tableData[m]=[]);let b=this.getTableColumns(F),R={};if(b.forEach(U=>{R[U.name]=U.defaultValue||(U.type==="CHECKBOX"?"false":"")}),p)try{let U=JSON.parse(p);Object.keys(U).forEach(H=>{R[H]=U[H]})}catch{}return this.tableData[m].push(R),this.tableData[m].length.toString()}return"0"}case"COPY_ROW":{let m=this.resolveTableName(o[0]),p=v(o[1])-1,F=o[2]?v(o[2])-1:-1,b=this.tableData[m];if(b&&p>=0&&p<b.length){let R=J({},b[p]);return F>=0&&F<b.length?Object.keys(R).forEach(U=>{b[F][U]=R[U]}):b.push(R),"true"}return"false"}case"TABLE_JSON":{let m=this.resolveTableName(o[0]),p=this.tableData[m];return p?JSON.stringify(p):"[]"}case"COALESCE":case"DEFAULT":return o.find(m=>m&&g(m).trim()!=="")||"";case"NULLIF":return o[0]===o[1]?"":o[0];case"NVL":case"IFNULL":return o[0]===null||o[0]===void 0||o[0]===""?o[1]:o[0];case"FORMAT_CURRENCY":{let m=v(o[0]),p=g(o[1])||"USD";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:p}).format(m)}catch{return m.toFixed(2)}}case"TO_NUMBER":return v(o[0]).toString();case"TO_TEXT":return g(o[0]);case"TO_BOOLEAN":return B(o[0]).toString();case"TO_DATE":return this.formatDate(y(o[0]));case"TO_ARRAY":return JSON.stringify(g(o[0]).split(",").map(m=>m.trim()));case"TO_JSON":try{return JSON.stringify(o[0])}catch{return""}case"FROM_JSON":try{return JSON.parse(g(o[0]))}catch{return o[0]}case"FIELD_VALUE":{let m=g(o[0]);return this.getFieldValue(m)||""}case"FIELD_LABEL":{let m=g(o[0]);return this.fields.find(F=>F.name===m)?.label||m}case"GET":try{let m=g(o[1]).split("."),p=JSON.parse(g(o[0]));for(let F of m)p=p?.[F];return p??o[2]??""}catch{return o[2]??""}case"KEYS":try{return JSON.stringify(Object.keys(JSON.parse(g(o[0]))))}catch{return"[]"}case"VALUES":try{return JSON.stringify(Object.values(JSON.parse(g(o[0]))))}catch{return"[]"}case"ARRAY_LENGTH":try{return JSON.parse(g(o[0])).length.toString()}catch{return"0"}case"ARRAY_FIRST":try{return JSON.parse(g(o[0]))[0]??""}catch{return""}case"ARRAY_LAST":try{let m=JSON.parse(g(o[0]));return m[m.length-1]??""}catch{return""}case"ARRAY_JOIN":try{return JSON.parse(g(o[0])).join(g(o[1]))}catch{return""}case"ARRAY_SUM":try{return JSON.parse(g(o[0])).reduce((m,p)=>m+v(p),0).toString()}catch{return"0"}case"ARRAY_AVERAGE":try{let m=JSON.parse(g(o[0]));return(m.reduce((p,F)=>p+v(F),0)/m.length).toString()}catch{return"0"}case"ARRAY_MIN":try{return Math.min(...JSON.parse(g(o[0])).map(v)).toString()}catch{return"0"}case"ARRAY_MAX":try{return Math.max(...JSON.parse(g(o[0])).map(v)).toString()}catch{return"0"}case"ARRAY_UNIQUE":try{return JSON.stringify([...new Set(JSON.parse(g(o[0])))])}catch{return"[]"}case"ARRAY_REVERSE":try{return JSON.stringify(JSON.parse(g(o[0])).reverse())}catch{return"[]"}case"ARRAY_SORT":try{let m=JSON.parse(g(o[0])),p=g(o[1]).toUpperCase();return JSON.stringify(m.sort((F,b)=>p==="DESC"?b>F?1:-1:F>b?1:-1))}catch{return"[]"}case"ARRAY_INCLUDES":try{return JSON.parse(g(o[0])).includes(o[1]).toString()}catch{return"false"}case"ARRAY_INDEX_OF":try{return JSON.parse(g(o[0])).indexOf(o[1]).toString()}catch{return"-1"}case"TEMPLATE":{let m=g(o[0]);try{let p=typeof o[1]=="object"?o[1]:JSON.parse(g(o[1]));return m.replace(/\{\{(\w+)\}\}/g,(F,b)=>p[b]??"")}catch{return m}}case"BASE64_ENCODE":try{return btoa(g(o[0]))}catch{return""}case"BASE64_DECODE":try{return atob(g(o[0]))}catch{return""}case"URL_ENCODE":return encodeURIComponent(g(o[0]));case"URL_DECODE":return decodeURIComponent(g(o[0]));case"TRY":try{return this.evaluateFunction(g(o[0]),e)}catch{return o[1]||""}case"TYPEOF":return typeof o[0];case"CLONE":try{return JSON.stringify(JSON.parse(JSON.stringify(o[0])))}catch{return o[0]}case"COMPARE":return o[0]>o[1]?"1":o[0]<o[1]?"-1":"0";case"EQUALS_DEEP":try{return(JSON.stringify(o[0])===JSON.stringify(o[1])).toString()}catch{return"false"}case"WORKFLOW_ID":return this.workflow?.id||"";case"WORKFLOW_NAME":return this.workflow?.name||"";case"INSTANCE_ID":return this.instanceId||"";case"ENVIRONMENT":return"PROD";case"VERSION":return"1.0.0";case"LOCALE":return navigator.language||"en-US";case"TIMEZONE":return Intl.DateTimeFormat().resolvedOptions().timeZone;case"BROWSER":return navigator.userAgent.includes("Chrome")?"Chrome":navigator.userAgent.includes("Firefox")?"Firefox":navigator.userAgent.includes("Safari")?"Safari":"Unknown";case"PLATFORM":return navigator.platform||"Unknown";case"IS_MOBILE":return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent).toString();case"SCREEN_WIDTH":return window.screen.width.toString();case"SCREEN_HEIGHT":return window.screen.height.toString();default:return t}}formatDateWithPattern(t,e){if(!t||isNaN(t.getTime()))return"";let i=E=>E.toString().padStart(2,"0"),s={YYYY:t.getFullYear().toString(),YY:t.getFullYear().toString().slice(-2),MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],MMM:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],MM:i(t.getMonth()+1),DD:i(t.getDate()),ddd:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()],HH:i(t.getHours()),mm:i(t.getMinutes()),ss:i(t.getSeconds())},C=e;for(let[E,f]of Object.entries(s))C=C.replace(new RegExp(E,"g"),f);return C}addToDate(t,e,i,s){let C=new Date(t);switch(i){case"years":C.setFullYear(C.getFullYear()+e);break;case"months":C.setMonth(C.getMonth()+e);break;case"weeks":C.setDate(C.getDate()+e*7);break;case"days":C.setDate(C.getDate()+e);break;case"hours":C.setHours(C.getHours()+e);break;case"minutes":C.setMinutes(C.getMinutes()+e);break;case"seconds":C.setSeconds(C.getSeconds()+e);break}return this.formatDateForField(C,s||"DATE")}dateDiff(t,e,i){let s=Math.abs(e.getTime()-t.getTime());switch(i){case"years":return Math.floor(s/(365.25*24*60*60*1e3)).toString();case"months":return Math.floor(s/(30.44*24*60*60*1e3)).toString();case"weeks":return Math.floor(s/(7*24*60*60*1e3)).toString();case"days":return Math.floor(s/(24*60*60*1e3)).toString();case"hours":return Math.floor(s/(60*60*1e3)).toString();case"minutes":return Math.floor(s/(60*1e3)).toString();case"seconds":return Math.floor(s/1e3).toString();default:return Math.floor(s/(24*60*60*1e3)).toString()}}parseStringArg(t,e=!0){let i=t.replace(/^["']|["']$/g,"").trim();if(e&&!t.startsWith('"')&&!t.startsWith("'")){let s=this.getFieldValue(i);if(s!==null)return String(s)}return i}parseArgs(t,e=!0){let i=[],s="",C=!1,E="";for(let f of t)(f==='"'||f==="'")&&!C?(C=!0,E=f,s+=f):f===E&&C?(C=!1,s+=f,E=""):f===","&&!C?(i.push(this.resolveArgValue(s.trim(),e)),s=""):s+=f;return s&&i.push(this.resolveArgValue(s.trim(),e)),i}resolveArgValue(t,e){if(t.startsWith('"')&&t.endsWith('"')||t.startsWith("'")&&t.endsWith("'"))return t.slice(1,-1);if(e){let i=this.getFieldValue(t);if(i!==null)return String(i)}return t}getFieldValue(t){if(!this.form)return null;let e=this.form.get(t);return e?e.value:null}resolveTableName(t){let e=String(t||""),i=e.match(/@\{([^}]+)\}/);return i?i[1]:e}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}formatDate(t){return t.toISOString().split("T")[0]}formatDateTime(t){let e=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),C=String(t.getHours()).padStart(2,"0"),E=String(t.getMinutes()).padStart(2,"0");return`${e}-${i}-${s}T${C}:${E}`}formatDateForField(t,e){let i=(e||"").toUpperCase();return i==="DATETIME"?this.formatDateTime(t):i==="DATE"?this.formatDate(t):t.toISOString()}onFileSelect(t,e){let i=t.target;i.files&&(this.selectedFiles[e]=Array.from(i.files))}isCheckboxOptionSelected(t,e){if(!this.checkboxGroupValues[t]){let i=this.form.get(t)?.value;i?this.checkboxGroupValues[t]=Array.isArray(i)?i:i.split(",").filter(s=>s):this.checkboxGroupValues[t]=[]}return this.checkboxGroupValues[t].includes(e)}onCheckboxGroupChange(t,e,i){this.checkboxGroupValues[t]||(this.checkboxGroupValues[t]=[]),i?this.checkboxGroupValues[t].includes(e)||this.checkboxGroupValues[t].push(e):this.checkboxGroupValues[t]=this.checkboxGroupValues[t].filter(s=>s!==e),this.form.get(t)?.setValue(this.checkboxGroupValues[t].join(",")),this.form.get(t)?.markAsTouched()}imagePreviews={};getStarArray(t){let e=t.ratingMax||5;return Array.from({length:e},(i,s)=>s+1)}getRatingValue(t){let e=this.form.get(t.name)?.value;return e?parseInt(e,10):0}setRating(t,e){this.isFieldReadonly(t)||(this.form.get(t.name)?.setValue(e),this.form.get(t.name)?.markAsTouched())}getImagePreview(t){return this.imagePreviews[t.name]||null}onImageSelect(t,e){let i=t.target;if(i.files&&i.files[0]){let s=i.files[0],C=new FileReader;C.onload=E=>{this.imagePreviews[e.name]=E.target.result,this.form.get(e.name)?.setValue(E.target.result),this.form.get(e.name)?.markAsTouched()},C.readAsDataURL(s)}}onAttachmentSelect(t){let e=t.target;e.files&&this.attachments.push(...Array.from(e.files))}removeAttachment(t){this.attachments.splice(t,1)}formatFileSize(t){if(t===0)return"0 Bytes";let e=1024,i=["Bytes","KB","MB","GB"],s=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,s)).toFixed(2))+" "+i[s]}goBack(){this.router.navigate(["/workflows",this.workflowCode,"instances"])}saveDraft(){this.submitForm(!0)}onSubmit(){if(this.hasAttemptedSubmit=!0,this.validateAllFields(),this.form.invalid){this.snackBar.open("Please fill in all required fields","Close",{duration:3e3});return}if(this.pendingUniqueChecks.size>0){this.snackBar.open("Please wait for validation checks to complete","Close",{duration:3e3});return}if(Object.values(this.validationErrors).some(e=>e!==null)){this.snackBar.open("Please fix validation errors before submitting","Close",{duration:3e3});return}this.submitForm(!1)}submitForm(t){this.submitting=!0;let e=new FormData;e.append("workflowCode",this.workflowCode),e.append("isDraft",t.toString());let i={};this.fields.forEach(C=>{let E=this.form.value[C.name];if(!this.isEditMode&&this.timeBasedFields.has(C.name)){let f=this.timeBasedFields.get(C.name);E=this.evaluateDefaultValue(f.expression,f.fieldType),(C.type==="DATE"||C.type==="DATETIME")&&E instanceof Date&&(E=E.toISOString())}C.type==="USER"&&E&&typeof E=="object"&&E.id&&(E=E.id),i[C.name]=E}),e.append("fieldValues",JSON.stringify(i)),this.attachments.forEach((C,E)=>{e.append("attachments",C)}),Object.keys(this.selectedFiles).forEach(C=>{this.selectedFiles[C].forEach(E=>{e.append(`files_${C}`,E)})}),(this.isEditMode&&this.instanceId?this.workflowService.updateInstance(this.instanceId,e):this.workflowService.submitInstance(e)).subscribe({next:C=>{if(this.submitting=!1,C.success){let E=this.isEditMode?t?"Draft updated successfully":"Submission updated successfully":t?"Draft saved successfully":"Submission created successfully";this.snackBar.open(E,"Close",{duration:3e3}),this.router.navigate(["/workflows",this.workflowCode,"instances"])}},error:C=>{this.submitting=!1,this.snackBar.open(C.error?.message||"Submission failed","Close",{duration:3e3})}})}loadUsers(){this.userService.getUsers().subscribe({next:t=>{t.success&&t.data&&(this.allUsers=t.data,console.log("Loaded",this.allUsers.length,"users for USER field"))},error:t=>{console.error("Failed to load users:",t?.status,t?.message||t),setTimeout(()=>{this.userService.getUsers().subscribe({next:e=>{e.success&&e.data&&(this.allUsers=e.data,console.log("Loaded",this.allUsers.length,"users on retry"))},error:e=>{console.error("Retry failed to load users:",e?.status)}})},1e3)}})}onUserSearch(t,e){let s=t.target.value?.toLowerCase()||"";if(this.userSearchTerms[e]=s,!s){this.filteredUsersMap[e]=[];return}this.filteredUsersMap[e]=this.allUsers.filter(C=>{let E=`${C.firstName} ${C.lastName}`.toLowerCase(),f=(C.email||"").toLowerCase(),P=(C.username||"").toLowerCase();return E.includes(s)||f.includes(s)||P.includes(s)}).slice(0,10)}getFilteredUsers(t){return this.filteredUsersMap[t]||[]}displayUserFn=t=>t?typeof t=="string"?t:`${t.firstName} ${t.lastName}`:"";onUserSelected(t,e){let i=t.option.value;this.selectedUsers[e]=i,this.form.get(e)?.setValue(i),this.filteredUsersMap[e]=[],this.userSearchTerms[e]=""}getUserFieldValue(t){let e=this.form.get(t)?.value;return e?typeof e=="object"&&e.id?e.id:e:""}signatureDrawing={};signatureContexts={};startSignature(t,e){if(this.isFieldReadonly(e))return;let i=t.target,s=i.getContext("2d");if(!s)return;this.signatureDrawing[e.name]=!0,this.signatureContexts[e.name]=s,i.width!==i.offsetWidth&&(i.width=i.offsetWidth,i.height=i.offsetHeight),s.strokeStyle="#000",s.lineWidth=2,s.lineCap="round",s.lineJoin="round";let C=i.getBoundingClientRect();s.beginPath(),s.moveTo(t.clientX-C.left,t.clientY-C.top)}drawSignature(t,e){if(!this.signatureDrawing[e.name]||this.isFieldReadonly(e))return;let i=this.signatureContexts[e.name];if(!i)return;let C=t.target.getBoundingClientRect();i.lineTo(t.clientX-C.left,t.clientY-C.top),i.stroke()}endSignature(t){if(this.signatureDrawing[t.name]){this.signatureDrawing[t.name]=!1;let e=document.querySelector(`canvas[data-field="${t.name}"]`);if(e){let i=e.toDataURL("image/png");this.form.get(t.name)?.setValue(i),this.form.get(t.name)?.markAsTouched()}}}startSignatureTouch(t,e){if(this.isFieldReadonly(e))return;t.preventDefault();let i=t.target,s=i.getContext("2d");if(!s)return;this.signatureDrawing[e.name]=!0,this.signatureContexts[e.name]=s,i.width!==i.offsetWidth&&(i.width=i.offsetWidth,i.height=i.offsetHeight),s.strokeStyle="#000",s.lineWidth=2,s.lineCap="round",s.lineJoin="round";let C=i.getBoundingClientRect(),E=t.touches[0];s.beginPath(),s.moveTo(E.clientX-C.left,E.clientY-C.top)}drawSignatureTouch(t,e){if(!this.signatureDrawing[e.name]||this.isFieldReadonly(e))return;t.preventDefault();let i=this.signatureContexts[e.name];if(!i)return;let C=t.target.getBoundingClientRect(),E=t.touches[0];i.lineTo(E.clientX-C.left,E.clientY-C.top),i.stroke()}clearSignature(t){let e=document.querySelector(`canvas[data-field="${t.name}"]`);if(e){let i=e.getContext("2d");i&&i.clearRect(0,0,e.width,e.height),this.form.get(t.name)?.setValue(""),this.form.get(t.name)?.markAsTouched()}}execRichTextCommand(t){document.execCommand(t,!1)}onRichTextInput(t,e){let i=t.target;this.form.get(e.name)?.setValue(i.innerHTML)}onRichTextBlur(t,e){let i=t.target;this.form.get(e.name)?.setValue(i.innerHTML),this.form.get(e.name)?.markAsTouched()}getRichTextValue(t){return this.form.get(t.name)?.value||""}iconPickerOpen={};iconSearchText={};availableIcons=["home","search","settings","favorite","star","check_circle","delete","edit","add","remove","close","menu","more_vert","more_horiz","refresh","sync","visibility","visibility_off","lock","lock_open","person","people","group","email","phone","chat","message","notifications","alarm","schedule","event","calendar_today","date_range","access_time","timer","hourglass_empty","folder","folder_open","file_copy","attach_file","cloud","cloud_upload","cloud_download","image","photo","camera","videocam","mic","volume_up","music_note","play_arrow","pause","stop","skip_next","skip_previous","replay","location_on","map","directions","navigation","explore","public","language","shopping_cart","store","payment","credit_card","account_balance","receipt","work","business","business_center","apartment","domain","corporate_fare","school","science","biotech","psychology","engineering","build","construction","handyman","plumbing","electrical_services","computer","laptop","smartphone","tablet","desktop_windows","devices","wifi","bluetooth","signal_wifi_4_bar","network_check","router","code","terminal","bug_report","memory","storage","dns","security","verified_user","shield","admin_panel_settings","policy","analytics","bar_chart","pie_chart","show_chart","trending_up","trending_down","assessment","leaderboard","insights","query_stats","local_shipping","flight","train","directions_car","directions_bus","two_wheeler","restaurant","local_cafe","local_bar","fastfood","lunch_dining","health_and_safety","medical_services","vaccines","medication","healing","pets","park","nature","eco","grass","forest","water_drop","sports_soccer","sports_basketball","sports_tennis","fitness_center","pool","thumb_up","thumb_down","sentiment_satisfied","sentiment_dissatisfied","mood","lightbulb","tips_and_updates","help","info","warning","error","report"];toggleIconPicker(t){this.isFieldReadonly(t)||(this.iconPickerOpen[t.name]=!this.iconPickerOpen[t.name],this.iconPickerOpen[t.name]&&(this.iconSearchText[t.name]=""))}isIconPickerOpen(t){return this.iconPickerOpen[t.name]||!1}selectIcon(t,e){this.form.get(t.name)?.setValue(e),this.form.get(t.name)?.markAsTouched(),this.iconPickerOpen[t.name]=!1}getSelectedIcon(t){return this.form.get(t.name)?.value||"help_outline"}getFilteredIcons(t){let e=(this.iconSearchText[t.name]||"").toLowerCase();return e?this.availableIcons.filter(i=>i.includes(e)):this.availableIcons}onIconSearch(t,e){let i=t.target;this.iconSearchText[e.name]=i.value}scanBarcode(t){this.snackBar.open("Barcode scanning requires camera access. Please enter the code manually.","OK",{duration:5e3})}gettingLocation={};locationData={};getLocationLat(t){let e=this.form.get(t.name)?.value;if(e&&typeof e=="string"){let i=e.split(",");if(i.length>=2)return parseFloat(i[0])||null}return this.locationData[t.name]?.lat||null}getLocationLng(t){let e=this.form.get(t.name)?.value;if(e&&typeof e=="string"){let i=e.split(",");if(i.length>=2)return parseFloat(i[1])||null}return this.locationData[t.name]?.lng||null}onLocationLatChange(t,e){let i=t.target,s=parseFloat(i.value)||null;this.locationData[e.name]||(this.locationData[e.name]={lat:null,lng:null}),this.locationData[e.name].lat=s,this.updateLocationValue(e)}onLocationLngChange(t,e){let i=t.target,s=parseFloat(i.value)||null;this.locationData[e.name]||(this.locationData[e.name]={lat:null,lng:null}),this.locationData[e.name].lng=s,this.updateLocationValue(e)}updateLocationValue(t){let e=this.locationData[t.name];e&&e.lat!==null&&e.lng!==null?this.form.get(t.name)?.setValue(`${e.lat},${e.lng}`):this.form.get(t.name)?.setValue(""),this.form.get(t.name)?.markAsTouched()}getCurrentLocation(t){if(!this.isFieldReadonly(t)){if(!navigator.geolocation){this.snackBar.open("Geolocation is not supported by your browser","OK",{duration:3e3});return}this.gettingLocation[t.name]=!0,navigator.geolocation.getCurrentPosition(e=>{let i=e.coords.latitude,s=e.coords.longitude;this.locationData[t.name]={lat:i,lng:s},this.form.get(t.name)?.setValue(`${i},${s}`),this.form.get(t.name)?.markAsTouched(),this.gettingLocation[t.name]=!1,this.cdr.detectChanges()},e=>{this.gettingLocation[t.name]=!1;let i="Could not get location";switch(e.code){case e.PERMISSION_DENIED:i="Location permission denied";break;case e.POSITION_UNAVAILABLE:i="Location information unavailable";break;case e.TIMEOUT:i="Location request timed out";break}this.snackBar.open(i,"OK",{duration:3e3}),this.cdr.detectChanges()},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}}isGettingLocation(t){return this.gettingLocation[t.name]||!1}getLocationDisplay(t){let e=this.getLocationLat(t),i=this.getLocationLng(t);return e!==null&&i!==null?`${e.toFixed(6)}, ${i.toFixed(6)}`:"No location set"}tableData={};currentTableRowIndex=0;getTableColumns(t){if(t.tableColumns&&Array.isArray(t.tableColumns)&&t.tableColumns.length>0)return t.tableColumns.map(e=>({name:e.name||"column",label:e.label||e.name||"Column",type:e.type||"TEXT",width:e.width,defaultValue:e.defaultValue,readOnly:e.readOnly||!1}));if(t.tableColumns&&typeof t.tableColumns=="string")try{let e=JSON.parse(t.tableColumns);if(Array.isArray(e))return e.map(i=>({name:i.name||"column",label:i.label||i.name||"Column",type:i.type||"TEXT",width:i.width,defaultValue:i.defaultValue,readOnly:i.readOnly||!1}))}catch{}if(t.options&&typeof t.options=="string")try{let e=JSON.parse(t.options);if(Array.isArray(e))return e.map(i=>({name:i.name||i.value||"column",label:i.label||i.name||"Column",type:i.type||"TEXT",width:i.width,defaultValue:i.defaultValue}))}catch{}return[{name:"col1",label:"Column 1",type:"TEXT"},{name:"col2",label:"Column 2",type:"TEXT"},{name:"col3",label:"Column 3",type:"TEXT"}]}getTableRows(t){if(!this.tableData[t.name]){let e=this.form.get(t.name)?.value;if(e&&typeof e=="string")try{this.tableData[t.name]=JSON.parse(e)}catch{this.tableData[t.name]=[]}else Array.isArray(e)?this.tableData[t.name]=e:this.tableData[t.name]=[];if(this.tableData[t.name].length===0&&!this.isEditMode){let i=t.tableMinRows||1,s=this.getTableColumns(t);for(let C=0;C<i;C++){this.currentTableRowIndex=C;let E={};s.forEach(f=>{f.defaultValue!==void 0&&f.defaultValue!==null&&f.defaultValue!==""?this.isFunctionExpression(f.defaultValue)?E[f.name]=String(this.evaluateFunction(f.defaultValue,f.type)):E[f.name]=f.defaultValue:E[f.name]=f.type==="CHECKBOX"?"false":""}),this.tableData[t.name].push(E)}this.tableData[t.name].length>0&&this.updateTableValue(t)}}return this.tableData[t.name]}addTableRow(t){if(this.isFieldReadonly(t)||(this.tableData[t.name]||(this.tableData[t.name]=[]),t.tableMaxRows&&this.tableData[t.name].length>=t.tableMaxRows))return;this.currentTableRowIndex=this.tableData[t.name].length;let e=this.getTableColumns(t),i={};e.forEach(s=>{s.defaultValue!==void 0&&s.defaultValue!==null&&s.defaultValue!==""?this.isFunctionExpression(s.defaultValue)?i[s.name]=String(this.evaluateFunction(s.defaultValue,s.type)):i[s.name]=s.defaultValue:i[s.name]=s.type==="CHECKBOX"?"false":""}),this.tableData[t.name].push(i),this.updateTableValue(t)}canAddTableRow(t){return t.tableMaxRows?this.getTableRows(t).length<t.tableMaxRows:!0}canRemoveTableRow(t){let e=this.getTableRows(t),i=t.tableMinRows||0;return e.length>i}removeTableRow(t,e){this.isFieldReadonly(t)||this.tableData[t.name]&&(this.tableData[t.name].splice(e,1),this.updateTableValue(t))}onTableCellChange(t,e,i,s){if(this.isFieldReadonly(e))return;let C=t.target;this.tableData[e.name]&&this.tableData[e.name][i]&&(this.tableData[e.name][i][s]=C.value,this.updateTableValue(e))}onTableCheckboxChange(t,e,i,s){this.isFieldReadonly(e)||this.tableData[e.name]&&this.tableData[e.name][i]&&(this.tableData[e.name][i][s]=t.checked?"true":"false",this.updateTableValue(e))}updateTableValue(t){let e=JSON.stringify(this.tableData[t.name]||[]);this.form.get(t.name)?.setValue(e),this.form.get(t.name)?.markAsTouched()}static \u0275fac=function(e){return new(e||n)(z(kt),z(se),z(ce),z(Nt),z(xt),z(ft),z(Zt),z(pt))};static \u0275cmp=Ct({type:n,selectors:[["app-workflow-form"]],decls:12,vars:3,consts:[["picker",""],["auto","matAutocomplete"],["imageInput",""],["groupPicker",""],["autoGroup","matAutocomplete"],["imageInputGroup",""],["fileInput",""],[1,"workflow-form-container"],[1,"header"],["mat-icon-button","",3,"click"],[1,"subtitle"],[1,"loading"],[3,"formGroup"],["diameter","40"],[3,"ngSubmit","formGroup"],[1,"form-card","summary-card"],[1,"form-card"],[1,"form-actions"],[1,"form-actions","multi-step"],[1,"step-indicator"],[1,"screen-header"],[1,"step",3,"click"],[1,"step-circle"],[1,"step-label"],[1,"step-connector",3,"completed"],[1,"step-connector"],[1,"summary-table"],[1,"screen-col"],[1,"label-col"],[1,"value-col"],[1,"no-summary-fields"],[1,"hint"],[1,"fields-grid"],[1,"field-wrapper",3,"grid-column"],[1,"field-wrapper"],[1,"field-container"],[1,"radio-field",3,"has-error"],[1,"field-container","checkbox-group-field",3,"has-error"],[1,"file-field",3,"has-error"],["type","hidden",3,"formControlName"],[1,"label-field"],[1,"divider-field"],[1,"toggle-field"],[1,"yes-no-field",3,"has-error"],[1,"rating-field",3,"has-error"],[1,"slider-field",3,"has-error"],[1,"color-field",3,"has-error"],[1,"image-field",3,"has-error"],[1,"signature-field",3,"has-error"],[1,"rich-text-field",3,"has-error"],[1,"icon-field",3,"has-error"],[1,"barcode-field",3,"has-error"],[1,"location-field",3,"has-error"],[1,"table-field",3,"has-error","readonly-table"],["appearance","outline",1,"full-width"],[1,"required-asterisk"],["matInput","",3,"formControlName","placeholder","readonly"],[1,"validation-error"],["matInput","","rows","4",3,"formControlName","placeholder","readonly"],["matInput","","type","number",3,"formControlName","placeholder","readonly"],["matPrefix",""],["matInput","","type","email",3,"formControlName","placeholder","readonly"],["matInput","","type","tel",3,"formControlName","placeholder","readonly"],["matInput","","type","password",3,"formControlName","placeholder","readonly"],["matInput","",3,"matDatepicker","formControlName","readonly"],["matIconSuffix","",3,"for","disabled"],[3,"disabled"],["matInput","","type","datetime-local",3,"formControlName","readonly"],[3,"formControlName","placeholder","disabled"],[3,"value"],["multiple","",3,"formControlName","placeholder","disabled"],[1,"radio-field"],[1,"field-label"],[3,"formControlName","disabled"],[3,"value","disabled"],[1,"field-container","checkbox-group-field"],[1,"checkbox-options"],[3,"checked","disabled"],[3,"change","checked","disabled"],[1,"file-field"],["type","file",3,"change","multiple","disabled"],[1,"file-list"],["matInput","","type","url",3,"formControlName","placeholder","readonly"],["matInput","",3,"input","formControlName","matAutocomplete","placeholder","readonly"],[3,"optionSelected","displayWith"],["disabled",""],[1,"user-option"],[1,"user-info"],[1,"user-name"],[1,"user-email"],[1,"label-text"],[1,"label-description"],[1,"divider-label"],[1,"yes-no-field"],["value","yes"],["value","no"],[1,"rating-field"],[1,"star-rating"],[3,"filled","readonly"],[3,"click"],["matInput","","type","time",3,"formControlName","readonly"],[1,"slider-field"],[3,"min","max","step","discrete","disabled"],["matSliderThumb","",3,"formControlName"],[1,"color-field"],["type","color",1,"color-input",3,"formControlName","disabled"],[1,"image-field"],[1,"image-upload-area"],["type","file","accept","image/*","hidden","",3,"change"],["mat-stroked-button","","type","button",3,"click","disabled"],[1,"image-preview",3,"src"],[1,"signature-field"],[1,"signature-pad-container"],[1,"signature-canvas",3,"mousedown","mousemove","mouseup","mouseleave","touchstart","touchmove","touchend"],[1,"signature-actions"],["mat-icon-button","","type","button","matTooltip","Clear signature",3,"click","disabled"],[1,"rich-text-field"],[1,"rich-text-editor"],[1,"rich-text-toolbar"],["mat-icon-button","","type","button","matTooltip","Bold",3,"click","disabled"],["mat-icon-button","","type","button","matTooltip","Italic",3,"click","disabled"],["mat-icon-button","","type","button","matTooltip","Underline",3,"click","disabled"],[1,"toolbar-divider"],["mat-icon-button","","type","button","matTooltip","Bullet list",3,"click","disabled"],["mat-icon-button","","type","button","matTooltip","Numbered list",3,"click","disabled"],["contenteditable","true",1,"rich-text-content",3,"input","blur","innerHTML"],[1,"icon-field"],[1,"icon-picker"],[1,"selected-icon",3,"click"],[1,"dropdown-arrow"],[1,"icon-picker-dropdown"],["type","text","placeholder","Search icons...",1,"icon-search",3,"input","value"],[1,"icon-grid"],[1,"icon-option",3,"selected"],[1,"icon-option",3,"click"],[1,"barcode-field"],[1,"barcode-input"],["matInput","","placeholder","Enter or scan barcode...",3,"formControlName","readonly"],["mat-icon-button","","matSuffix","","type","button","matTooltip","Scan barcode",3,"click","disabled"],[1,"location-field"],[1,"location-input"],[1,"location-coords"],["appearance","outline",1,"coord-field"],["matInput","","type","number","step","any",3,"input","value","readonly"],["mat-icon-button","","type","button","matTooltip","Get current location",3,"click","disabled"],[1,"spinning"],[1,"location-preview"],[1,"table-field"],[1,"table-input"],[1,"data-table"],[3,"width"],[1,"actions-col"],[1,"table-actions"],["type","number",1,"table-cell-input",3,"value","readonly"],["type","date",1,"table-cell-input",3,"value","readonly"],["type","text",1,"table-cell-input",3,"value","readonly"],["type","number",1,"table-cell-input",3,"input","value","readonly"],["type","date",1,"table-cell-input",3,"input","value","readonly"],["type","text",1,"table-cell-input",3,"input","value","readonly"],["mat-icon-button","","type","button","matTooltip","Remove row",3,"click","disabled"],[1,"empty-table"],["mat-stroked-button","","type","button",1,"add-row-btn",3,"click","disabled"],[1,"row-count"],[1,"checkbox-group-field",3,"has-error"],[1,"checkbox-group-field"],[1,"checkbox-group"],[1,"form-card","group-card"],[3,"expanded","hideToggle"],["matInput","","rows","4",3,"formControlName","readonly"],["matInput","","type","number",3,"formControlName","readonly"],["multiple","",3,"formControlName","disabled"],["matTextPrefix",""],["matInput","","type","number","step","0.01",3,"formControlName","readonly"],["matInput","","type","email",3,"formControlName","readonly"],["matInput","","type","tel",3,"formControlName","readonly"],["matInput","","type","password",3,"formControlName","readonly"],["matInput","","type","url",3,"formControlName","readonly"],["matInput","",3,"formControlName","readonly"],[1,"attachment-area"],["type","file","multiple","","hidden","",3,"change"],["mat-stroked-button","","type","button",3,"click"],[1,"attachment-list"],[1,"attachment-item"],[1,"size"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["diameter","20"],[1,"spacer"],["mat-raised-button","","color","primary","type","button",3,"click"]],template:function(e,i){e&1&&(_(0,"div",7)(1,"div",8)(2,"button",9),k("click",function(){return i.goBack()}),_(3,"mat-icon"),c(4,"arrow_back"),l()(),_(5,"div")(6,"h1"),c(7),l(),_(8,"p",10),c(9),l()()(),x(10,Ie,4,0,"div",11)(11,Ll,10,8,"form",12),l()),e&2&&(r(7),h(i.workflow==null?null:i.workflow.name),r(2),h(i.isEditMode?"Edit Submission":"New Submission"),r(),u(i.loading?10:i.workflow?11:-1))},dependencies:[ut,Ot,bt,Et,wt,vt,St,Mt,Tt,gt,Ut,Wt,At,Lt,Vt,$t,Yt,Ht,Bt,qt,Gt,Jt,zt,Qt,Kt,ht,he,fe,xe,ge,Ft,Ce,me,we,Se,be,Dt,It,Rt,Pt,yt,le,ie,oe,re,ae,te,jt,Xt,de,_e,ve,Fe,Ee,ne,ee,ue,pe,ke,Me,Te,Pe,Oe,ye],styles:[".workflow-form-container[_ngcontent-%COMP%]{padding:1rem;max-width:1000px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.subtitle[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#666}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;color:#666}.form-card[_ngcontent-%COMP%]{margin-bottom:1rem}.group-card[_ngcontent-%COMP%]{padding:0}.group-card[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.group-card[_ngcontent-%COMP%]     .mat-expansion-panel-header{background:var(--form-field-header-bg, #1976d2)!important;color:var(--form-field-header-color, #ffffff)!important}.group-card[_ngcontent-%COMP%]     .mat-expansion-panel-header:hover{background:var(--form-field-header-bg, #1976d2)!important}.group-card[_ngcontent-%COMP%]     .mat-expansion-panel-header .mat-expansion-indicator:after{color:var(--form-field-header-color, #ffffff)!important}.group-card[_ngcontent-%COMP%]     .mat-expansion-panel-header .mat-content{color:var(--form-field-header-color, #ffffff)!important}.group-card[_ngcontent-%COMP%]     .mat-expansion-panel-header-title, .group-card[_ngcontent-%COMP%]     .mat-expansion-panel-header-description{color:var(--form-field-header-color, #ffffff)!important}.fields-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;padding:1rem 0}.field-wrapper[_ngcontent-%COMP%]{min-width:0}.full-width[_ngcontent-%COMP%]{width:100%}.field-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:.875rem;color:#0009}.required[_ngcontent-%COMP%]{color:#f44336}.required-asterisk[_ngcontent-%COMP%]{color:#f44336;font-weight:700;margin-left:2px}.has-error[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .3s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-2px)}75%{transform:translate(2px)}}.field-error[_ngcontent-%COMP%]{color:#f44336;font-size:.75rem;margin-top:4px}.field-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.validation-error[_ngcontent-%COMP%]{color:#f44336;font-size:.75rem;margin-top:-16px;padding-left:14px;line-height:1.2}.field-invalid[_ngcontent-%COMP%]     .mdc-notched-outline__leading, .field-invalid[_ngcontent-%COMP%]     .mdc-notched-outline__notch, .field-invalid[_ngcontent-%COMP%]     .mdc-notched-outline__trailing{border-color:#f44336!important}.field-invalid[_ngcontent-%COMP%]     .mat-mdc-floating-label{color:#f44336!important}.radio-field[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.radio-field[_ngcontent-%COMP%]   mat-radio-group.horizontal-layout[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;gap:1rem}.file-field[_ngcontent-%COMP%], .checkbox-group-field[_ngcontent-%COMP%]{padding:.5rem 0}.checkbox-group-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:block;font-weight:500;margin-bottom:.5rem;color:#000000de}.checkbox-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.checkbox-options.horizontal-layout[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;gap:1rem}.label-field[_ngcontent-%COMP%]{padding:1rem 0}.label-field[_ngcontent-%COMP%]   .label-text[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;margin:0;color:#000000de}.label-field[_ngcontent-%COMP%]   .label-description[_ngcontent-%COMP%]{font-size:.875rem;color:#666;margin:.25rem 0 0}.divider-field[_ngcontent-%COMP%]{padding:1rem 0;position:relative}.divider-field[_ngcontent-%COMP%]   .divider-label[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:#fff;padding:0 1rem;color:#666;font-size:.875rem}.toggle-field[_ngcontent-%COMP%], .yes-no-field[_ngcontent-%COMP%]{padding:.5rem 0}.yes-no-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}.rating-field[_ngcontent-%COMP%]{padding:.5rem 0}.star-rating[_ngcontent-%COMP%]{display:flex;gap:.25rem}.star-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer;color:#ffc107;font-size:28px;width:28px;height:28px;transition:transform .1s ease}.star-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover:not(.readonly){transform:scale(1.1)}.star-rating[_ngcontent-%COMP%]   mat-icon.readonly[_ngcontent-%COMP%]{cursor:default}.star-rating[_ngcontent-%COMP%]   mat-icon.filled[_ngcontent-%COMP%]{color:#ffc107}.slider-field[_ngcontent-%COMP%]{padding:.5rem 0}.slider-field[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{width:100%}.color-field[_ngcontent-%COMP%]{padding:.5rem 0}.color-field[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%]{width:60px;height:40px;border:1px solid #ccc;border-radius:4px;cursor:pointer;padding:4px}.image-field[_ngcontent-%COMP%]{padding:.5rem 0}.image-upload-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:.5rem}.image-preview[_ngcontent-%COMP%]{max-width:200px;max-height:150px;margin-top:.5rem;border-radius:4px;border:1px solid #ddd}.signature-field[_ngcontent-%COMP%], .rich-text-field[_ngcontent-%COMP%], .icon-field[_ngcontent-%COMP%], .barcode-field[_ngcontent-%COMP%], .location-field[_ngcontent-%COMP%], .table-field[_ngcontent-%COMP%]{padding:.5rem 0}.signature-pad-container[_ngcontent-%COMP%]{position:relative;border:1px solid #ddd;border-radius:4px;background:#fff}.signature-canvas[_ngcontent-%COMP%]{width:100%;height:150px;cursor:crosshair;display:block;touch-action:none}.signature-actions[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px}.signature-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#ffffffe6}.rich-text-editor[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;overflow:hidden}.rich-text-toolbar[_ngcontent-%COMP%]{display:flex;gap:.25rem;padding:.5rem;background:#f5f5f5;border-bottom:1px solid #ddd;flex-wrap:wrap}.rich-text-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:36px;width:36px;height:36px}.toolbar-divider[_ngcontent-%COMP%]{width:1px;background:#ddd;margin:0 .25rem}.rich-text-content[_ngcontent-%COMP%]{min-height:120px;padding:.75rem;outline:none;font-size:.875rem;line-height:1.5}.rich-text-content[_ngcontent-%COMP%]:focus{background:#fafafa}.rich-text-content[contenteditable=false][_ngcontent-%COMP%]{background:#f5f5f5;cursor:not-allowed}.icon-selector[_ngcontent-%COMP%]{position:relative}.selected-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:60px;height:60px;border:2px solid #ddd;border-radius:8px;cursor:pointer;transition:all .2s;background:#fff}.selected-icon[_ngcontent-%COMP%]:hover:not(.disabled){border-color:#1976d2;background:#e3f2fd}.selected-icon.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.6}.selected-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:#333}.icon-picker-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:1000;background:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 12px #00000026;padding:.75rem;width:320px;max-height:350px;overflow:hidden;display:flex;flex-direction:column}.icon-search[_ngcontent-%COMP%]{margin-bottom:.5rem}.icon-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ddd;border-radius:4px;font-size:.875rem}.icon-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(8,1fr);gap:.25rem;overflow-y:auto;max-height:250px;padding:.25rem}.icon-option[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:4px;cursor:pointer;transition:all .15s}.icon-option[_ngcontent-%COMP%]:hover{background:#e3f2fd}.icon-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#666}.icon-option[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{color:#1976d2}.barcode-input[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:flex-start}.barcode-input[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.location-inputs[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:flex-start}.location-inputs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.location-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.5rem}.location-display[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.75rem;color:#666}.table-container[_ngcontent-%COMP%]{overflow-x:auto;border:1px solid #ddd;border-radius:4px}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f5f5f5;padding:.5rem;text-align:left;font-weight:500;font-size:.875rem;border-bottom:1px solid #ddd}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.25rem;border-bottom:1px solid #eee}.data-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid transparent;border-radius:4px;font-size:.875rem}.data-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#1976d2;outline:none}.data-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background:#f5f5f5;cursor:not-allowed}.data-table[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]{width:50px;text-align:center}.data-table[_ngcontent-%COMP%]   .empty-table[_ngcontent-%COMP%]{text-align:center;padding:1rem;color:#999}.data-table.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:#fafafa}.data-table.table-bordered[_ngcontent-%COMP%], .data-table.table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table.table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd}.table-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-top:.5rem}.row-count[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-style:italic}.table-actions[_ngcontent-%COMP%]{margin-top:.5rem}.file-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}.attachment-area[_ngcontent-%COMP%]{padding:1rem;border:2px dashed #ddd;border-radius:4px;text-align:center}.attachment-list[_ngcontent-%COMP%]{margin-top:1rem;text-align:left}.attachment-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#f5f5f5;border-radius:4px;margin-bottom:.5rem}.attachment-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.attachment-item[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{flex:0;color:#666;font-size:.75rem}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:1rem}.form-actions.multi-step[_ngcontent-%COMP%]{justify-content:flex-start}.form-actions[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}.summary-card[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.summary-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding-bottom:.5rem;border-bottom:1px solid #e0e0e0;margin-bottom:1rem}.summary-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.1rem;color:#333}.summary-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2}.summary-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.9rem}.summary-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .summary-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;text-align:left;border-bottom:1px solid #e0e0e0}.summary-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f5f5f5;font-weight:500;color:#666;font-size:.8rem;text-transform:uppercase;letter-spacing:.5px}.summary-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f9f9f9}.summary-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.summary-table[_ngcontent-%COMP%]   .screen-col[_ngcontent-%COMP%]{width:20%;color:#666;font-size:.85rem}.summary-table[_ngcontent-%COMP%]   .label-col[_ngcontent-%COMP%]{width:35%;font-weight:500;color:#333}.summary-table[_ngcontent-%COMP%]   .value-col[_ngcontent-%COMP%]{width:45%;color:#666}.dark-mode[_nghost-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{border-bottom-color:#424242}.dark-mode[_nghost-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{color:#fff}.dark-mode[_nghost-%COMP%]   .summary-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .summary-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#333;color:#bbb}.dark-mode[_nghost-%COMP%]   .summary-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .summary-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-color:#424242}.dark-mode[_nghost-%COMP%]   .summary-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .summary-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#2a2a2a}.dark-mode[_nghost-%COMP%]   .summary-table[_ngcontent-%COMP%]   .label-col[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .summary-table[_ngcontent-%COMP%]   .label-col[_ngcontent-%COMP%]{color:#fff}.dark-mode[_nghost-%COMP%]   .summary-table[_ngcontent-%COMP%]   .value-col[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .summary-table[_ngcontent-%COMP%]   .value-col[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .summary-table[_ngcontent-%COMP%]   .screen-col[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .summary-table[_ngcontent-%COMP%]   .screen-col[_ngcontent-%COMP%]{color:#bbb}.no-summary-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;text-align:center;color:#666}.no-summary-fields[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#999;margin-bottom:1rem}.no-summary-fields[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0}.no-summary-fields[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:.85rem;color:#999}.dark-mode[_nghost-%COMP%]   .no-summary-fields[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .no-summary-fields[_ngcontent-%COMP%]{color:#bbb}.dark-mode[_nghost-%COMP%]   .no-summary-fields[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .no-summary-fields[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666}.dark-mode[_nghost-%COMP%]   .no-summary-fields[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .no-summary-fields[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{color:#666}.step-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.75rem .5rem;margin-bottom:.5rem;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}.step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;cursor:pointer;min-width:60px}.step-circle[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#e0e0e0;color:#666;font-size:.875rem;font-weight:500;font-size:1rem;transition:all .3s ease}.step.active[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{background:#1976d2;color:#fff;box-shadow:0 2px 8px #1976d266}.step.completed[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.step.completed[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.step-label[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.7rem;color:#666;text-align:center;max-width:80px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.step.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:#1976d2;font-weight:500}.step.completed[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:#4caf50}.step-connector[_ngcontent-%COMP%]{flex:1;height:2px;background:#e0e0e0;margin:0 .25rem .75rem;max-width:80px;transition:background .3s ease}.step-connector.completed[_ngcontent-%COMP%]{background:#4caf50}.screen-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;padding:.5rem .75rem;margin-bottom:.5rem;background:#f5f5f5;border-radius:6px;border-left:3px solid #1976d2}.screen-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:1.25rem;width:1.25rem;height:1.25rem;margin-top:.125rem}.screen-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:500;color:#333}.screen-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.125rem 0 0;font-size:.8rem;color:#666}.user-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.25rem 0}.user-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666}.user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.user-name[_ngcontent-%COMP%]{font-weight:500;font-size:.9rem}.user-email[_ngcontent-%COMP%]{font-size:.75rem;color:#666}.dark-mode[_nghost-%COMP%]   .workflow-form-container[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .workflow-form-container[_ngcontent-%COMP%]{background:#1e1e1e;color:#e0e0e0}.dark-mode[_nghost-%COMP%]   .form-card[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .form-card[_ngcontent-%COMP%]{background:#2d2d2d!important}.dark-mode[_nghost-%COMP%]   .form-header[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .form-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1565c0,#0d47a1)}.dark-mode[_nghost-%COMP%]   .workflow-title[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .workflow-title[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   h3[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   h3[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .field-label[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .field-label[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .group-title[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .group-title[_ngcontent-%COMP%]{color:#e0e0e0!important}.dark-mode[_nghost-%COMP%]   .workflow-description[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .workflow-description[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .field-hint[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .field-hint[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .group-description[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .group-description[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .screen-description[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-description[_ngcontent-%COMP%]{color:#aaa!important}.dark-mode[_nghost-%COMP%]   .required-indicator[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .required-indicator[_ngcontent-%COMP%]{color:#ff6b6b}.dark-mode[_nghost-%COMP%]   .field-group[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .field-group[_ngcontent-%COMP%]{background:#333;border-color:#444}.dark-mode[_nghost-%COMP%]   .group-header[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .group-header[_ngcontent-%COMP%]{background:#3d3d3d;border-color:#444}.dark-mode[_nghost-%COMP%]   .divider-field[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .divider-field[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .label-field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .label-field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]   .file-upload-area[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .file-upload-area[_ngcontent-%COMP%]{border-color:#444;background:#2d2d2d}.dark-mode[_nghost-%COMP%]   .file-upload-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .file-upload-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]   .file-list[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .file-list[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .file-item[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .file-item[_ngcontent-%COMP%]{background:#333;border-color:#444;color:#e0e0e0}.dark-mode[_nghost-%COMP%]   .star-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .star-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffc107}.dark-mode[_nghost-%COMP%]   .slider-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .slider-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#e0e0e0}.dark-mode[_nghost-%COMP%]   .color-preview[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .color-preview[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .signature-pad[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .signature-pad[_ngcontent-%COMP%]{border-color:#444;background:#2d2d2d}.dark-mode[_nghost-%COMP%]   .signature-pad[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .signature-pad[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888}.dark-mode[_nghost-%COMP%]   .image-preview-area[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .image-preview-area[_ngcontent-%COMP%]{border-color:#444;background:#2d2d2d}.dark-mode[_nghost-%COMP%]   .image-preview-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .image-preview-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888}.dark-mode[_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#333;border-color:#444;color:#e0e0e0}.dark-mode[_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .data-table.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd), .dark-mode   [_nghost-%COMP%]   .data-table.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:#2d2d2d}.dark-mode[_nghost-%COMP%]   .data-table.table-bordered[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .data-table.table-bordered[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .data-table.table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .data-table.table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .data-table.table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .data-table.table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .row-count[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .row-count[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]   .icon-display[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .icon-display[_ngcontent-%COMP%]{border-color:#444;background:#2d2d2d}.dark-mode[_nghost-%COMP%]   .icon-name[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .icon-name[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]   .screen-tabs[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-tabs[_ngcontent-%COMP%]{background:#2d2d2d}.dark-mode[_nghost-%COMP%]   .screen-tab[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-tab[_ngcontent-%COMP%]{background:#333;border-color:#444;color:#aaa}.dark-mode[_nghost-%COMP%]   .screen-tab.active[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-tab.active[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border-color:#1976d2}.dark-mode[_nghost-%COMP%]   .screen-tab.completed[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-tab.completed[_ngcontent-%COMP%]{background:#2e7d32;color:#fff}.dark-mode[_nghost-%COMP%]   .screen-navigation[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-navigation[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .screen-counter[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-counter[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]   .attachments-section[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .attachments-section[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .attachments-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .attachments-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#e0e0e0}.dark-mode[_nghost-%COMP%]   .comments-section[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .comments-section[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .user-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .user-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]   .user-email[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .user-email[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]     .mat-mdc-form-field, .dark-mode   [_nghost-%COMP%]     .mat-mdc-form-field{color:#e0e0e0}.dark-mode[_nghost-%COMP%]     .mat-mdc-floating-label, .dark-mode   [_nghost-%COMP%]     .mat-mdc-floating-label{color:#aaa!important}.dark-mode[_nghost-%COMP%]     .mat-mdc-input-element, .dark-mode   [_nghost-%COMP%]     .mat-mdc-input-element{color:#e0e0e0!important}.dark-mode[_nghost-%COMP%]     .mat-mdc-select-value, .dark-mode   [_nghost-%COMP%]     .mat-mdc-select-value{color:#e0e0e0!important}.dark-mode[_nghost-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline__leading, .dark-mode   [_nghost-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline__leading, .dark-mode[_nghost-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline__notch, .dark-mode   [_nghost-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline__notch, .dark-mode[_nghost-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline__trailing, .dark-mode   [_nghost-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline__trailing{border-color:#555!important}.dark-mode[_nghost-%COMP%]     .mat-mdc-form-field-hint, .dark-mode   [_nghost-%COMP%]     .mat-mdc-form-field-hint{color:#888!important}.dark-mode[_nghost-%COMP%]     .mat-expansion-panel, .dark-mode   [_nghost-%COMP%]     .mat-expansion-panel{background:#2d2d2d!important}.dark-mode[_nghost-%COMP%]     .mat-expansion-panel-header-title, .dark-mode   [_nghost-%COMP%]     .mat-expansion-panel-header-title{color:#e0e0e0!important}.dark-mode[_nghost-%COMP%]     .mat-mdc-radio-button .mdc-label, .dark-mode   [_nghost-%COMP%]     .mat-mdc-radio-button .mdc-label{color:#e0e0e0}.dark-mode[_nghost-%COMP%]     .mat-mdc-checkbox .mdc-label, .dark-mode   [_nghost-%COMP%]     .mat-mdc-checkbox .mdc-label{color:#e0e0e0}.dark-mode[_nghost-%COMP%]     .mat-mdc-slide-toggle .mdc-label, .dark-mode   [_nghost-%COMP%]     .mat-mdc-slide-toggle .mdc-label{color:#e0e0e0}.dark-mode[_nghost-%COMP%]     .mat-button-toggle-group, .dark-mode   [_nghost-%COMP%]     .mat-button-toggle-group{border-color:#444}.dark-mode[_nghost-%COMP%]     .mat-button-toggle, .dark-mode   [_nghost-%COMP%]     .mat-button-toggle{color:#e0e0e0;background:#2d2d2d}.dark-mode[_nghost-%COMP%]     .mat-button-toggle-checked, .dark-mode   [_nghost-%COMP%]     .mat-button-toggle-checked{background:#1976d2;color:#fff}.dark-mode[_nghost-%COMP%]     .mat-mdc-card, .dark-mode   [_nghost-%COMP%]     .mat-mdc-card{background:#2d2d2d!important;color:#e0e0e0}"]})}return n})();export{N_ as WorkflowFormComponent};
