import{Ba as b,v as h}from"./chunk-37H25STD.js";import{aa as m,fa as n,j as s}from"./chunk-UYCZSUYP.js";var p=(()=>{class a{http;apiUrl=b.apiUrl;themeSettings$=new s({});settingToCssVar={"theme.primary.color":"--primary-color","theme.secondary.color":"--secondary-color","theme.accent.color":"--accent-color","theme.sidebar.bg":"--sidebar-bg","theme.sidebar.text":"--sidebar-text","theme.sidebar.header.bg":"--sidebar-header-bg","theme.sidebar.footer.bg":"--sidebar-footer-bg","theme.header.bg":"--header-bg","theme.header.text":"--header-text","theme.brand.color":"--brand-color","theme.user.profile.bg":"--user-profile-bg","theme.user.profile.text":"--user-profile-text","theme.success.color":"--success-color","theme.warning.color":"--warning-color","theme.error.color":"--error-color","theme.info.color":"--info-color","theme.body.bg":"--body-bg","theme.card.bg":"--card-bg","theme.border.color":"--border-color","theme.table.header.bg":"--table-header-bg","theme.table.stripe.bg":"--table-stripe-bg","theme.button.primary.bg":"--button-primary-bg","theme.button.primary.text":"--button-primary-text","theme.button.secondary.bg":"--button-secondary-bg","theme.button.secondary.text":"--button-secondary-text","theme.link.color":"--link-color","theme.link.hover.color":"--link-hover-color","theme.input.bg":"--input-bg","theme.input.border":"--input-border","theme.input.focus.border":"--input-focus-border","theme.menu.active.bg":"--menu-active-bg","theme.menu.hover.bg":"--menu-hover-bg","theme.badge.pending.bg":"--badge-pending-bg","theme.badge.approved.bg":"--badge-approved-bg","theme.badge.rejected.bg":"--badge-rejected-bg","theme.font.primary":"--font-primary","theme.font.size.base":"--font-size-base","theme.form.field.header.bg":"--form-field-header-bg","theme.form.field.header.color":"--form-field-header-color"};constructor(t){this.http=t}loadTheme(){let t=localStorage.getItem("themeSettings");if(t)try{let e=JSON.parse(t);this.applyTheme(e)}catch{}this.http.get(`${this.apiUrl}/settings/tab/Theme%20Settings`).subscribe({next:e=>{if(e.success&&e.data){let r={};e.data.forEach(o=>{r[o.key]=o.value}),this.themeSettings$.next(r),this.applyTheme(r),localStorage.setItem("themeSettings",JSON.stringify(r))}},error:e=>{console.warn("Failed to load theme settings:",e)}})}applyTheme(t){let e=document.documentElement;Object.entries(t).forEach(([r,o])=>{let i=this.settingToCssVar[r];i&&o&&(r==="theme.font.size.base"&&!isNaN(Number(o))?e.style.setProperty(i,`${o}px`):e.style.setProperty(i,o))}),t["theme.dark.mode"]==="true"?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")}refreshTheme(){this.loadTheme()}getThemeSettings(){return this.themeSettings$.asObservable()}static \u0275fac=function(e){return new(e||a)(n(h))};static \u0275prov=m({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();export{p as a};
