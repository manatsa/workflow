import{a as ee,b as te}from"./chunk-CDWC6WKW.js";import{b as Q,c as U,e as W,i as X,j as Y,l as Z,m as $}from"./chunk-2AGPTHDJ.js";import{d as S,f as M,i as F,j as E,n as y,q as k,r as T,v as A,x as I}from"./chunk-QGDZCCER.js";import{a as D,b as R,c as j,d as q,e as z,f as H,g as J,h as K}from"./chunk-BTSRKJZZ.js";import{a as B}from"./chunk-W7JX3HPD.js";import{d as P,g as v}from"./chunk-M6HZK7Y7.js";import{Aa as L,q as w,va as O,wa as N,ya as V,za as G}from"./chunk-37H25STD.js";import{Eb as g,Jb as m,Ob as i,Pb as r,Qb as p,Ub as h,Yb as b,Zb as l,eb as s,hc as a,ic as f,jb as u,oa as _,pa as C,qb as x,wb as c}from"./chunk-UYCZSUYP.js";function oe(e,d){if(e&1&&(i(0,"div",3),a(1),r()),e&2){let o=l();s(),f(o.successMessage)}}function ie(e,d){if(e&1&&(i(0,"div",4),a(1),r()),e&2){let o=l();s(),f(o.errorMessage)}}function re(e,d){e&1&&(i(0,"mat-error"),a(1,"Email is required"),r())}function ae(e,d){e&1&&(i(0,"mat-error"),a(1,"Please enter a valid email"),r())}function ne(e,d){e&1&&(p(0,"mat-spinner",13),i(1,"span",14),a(2,"Sending..."),r())}function se(e,d){e&1&&a(0," Send Reset Link ")}function me(e,d){if(e&1){let o=h();i(0,"form",8),b("ngSubmit",function(){_(o);let n=l();return C(n.onSubmit())}),i(1,"mat-form-field",9)(2,"mat-label"),a(3,"Email Address"),r(),p(4,"input",10),i(5,"mat-icon",11),a(6,"email"),r(),c(7,re,2,0,"mat-error")(8,ae,2,0,"mat-error"),r(),i(9,"button",12),c(10,ne,3,0)(11,se,1,0),r()()}if(e&2){let o,t,n=l();g("formGroup",n.forgotPasswordForm),s(7),m((o=n.forgotPasswordForm.get("email"))!=null&&o.hasError("required")?7:-1),s(),m((t=n.forgotPasswordForm.get("email"))!=null&&t.hasError("email")?8:-1),s(),g("disabled",n.loading),s(),m(n.loading?10:11)}}var ye=(()=>{class e{fb;authService;forgotPasswordForm;loading=!1;submitted=!1;successMessage="";errorMessage="";constructor(o,t){this.fb=o,this.authService=t,this.forgotPasswordForm=this.fb.group({email:["",[M.required,M.email]]})}onSubmit(){if(this.forgotPasswordForm.markAllAsTouched(),this.forgotPasswordForm.invalid)return;this.loading=!0,this.errorMessage="",this.successMessage="";let o=this.forgotPasswordForm.get("email")?.value?.trim();if(!o){this.loading=!1,this.errorMessage="Please enter your email address";return}this.authService.forgotPassword(o).subscribe({next:t=>{this.loading=!1,t.success?(this.submitted=!0,this.successMessage="Password reset link has been sent to your email address. Please check your inbox."):this.errorMessage=t.message||"Failed to send reset link. Please try again."},error:t=>{this.loading=!1,this.errorMessage=t.error?.message||t.message||"An error occurred. Please try again."}})}static \u0275fac=function(t){return new(t||e)(u(A),u(B))};static \u0275cmp=x({type:e,selectors:[["app-forgot-password"]],decls:16,vars:3,consts:[[1,"forgot-password-container"],[1,"forgot-password-card"],["mat-card-avatar",""],[1,"success-message"],[1,"error-message"],[3,"formGroup"],["align","end"],["mat-button","","routerLink","/login"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"form-field"],["matInput","","formControlName","email","type","email","autocomplete","email"],["matPrefix",""],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"disabled"],["diameter","20"],[2,"margin-left","8px"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-icon",2),a(4,"workflow"),r(),i(5,"mat-card-title"),a(6,"Forgot Password"),r(),i(7,"mat-card-subtitle"),a(8,"Enter your email to reset your password"),r()(),i(9,"mat-card-content"),c(10,oe,2,1,"div",3)(11,ie,2,1,"div",4)(12,me,12,5,"form",5),r(),i(13,"mat-card-actions",6)(14,"a",7),a(15,"Back to Login"),r()()()()),t&2&&(s(10),m(n.successMessage?10:-1),s(),m(n.errorMessage?11:-1),s(),m(n.submitted?-1:12))},dependencies:[w,I,y,S,F,E,k,T,v,P,K,D,z,J,j,H,q,R,Y,X,Q,U,W,$,Z,L,G,V,N,O,te,ee],styles:[".forgot-password-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#1976d2,#1565c0)}.forgot-password-card[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:1rem}mat-card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}.submit-button[_ngcontent-%COMP%]{width:100%;height:48px;font-size:1rem}.success-message[_ngcontent-%COMP%]{background:#e8f5e9;color:#2e7d32;padding:.75rem;border-radius:4px;margin-bottom:1rem}.error-message[_ngcontent-%COMP%]{background:#ffebee;color:#c62828;padding:.75rem;border-radius:4px;margin-bottom:1rem}"]})}return e})();export{ye as ForgotPasswordComponent};
