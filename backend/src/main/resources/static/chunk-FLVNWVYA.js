import{a as St,b as wt,c as Tt,d as Mt,e as bt,f as kt,g as Ot,h as yt,i as Pt}from"./chunk-QFPR6THL.js";import{a as Ft,b as Et,c as vt}from"./chunk-ZMVFBH4E.js";import{a as ft,b as xt,c as gt,d as ht}from"./chunk-MSROSKVG.js";import{a as Ct,b as ut}from"./chunk-6OSA477V.js";import{a as mt,b as pt}from"./chunk-67L4UISH.js";import{a as st}from"./chunk-KHA6H2VC.js";import{c as Fe}from"./chunk-EC7BDYIR.js";import"./chunk-J43BGVIN.js";import"./chunk-MS4AQ6UA.js";import{a as Ke,b as Qe}from"./chunk-DCGWK6OW.js";import{d as he}from"./chunk-WNUHNPS4.js";import{a as it,b as ot,c as at,d as rt,f as lt}from"./chunk-3QZG32TM.js";import{a as tt,b as nt}from"./chunk-I4PAJBBT.js";import{a as _t,c as dt}from"./chunk-INV3KQYA.js";import{b as Ze,c as et}from"./chunk-C5XODKZL.js";import"./chunk-LU6VCXUA.js";import"./chunk-AGZT6V36.js";import{a as Xe,b as je}from"./chunk-CDWC6WKW.js";import{b as Be,e as qe,f as Ge,i as He,j as Ye,l as ze,m as Je}from"./chunk-ZS434AQM.js";import{d as Ee,f as ce,i as ve,j as Se,n as we,o as Te,q as Me,r as be,u as ke,w as Oe}from"./chunk-M3VCE5SG.js";import{a as Ae,b as Ne,c as $e,d as Ve,f as Ue,h as Le}from"./chunk-BTSRKJZZ.js";import{a as ct}from"./chunk-2UBRB5ZZ.js";import"./chunk-MNRHFUYD.js";import"./chunk-UF7Y5AYJ.js";import"./chunk-PMYQJTBZ.js";import{a as We}from"./chunk-W7JX3HPD.js";import{a as fe,c as xe,g as ge}from"./chunk-M6HZK7Y7.js";import{Aa as De,q as ue,va as ye,wa as Pe,xa as Ie,ya as Re}from"./chunk-37H25STD.js";import{B as me,Cc as Ce,Db as X,Eb as F,Fb as le,Gb as w,H as oe,Jb as C,Kb as _e,Lb as ee,Mb as N,Nb as $,Ob as _,Pb as r,Qb as R,Ub as W,Yb as b,Zb as l,a as z,ab as ae,b as J,bb as re,c as Z,eb as o,gc as Y,hc as d,ic as g,jb as H,jc as A,kc as te,oa as T,pa as M,qb as pe,qc as de,wb as u}from"./chunk-UYCZSUYP.js";var It=()=>[],K=(n,c)=>c.id,q=(n,c)=>c.value,Q=(n,c)=>c.name;function Rt(n,c){n&1&&(_(0,"div",11),R(1,"mat-spinner",13),_(2,"p"),d(3,"Loading form..."),r()())}function Dt(n,c){n&1&&(_(0,"mat-icon"),d(1,"check"),r())}function Wt(n,c){if(n&1&&d(0),n&2){let e=l().$index;A(" ",e+1," ")}}function At(n,c){if(n&1&&R(0,"div",25),n&2){let e=l().$index,t=l(3);w("completed",e<t.currentScreenIndex)}}function Nt(n,c){if(n&1){let e=W();_(0,"div",21),b("click",function(){let i=T(e).$index,s=l(3);return M(s.goToScreen(i))}),_(1,"div",22),u(2,Dt,2,0,"mat-icon")(3,Wt,1,1),r(),_(4,"span",23),d(5),r()(),u(6,At,1,2,"div",24)}if(n&2){let e=c.$implicit,t=c.$index,i=l(3);w("active",t===i.currentScreenIndex)("completed",t<i.currentScreenIndex),o(2),C(t<i.currentScreenIndex?2:3),o(3),g(e.title||"Step "+(t+1)),o(),C(t<i.screens.length-1?6:-1)}}function $t(n,c){if(n&1&&(_(0,"mat-icon"),d(1),r()),n&2){let e=l(4);o(),g(e.currentScreen.icon)}}function Vt(n,c){if(n&1&&(_(0,"p"),d(1),r()),n&2){let e=l(4);o(),g(e.currentScreen.description)}}function Ut(n,c){if(n&1&&(_(0,"div",20),u(1,$t,2,1,"mat-icon"),_(2,"div")(3,"h2"),d(4),r(),u(5,Vt,2,1,"p"),r()()),n&2){let e=l(3);o(),C(e.currentScreen.icon?1:-1),o(3),g(e.currentScreen.title),o(),C(e.currentScreen.description?5:-1)}}function Lt(n,c){if(n&1&&(_(0,"div",19),N(1,Nt,7,7,null,null,K),r(),u(3,Ut,6,3,"div",20)),n&2){let e=l(2);o(),$(e.screens),o(2),C(e.currentScreen?3:-1)}}function Bt(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function qt(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Gt(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Bt,2,0,"span",49),r(),R(5,"input",50),r(),u(6,qt,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("placeholder",e.placeholder||"")("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?6:-1)}}function Ht(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Yt(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function zt(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Ht,2,0,"span",49),r(),R(5,"textarea",52),r(),u(6,Yt,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("placeholder",e.placeholder||"")("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?6:-1)}}function Jt(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Xt(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function jt(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Jt,2,0,"span",49),r(),R(5,"input",53),r(),u(6,Xt,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("placeholder",e.placeholder||"")("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?6:-1)}}function Kt(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Qt(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Zt(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Kt,2,0,"span",49),r(),R(5,"input",53),_(6,"span",54),d(7,"$\xA0"),r()(),u(8,Qt,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("placeholder",e.placeholder||"")("readonly",t.isFieldReadonly(e)),o(3),C(t.hasFieldError(e)?8:-1)}}function en(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function tn(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function nn(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,en,2,0,"span",49),r(),R(5,"input",55),r(),u(6,tn,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("placeholder",e.placeholder||"")("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?6:-1)}}function on(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function an(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function rn(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,on,2,0,"span",49),r(),R(5,"input",56),r(),u(6,an,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("placeholder",e.placeholder||"")("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?6:-1)}}function ln(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function _n(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function dn(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,ln,2,0,"span",49),r(),R(5,"input",57),r(),u(6,_n,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("placeholder",e.placeholder||"")("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?6:-1)}}function cn(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function sn(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function mn(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,cn,2,0,"span",49),r(),R(5,"input",58)(6,"mat-datepicker-toggle",59)(7,"mat-datepicker",60,0),r(),u(9,sn,2,1,"div",51),r()),n&2){let e=Y(8),t=l(2).$implicit,i=l(3);o(),w("field-invalid",i.hasFieldError(t)),o(2),g(t.label),o(),C(i.isFieldRequired(t)?4:-1),o(),F("matDatepicker",e)("formControlName",t.name)("readonly",i.isFieldReadonly(t)),o(),F("for",e)("disabled",i.isFieldReadonly(t)),o(),F("disabled",i.isFieldReadonly(t)),o(2),C(i.hasFieldError(t)?9:-1)}}function pn(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Cn(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function un(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,pn,2,0,"span",49),r(),R(5,"input",61),r(),u(6,Cn,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?6:-1)}}function fn(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function xn(n,c){if(n&1&&(_(0,"mat-option",63),d(1),r()),n&2){let e=c.$implicit;F("value",e.value),o(),g(e.label)}}function gn(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function hn(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,fn,2,0,"span",49),r(),_(5,"mat-select",62),N(6,xn,2,2,"mat-option",63,q),r()(),u(8,gn,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("placeholder",e.placeholder||"")("disabled",t.isFieldReadonly(e)),o(),$(e.options),o(2),C(t.hasFieldError(e)?8:-1)}}function Fn(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function En(n,c){if(n&1&&(_(0,"mat-option",63),d(1),r()),n&2){let e=c.$implicit;F("value",e.value),o(),g(e.label)}}function vn(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Sn(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Fn,2,0,"span",49),r(),_(5,"mat-select",64),N(6,En,2,2,"mat-option",63,q),r()(),u(8,vn,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("placeholder",e.placeholder||"")("disabled",t.isFieldReadonly(e)),o(),$(e.options),o(2),C(t.hasFieldError(e)?8:-1)}}function wn(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Tn(n,c){if(n&1&&(_(0,"mat-radio-button",68),d(1),r()),n&2){let e=c.$implicit,t=l(3).$implicit,i=l(3);F("value",e.value)("disabled",i.isFieldReadonly(t)),o(),g(e.label)}}function Mn(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function bn(n,c){if(n&1&&(_(0,"div",65)(1,"label",66),d(2),u(3,wn,2,0,"span",49),r(),_(4,"mat-radio-group",67),N(5,Tn,2,3,"mat-radio-button",68,q),r(),u(7,Mn,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(),w("horizontal-layout",e.optionsLayout==="horizontal"),F("formControlName",e.name)("disabled",t.isFieldReadonly(e)),o(),$(e.options),o(2),C(t.hasFieldError(e)?7:-1)}}function kn(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function On(n,c){if(n&1&&(_(0,"div",29)(1,"mat-checkbox",67),d(2),r(),u(3,kn,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),F("formControlName",e.name)("disabled",t.isFieldReadonly(e)),o(),g(e.label),o(),C(t.hasFieldError(e)?3:-1)}}function yn(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Pn(n,c){if(n&1){let e=W();_(0,"mat-checkbox",72),b("change",function(i){let s=T(e).$implicit,p=l(3).$implicit,E=l(3);return M(E.onCheckboxGroupChange(p.name,s.value,i.checked))}),d(1),r()}if(n&2){let e=c.$implicit,t=l(3).$implicit,i=l(3);F("checked",i.isCheckboxOptionSelected(t.name,e.value))("disabled",i.isFieldReadonly(t)),o(),A(" ",e.label||e.value," ")}}function In(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Rn(n,c){if(n&1&&(_(0,"div",69)(1,"label",66),d(2),u(3,yn,2,0,"span",49),r(),_(4,"div",70),N(5,Pn,2,3,"mat-checkbox",71,q),r(),u(7,In,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(),w("horizontal-layout",e.optionsLayout==="horizontal"),o(),$(e.options||de(7,It)),o(2),C(t.hasFieldError(e)?7:-1)}}function Dn(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Wn(n,c){if(n&1&&(_(0,"mat-chip"),d(1),r()),n&2){let e=c.$implicit;o(),g(e.name)}}function An(n,c){if(n&1&&(_(0,"div",75),N(1,Wn,2,1,"mat-chip",null,Q),r()),n&2){let e=l(3).$implicit,t=l(3);o(),$(t.selectedFiles[e.name])}}function Nn(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function $n(n,c){if(n&1){let e=W();_(0,"div",73)(1,"label",66),d(2),u(3,Dn,2,0,"span",49),r(),_(4,"input",74),b("change",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.onFileSelect(i,s.name))}),r(),u(5,An,3,0,"div",75)(6,Nn,2,1,"div",51),r()}if(n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(),F("multiple",e.multiple)("disabled",t.isFieldReadonly(e)),o(),C(t.selectedFiles[e.name]&&t.selectedFiles[e.name].length>0?5:-1),o(),C(t.hasFieldError(e)?6:-1)}}function Vn(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Un(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Ln(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Vn,2,0,"span",49),r(),R(5,"input",76),r(),u(6,Un,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("placeholder",e.placeholder||"")("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?6:-1)}}function Bn(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function qn(n,c){if(n&1&&(_(0,"mat-option",63)(1,"div",80)(2,"mat-icon"),d(3,"person"),r(),_(4,"div",81)(5,"span",82),d(6),r(),_(7,"span",83),d(8),r()()()()),n&2){let e=c.$implicit;F("value",e),o(6),te("",e.firstName," ",e.lastName,""),o(2),g(e.email)}}function Gn(n,c){n&1&&(_(0,"mat-option",79),d(1,"No users found"),r())}function Hn(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Yn(n,c){if(n&1){let e=W();_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Bn,2,0,"span",49),r(),_(5,"mat-icon",54),d(6,"person_search"),r(),_(7,"input",77),b("input",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.onUserSearch(i,s.name))}),r(),_(8,"mat-autocomplete",78,1),b("optionSelected",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.onUserSelected(i,s.name))}),N(10,qn,9,4,"mat-option",63,K),u(12,Gn,2,0,"mat-option",79),r()(),u(13,Hn,2,1,"div",51),r()}if(n&2){let e=Y(9),t=l(2).$implicit,i=l(3);o(),w("field-invalid",i.hasFieldError(t)),o(2),g(t.label),o(),C(i.isFieldRequired(t)?4:-1),o(3),F("formControlName",t.name)("matAutocomplete",e)("placeholder",t.placeholder||"Search for a user...")("readonly",i.isFieldReadonly(t)),o(),F("displayWith",i.displayUserFn),o(2),$(i.getFilteredUsers(t.name)),o(2),C(i.getFilteredUsers(t.name).length===0&&i.userSearchTerms[t.name]?12:-1),o(),C(i.hasFieldError(t)?13:-1)}}function zn(n,c){if(n&1&&R(0,"input",33),n&2){let e=l(2).$implicit;F("formControlName",e.name)}}function Jn(n,c){if(n&1&&(_(0,"p",85),d(1),r()),n&2){let e=l(3).$implicit;o(),g(e.defaultValue)}}function Xn(n,c){if(n&1&&(_(0,"div",34)(1,"p",84),d(2),r(),u(3,Jn,2,1,"p",85),r()),n&2){let e=l(2).$implicit;o(2),g(e.label),o(),C(e.defaultValue?3:-1)}}function jn(n,c){if(n&1&&(_(0,"span",86),d(1),r()),n&2){let e=l(3).$implicit;o(),g(e.label)}}function Kn(n,c){if(n&1&&(_(0,"div",35),R(1,"mat-divider"),u(2,jn,2,1,"span",86),r()),n&2){let e=l(2).$implicit;o(2),C(e.label?2:-1)}}function Qn(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Zn(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function ei(n,c){if(n&1&&(_(0,"div",36)(1,"mat-slide-toggle",67),d(2),u(3,Qn,2,0,"span",49),r(),u(4,Zn,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),F("formControlName",e.name)("disabled",t.isFieldReadonly(e)),o(),A(" ",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(),C(t.hasFieldError(e)?4:-1)}}function ti(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function ni(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function ii(n,c){if(n&1&&(_(0,"div",87)(1,"label",66),d(2),u(3,ti,2,0,"span",49),r(),_(4,"mat-button-toggle-group",67)(5,"mat-button-toggle",88),d(6,"Yes"),r(),_(7,"mat-button-toggle",89),d(8,"No"),r()(),u(9,ni,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(),F("formControlName",e.name)("disabled",t.isFieldReadonly(e)),o(5),C(t.hasFieldError(e)?9:-1)}}function oi(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function ai(n,c){if(n&1){let e=W();_(0,"mat-icon",93),b("click",function(){let i=T(e).$implicit,s=l(3).$implicit,p=l(3);return M(p.setRating(s,i))}),d(1),r()}if(n&2){let e=c.$implicit,t=l(3).$implicit,i=l(3);w("filled",i.getRatingValue(t)>=e)("readonly",i.isFieldReadonly(t)),o(),A(" ",i.getRatingValue(t)>=e?"star":"star_border"," ")}}function ri(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function li(n,c){if(n&1&&(_(0,"div",90)(1,"label",66),d(2),u(3,oi,2,0,"span",49),r(),_(4,"div",91),N(5,ai,2,5,"mat-icon",92,ee),r(),u(7,ri,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(2),$(t.getStarArray(e)),o(2),C(t.hasFieldError(e)?7:-1)}}function _i(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function di(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function ci(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,_i,2,0,"span",49),r(),R(5,"input",94),r(),u(6,di,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?6:-1)}}function si(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function mi(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function pi(n,c){if(n&1&&(_(0,"div",95)(1,"label",66),d(2),u(3,si,2,0,"span",49),r(),_(4,"mat-slider",96),R(5,"input",97),r(),u(6,mi,2,1,"div",51),r()),n&2){let e,t=l(2).$implicit,i=l(3);w("has-error",i.hasFieldError(t)),o(2),te("",t.label,": ",((e=i.form.get(t.name))==null?null:e.value)||0," "),o(),C(i.isFieldRequired(t)?3:-1),o(),F("min",t.sliderMin||0)("max",t.sliderMax||100)("step",t.sliderStep||1)("discrete",!0)("disabled",i.isFieldReadonly(t)),o(),F("formControlName",t.name),o(),C(i.hasFieldError(t)?6:-1)}}function Ci(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function ui(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function fi(n,c){if(n&1&&(_(0,"div",98)(1,"label",66),d(2),u(3,Ci,2,0,"span",49),r(),R(4,"input",99),u(5,ui,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(),F("formControlName",e.name)("disabled",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?5:-1)}}function xi(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function gi(n,c){if(n&1&&R(0,"img",104),n&2){let e=l(3).$implicit,t=l(3);F("src",t.getImagePreview(e),re)}}function hi(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Fi(n,c){if(n&1){let e=W();_(0,"div",100)(1,"label",66),d(2),u(3,xi,2,0,"span",49),r(),_(4,"div",101)(5,"input",102,2),b("change",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.onImageSelect(i,s))}),r(),_(7,"button",103),b("click",function(){T(e);let i=Y(6);return M(i.click())}),_(8,"mat-icon"),d(9,"add_photo_alternate"),r(),d(10," Select Image "),r(),u(11,gi,1,1,"img",104),r(),u(12,hi,2,1,"div",51),r()}if(n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(4),F("disabled",t.isFieldReadonly(e)),o(4),C(t.getImagePreview(e)?11:-1),o(),C(t.hasFieldError(e)?12:-1)}}function Ei(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function vi(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Si(n,c){if(n&1){let e=W();_(0,"div",105)(1,"label",66),d(2),u(3,Ei,2,0,"span",49),r(),_(4,"div",106)(5,"canvas",107),b("mousedown",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.startSignature(i,s))})("mousemove",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.drawSignature(i,s))})("mouseup",function(){T(e);let i=l(2).$implicit,s=l(3);return M(s.endSignature(i))})("mouseleave",function(){T(e);let i=l(2).$implicit,s=l(3);return M(s.endSignature(i))})("touchstart",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.startSignatureTouch(i,s))})("touchmove",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.drawSignatureTouch(i,s))})("touchend",function(){T(e);let i=l(2).$implicit,s=l(3);return M(s.endSignature(i))}),r(),_(6,"div",108)(7,"button",109),b("click",function(){T(e);let i=l(2).$implicit,s=l(3);return M(s.clearSignature(i))}),_(8,"mat-icon"),d(9,"clear"),r()()()(),u(10,vi,2,1,"div",51),r()}if(n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(2),X("data-field",e.name),o(2),F("disabled",t.isFieldReadonly(e)),o(3),C(t.hasFieldError(e)?10:-1)}}function wi(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Ti(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Mi(n,c){if(n&1){let e=W();_(0,"div",110)(1,"label",66),d(2),u(3,wi,2,0,"span",49),r(),_(4,"div",111)(5,"div",112)(6,"button",113),b("click",function(){T(e);let i=l(5);return M(i.execRichTextCommand("bold"))}),_(7,"mat-icon"),d(8,"format_bold"),r()(),_(9,"button",114),b("click",function(){T(e);let i=l(5);return M(i.execRichTextCommand("italic"))}),_(10,"mat-icon"),d(11,"format_italic"),r()(),_(12,"button",115),b("click",function(){T(e);let i=l(5);return M(i.execRichTextCommand("underline"))}),_(13,"mat-icon"),d(14,"format_underlined"),r()(),R(15,"span",116),_(16,"button",117),b("click",function(){T(e);let i=l(5);return M(i.execRichTextCommand("insertUnorderedList"))}),_(17,"mat-icon"),d(18,"format_list_bulleted"),r()(),_(19,"button",118),b("click",function(){T(e);let i=l(5);return M(i.execRichTextCommand("insertOrderedList"))}),_(20,"mat-icon"),d(21,"format_list_numbered"),r()()(),_(22,"div",119),b("input",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.onRichTextInput(i,s))})("blur",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.onRichTextBlur(i,s))}),r()(),u(23,Ti,2,1,"div",51),r()}if(n&2){let e,t=l(2).$implicit,i=l(3);w("has-error",i.hasFieldError(t)),o(2),A("",t.label," "),o(),C(i.isFieldRequired(t)?3:-1),o(3),F("disabled",i.isFieldReadonly(t)),o(3),F("disabled",i.isFieldReadonly(t)),o(3),F("disabled",i.isFieldReadonly(t)),o(4),F("disabled",i.isFieldReadonly(t)),o(3),F("disabled",i.isFieldReadonly(t)),o(3),w("readonly",i.isFieldReadonly(t)),F("innerHTML",((e=i.form.get(t.name))==null?null:e.value)||"",ae),X("data-field",t.name),o(),C(i.hasFieldError(t)?23:-1)}}function bi(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function ki(n,c){if(n&1&&(_(0,"mat-icon"),d(1),r(),_(2,"span"),d(3),r()),n&2){let e,t,i=l(3).$implicit,s=l(3);o(),g((e=s.form.get(i.name))==null?null:e.value),o(2),g((t=s.form.get(i.name))==null?null:t.value)}}function Oi(n,c){n&1&&(_(0,"mat-icon"),d(1,"emoji_symbols"),r(),_(2,"span"),d(3,"Select an icon..."),r())}function yi(n,c){if(n&1){let e=W();_(0,"div",128),b("click",function(){let i=T(e).$implicit,s=l(4).$implicit,p=l(3);return M(p.selectIcon(s,i))}),_(1,"mat-icon"),d(2),r()()}if(n&2){let e,t=c.$implicit,i=l(4).$implicit,s=l(3);w("selected",((e=s.form.get(i.name))==null?null:e.value)===t),o(2),g(t)}}function Pi(n,c){if(n&1){let e=W();_(0,"div",124)(1,"input",125),b("input",function(i){T(e);let s=l(3).$implicit,p=l(3);return M(p.onIconSearch(i,s))}),r(),_(2,"div",126),N(3,yi,3,3,"div",127,ee),r()()}if(n&2){let e=l(3).$implicit,t=l(3);o(),F("value",t.iconSearchText[e.name]||""),o(2),$(t.getFilteredIcons(e))}}function Ii(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Ri(n,c){if(n&1){let e=W();_(0,"div",120)(1,"label",66),d(2),u(3,bi,2,0,"span",49),r(),_(4,"div",121)(5,"div",122),b("click",function(){T(e);let i=l(2).$implicit,s=l(3);return M(s.toggleIconPicker(i))}),u(6,ki,4,2)(7,Oi,4,0),_(8,"mat-icon",123),d(9,"arrow_drop_down"),r()(),u(10,Pi,5,1,"div",124),r(),u(11,Ii,2,1,"div",51),r()}if(n&2){let e,t=l(2).$implicit,i=l(3);w("has-error",i.hasFieldError(t)),o(2),A("",t.label," "),o(),C(i.isFieldRequired(t)?3:-1),o(2),w("disabled",i.isFieldReadonly(t)),o(),C((e=i.form.get(t.name))!=null&&e.value?6:7),o(4),C(i.isIconPickerOpen(t)?10:-1),o(),C(i.hasFieldError(t)?11:-1)}}function Di(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Wi(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Ai(n,c){if(n&1){let e=W();_(0,"div",129)(1,"label",66),d(2),u(3,Di,2,0,"span",49),r(),_(4,"div",130)(5,"mat-form-field",48)(6,"mat-label"),d(7,"Barcode/QR Code"),r(),R(8,"input",131),_(9,"button",132),b("click",function(){T(e);let i=l(2).$implicit,s=l(3);return M(s.scanBarcode(i))}),_(10,"mat-icon"),d(11,"qr_code_scanner"),r()()()(),u(12,Wi,2,1,"div",51),r()}if(n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(5),F("formControlName",e.name)("readonly",t.isFieldReadonly(e)),o(),F("disabled",t.isFieldReadonly(e)),o(3),C(t.hasFieldError(e)?12:-1)}}function Ni(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function $i(n,c){n&1&&(_(0,"mat-icon",139),d(1,"sync"),r())}function Vi(n,c){n&1&&(_(0,"mat-icon"),d(1,"my_location"),r())}function Ui(n,c){if(n&1&&(_(0,"div",140)(1,"mat-icon"),d(2,"place"),r(),_(3,"span"),d(4),r()()),n&2){let e=l(3).$implicit,t=l(3);o(4),g(t.getLocationDisplay(e))}}function Li(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Bi(n,c){if(n&1){let e=W();_(0,"div",133)(1,"label",66),d(2),u(3,Ni,2,0,"span",49),r(),_(4,"div",134)(5,"div",135)(6,"mat-form-field",136)(7,"mat-label"),d(8,"Latitude"),r(),_(9,"input",137),b("input",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.onLocationLatChange(i,s))}),r()(),_(10,"mat-form-field",136)(11,"mat-label"),d(12,"Longitude"),r(),_(13,"input",137),b("input",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.onLocationLngChange(i,s))}),r()(),_(14,"button",138),b("click",function(){T(e);let i=l(2).$implicit,s=l(3);return M(s.getCurrentLocation(i))}),u(15,$i,2,0,"mat-icon",139)(16,Vi,2,0,"mat-icon"),r()(),u(17,Ui,5,1,"div",140),r(),u(18,Li,2,1,"div",51),r()}if(n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(6),F("value",t.getLocationLat(e))("readonly",t.isFieldReadonly(e)),o(4),F("value",t.getLocationLng(e))("readonly",t.isFieldReadonly(e)),o(),F("disabled",t.isFieldReadonly(e)||t.isGettingLocation(e)),o(),C(t.isGettingLocation(e)?15:16),o(2),C(t.getLocationDisplay(e)?17:-1),o(),C(t.hasFieldError(e)?18:-1)}}function qi(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Gi(n,c){if(n&1&&(_(0,"th"),d(1),r()),n&2){let e=c.$implicit;o(),g(e.label)}}function Hi(n,c){if(n&1){let e=W();_(0,"td")(1,"input",147),b("input",function(i){let s=T(e).$implicit,p=l().$index,E=l(3).$implicit,x=l(3);return M(x.onTableCellChange(i,E,p,s.name))}),r()()}if(n&2){let e=c.$implicit,t=l().$implicit,i=l(3).$implicit,s=l(3);o(),F("value",t[e.name]||"")("readonly",s.isFieldReadonly(i))}}function Yi(n,c){if(n&1){let e=W();_(0,"tr"),N(1,Hi,2,2,"td",null,Q),_(3,"td",144)(4,"button",146),b("click",function(){let i=T(e).$index,s=l(3).$implicit,p=l(3);return M(p.removeTableRow(s,i))}),_(5,"mat-icon"),d(6,"delete"),r()()()()}if(n&2){let e=l(3).$implicit,t=l(3);o(),$(t.getTableColumns(e)),o(3),F("disabled",t.isFieldReadonly(e))}}function zi(n,c){if(n&1&&(_(0,"tr")(1,"td",148),d(2,' No rows added. Click "Add Row" to add data. '),r()()),n&2){let e=l(3).$implicit,t=l(3);o(),X("colspan",t.getTableColumns(e).length+1)}}function Ji(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Xi(n,c){if(n&1){let e=W();_(0,"div",141)(1,"label",66),d(2),u(3,qi,2,0,"span",49),r(),_(4,"div",142)(5,"table",143)(6,"thead")(7,"tr"),N(8,Gi,2,1,"th",null,Q),_(10,"th",144),d(11,"Actions"),r()()(),_(12,"tbody"),N(13,Yi,7,1,"tr",null,_e),u(15,zi,3,1,"tr"),r()(),_(16,"button",145),b("click",function(){T(e);let i=l(2).$implicit,s=l(3);return M(s.addTableRow(i))}),_(17,"mat-icon"),d(18,"add"),r(),d(19," Add Row "),r()(),u(20,Ji,2,1,"div",51),r()}if(n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(5),$(t.getTableColumns(e)),o(5),$(t.getTableRows(e)),o(2),C(t.getTableRows(e).length===0?15:-1),o(),F("disabled",t.isFieldReadonly(e)),o(4),C(t.hasFieldError(e)?20:-1)}}function ji(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Ki(n,c){if(n&1&&(_(0,"mat-option",63),d(1),r()),n&2){let e=c.$implicit;F("value",e.value),o(),g(e.label)}}function Qi(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(4).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Zi(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,ji,2,0,"span",49),r(),_(5,"mat-select",62),N(6,Ki,2,2,"mat-option",63,q),r()(),u(8,Qi,2,1,"div",51),r()),n&2){let e=l(3).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("placeholder",e.placeholder||"")("disabled",t.isFieldReadonly(e)),o(),$(e.options),o(2),C(t.hasFieldError(e)?8:-1)}}function eo(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function to(n,c){if(n&1&&(_(0,"mat-option",63),d(1),r()),n&2){let e=c.$implicit;F("value",e.value),o(),g(e.label)}}function no(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(4).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function io(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,eo,2,0,"span",49),r(),_(5,"mat-select",64),N(6,to,2,2,"mat-option",63,q),r()(),u(8,no,2,1,"div",51),r()),n&2){let e=l(3).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("placeholder",e.placeholder||"")("disabled",t.isFieldReadonly(e)),o(),$(e.options),o(2),C(t.hasFieldError(e)?8:-1)}}function oo(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function ao(n,c){if(n&1&&(_(0,"mat-radio-button",68),d(1),r()),n&2){let e=c.$implicit,t=l(4).$implicit,i=l(3);F("value",e.value)("disabled",i.isFieldReadonly(t)),o(),g(e.label)}}function ro(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(4).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function lo(n,c){if(n&1&&(_(0,"div",65)(1,"label",66),d(2),u(3,oo,2,0,"span",49),r(),_(4,"mat-radio-group",67),N(5,ao,2,3,"mat-radio-button",68,q),r(),u(7,ro,2,1,"div",51),r()),n&2){let e=l(3).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(),w("horizontal-layout",e.optionsLayout==="horizontal"),F("formControlName",e.name)("disabled",t.isFieldReadonly(e)),o(),$(e.options),o(2),C(t.hasFieldError(e)?7:-1)}}function _o(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function co(n,c){if(n&1){let e=W();_(0,"mat-checkbox",72),b("change",function(i){let s=T(e).$implicit,p=l(4).$implicit,E=l(3);return M(E.onCheckboxGroupChange(p.name,s.value,i.checked))}),d(1),r()}if(n&2){let e=c.$implicit,t=l(4).$implicit,i=l(3);F("checked",i.isCheckboxOptionSelected(t.name,e.value))("disabled",i.isFieldReadonly(t)),o(),A(" ",e.label," ")}}function so(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(4).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function mo(n,c){if(n&1&&(_(0,"div",150)(1,"label",66),d(2),u(3,_o,2,0,"span",49),r(),_(4,"div",151),N(5,co,2,3,"mat-checkbox",71,q),r(),u(7,so,2,1,"div",51),r()),n&2){let e=l(3).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(),w("horizontal-layout",e.optionsLayout==="horizontal"),o(),$(e.options),o(2),C(t.hasFieldError(e)?7:-1)}}function po(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Co(n,c){if(n&1&&(_(0,"mat-option",63),d(1),r()),n&2){let e=c.$implicit;F("value",e.value),o(),g(e.label)}}function uo(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(4).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function fo(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,po,2,0,"span",49),r(),_(5,"mat-select",62),N(6,Co,2,2,"mat-option",63,q),r()(),u(8,uo,2,1,"div",51),r()),n&2){let e=l(3).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("placeholder",e.placeholder||"")("disabled",t.isFieldReadonly(e)),o(),$(e.options),o(2),C(t.hasFieldError(e)?8:-1)}}function xo(n,c){if(n&1&&u(0,Zi,9,8,"div",29)(1,io,9,8,"div",29)(2,lo,8,9,"div",30)(3,mo,8,7,"div",149)(4,fo,9,8,"div",29),n&2){let e,t=l(2).$implicit;C((e=t.viewType)==="SELECT"?0:e==="MULTISELECT"?1:e==="RADIO"?2:e==="CHECKBOX_GROUP"?3:4)}}function go(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),r(),R(4,"input",50),r()()),n&2){let e=l(2).$implicit,t=l(3);o(3),g(e.label),o(),F("formControlName",e.name)("placeholder",e.placeholder||"")("readonly",t.isFieldReadonly(e))}}function ho(n,c){if(n&1&&(_(0,"div",28),u(1,Gt,7,8,"div",29)(2,zt,7,8,"div",29)(3,jt,7,8,"div",29)(4,Zt,9,8,"div",29)(5,nn,7,8,"div",29)(6,rn,7,8,"div",29)(7,dn,7,8,"div",29)(8,mn,10,11,"div",29)(9,un,7,7,"div",29)(10,hn,9,8,"div",29)(11,Sn,9,8,"div",29)(12,bn,8,9,"div",30)(13,On,4,4,"div",29)(14,Rn,8,8,"div",31)(15,$n,7,8,"div",32)(16,Ln,7,8,"div",29)(17,Yn,14,11,"div",29)(18,zn,1,1,"input",33)(19,Xn,4,2,"div",34)(20,Kn,3,1,"div",35)(21,ei,5,5,"div",36)(22,ii,10,7,"div",37)(23,li,8,5,"div",38)(24,ci,7,7,"div",29)(25,pi,7,12,"div",39)(26,fi,6,7,"div",40)(27,Fi,13,7,"div",41)(28,Si,11,7,"div",42)(29,Mi,24,14,"div",43)(30,Ri,12,9,"div",44)(31,Ai,13,8,"div",45)(32,Bi,19,12,"div",46)(33,Xi,21,7,"div",47)(34,xo,5,1)(35,go,5,4,"div",29),r()),n&2){let e,t=l().$implicit;le("grid-column","span "+(t.columnSpan||2)),o(),C((e=t.type)==="TEXT"?1:e==="TEXTAREA"?2:e==="NUMBER"?3:e==="CURRENCY"?4:e==="EMAIL"?5:e==="PHONE"?6:e==="PASSWORD"?7:e==="DATE"?8:e==="DATETIME"?9:e==="SELECT"?10:e==="MULTISELECT"?11:e==="RADIO"?12:e==="CHECKBOX"?13:e==="CHECKBOX_GROUP"?14:e==="FILE"?15:e==="URL"?16:e==="USER"?17:e==="HIDDEN"?18:e==="LABEL"?19:e==="DIVIDER"?20:e==="TOGGLE"?21:e==="YES_NO"?22:e==="RATING"?23:e==="TIME"?24:e==="SLIDER"?25:e==="COLOR"?26:e==="IMAGE"?27:e==="SIGNATURE"?28:e==="RICH_TEXT"?29:e==="ICON"?30:e==="BARCODE"?31:e==="LOCATION"?32:e==="TABLE"?33:e==="SQL_OBJECT"?34:35)}}function Fo(n,c){if(n&1&&u(0,ho,36,3,"div",27),n&2){let e=c.$implicit,t=l(3);C(t.isFieldVisible(e)?0:-1)}}function Eo(n,c){if(n&1&&(_(0,"mat-card",15)(1,"mat-card-content")(2,"div",26),N(3,Fo,1,1,null,null,K),r()()()),n&2){let e=l(2);o(3),$(e.isMultiStep?e.getUngroupedFieldsOnScreen():e.getUngroupedFields())}}function vo(n,c){if(n&1&&(_(0,"mat-panel-description"),d(1),r()),n&2){let e=l().$implicit;o(),g(e.description)}}function So(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function wo(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function To(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,So,2,0,"span",49),r(),R(5,"input",50),r(),u(6,wo,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("placeholder",e.placeholder||"")("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?6:-1)}}function Mo(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function bo(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function ko(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Mo,2,0,"span",49),r(),R(5,"textarea",153),r(),u(6,bo,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?6:-1)}}function Oo(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function yo(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Po(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Oo,2,0,"span",49),r(),R(5,"input",154),r(),u(6,yo,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?6:-1)}}function Io(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Ro(n,c){if(n&1&&(_(0,"mat-option",63),d(1),r()),n&2){let e=c.$implicit;F("value",e.value),o(),g(e.label)}}function Do(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Wo(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Io,2,0,"span",49),r(),_(5,"mat-select",67),N(6,Ro,2,2,"mat-option",63,q),r()(),u(8,Do,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("disabled",t.isFieldReadonly(e)),o(),$(e.options),o(2),C(t.hasFieldError(e)?8:-1)}}function Ao(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function No(n,c){if(n&1&&(_(0,"mat-option",63),d(1),r()),n&2){let e=c.$implicit;F("value",e.value),o(),g(e.label)}}function $o(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Vo(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Ao,2,0,"span",49),r(),_(5,"mat-select",155),N(6,No,2,2,"mat-option",63,q),r()(),u(8,$o,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("disabled",t.isFieldReadonly(e)),o(),$(e.options),o(2),C(t.hasFieldError(e)?8:-1)}}function Uo(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Lo(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Bo(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Uo,2,0,"span",49),r(),_(5,"span",156),d(6,"$\xA0"),r(),R(7,"input",157),r(),u(8,Lo,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(3),F("formControlName",e.name)("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?8:-1)}}function qo(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Go(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Ho(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,qo,2,0,"span",49),r(),R(5,"input",158),r(),u(6,Go,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?6:-1)}}function Yo(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function zo(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Jo(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Yo,2,0,"span",49),r(),R(5,"input",159),r(),u(6,zo,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?6:-1)}}function Xo(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function jo(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Ko(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Xo,2,0,"span",49),r(),R(5,"input",160),r(),u(6,jo,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?6:-1)}}function Qo(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Zo(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function ea(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Qo,2,0,"span",49),r(),R(5,"input",58)(6,"mat-datepicker-toggle",59)(7,"mat-datepicker",60,3),r(),u(9,Zo,2,1,"div",51),r()),n&2){let e=Y(8),t=l(2).$implicit,i=l(3);o(),w("field-invalid",i.hasFieldError(t)),o(2),g(t.label),o(),C(i.isFieldRequired(t)?4:-1),o(),F("matDatepicker",e)("formControlName",t.name)("readonly",i.isFieldReadonly(t)),o(),F("for",e)("disabled",i.isFieldReadonly(t)),o(),F("disabled",i.isFieldReadonly(t)),o(2),C(i.hasFieldError(t)?9:-1)}}function ta(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function na(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function ia(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,ta,2,0,"span",49),r(),R(5,"input",61),r(),u(6,na,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?6:-1)}}function oa(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function aa(n,c){if(n&1&&(_(0,"mat-radio-button",63),d(1),r()),n&2){let e=c.$implicit;F("value",e.value),o(),g(e.label)}}function ra(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function la(n,c){if(n&1&&(_(0,"div",65)(1,"label",66),d(2),u(3,oa,2,0,"span",49),r(),_(4,"mat-radio-group",67),N(5,aa,2,2,"mat-radio-button",63,q),r(),u(7,ra,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(),w("horizontal-layout",e.optionsLayout==="horizontal"),F("formControlName",e.name)("disabled",t.isFieldReadonly(e)),o(),$(e.options),o(2),C(t.hasFieldError(e)?7:-1)}}function _a(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function da(n,c){if(n&1&&(_(0,"div",29)(1,"mat-checkbox",67),d(2),r(),u(3,_a,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),F("formControlName",e.name)("disabled",t.isFieldReadonly(e)),o(),g(e.label),o(),C(t.hasFieldError(e)?3:-1)}}function ca(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function sa(n,c){if(n&1){let e=W();_(0,"mat-checkbox",72),b("change",function(i){let s=T(e).$implicit,p=l(3).$implicit,E=l(3);return M(E.onCheckboxGroupChange(p.name,s.value,i.checked))}),d(1),r()}if(n&2){let e=c.$implicit,t=l(3).$implicit,i=l(3);F("checked",i.isCheckboxOptionSelected(t.name,e.value))("disabled",i.isFieldReadonly(t)),o(),A(" ",e.label||e.value," ")}}function ma(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function pa(n,c){if(n&1&&(_(0,"div",69)(1,"label",66),d(2),u(3,ca,2,0,"span",49),r(),_(4,"div",70),N(5,sa,2,3,"mat-checkbox",71,q),r(),u(7,ma,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(),w("horizontal-layout",e.optionsLayout==="horizontal"),o(),$(e.options||de(7,It)),o(2),C(t.hasFieldError(e)?7:-1)}}function Ca(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function ua(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function fa(n,c){if(n&1){let e=W();_(0,"div",73)(1,"label",66),d(2),u(3,Ca,2,0,"span",49),r(),_(4,"input",74),b("change",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.onFileSelect(i,s.name))}),r(),u(5,ua,2,1,"div",51),r()}if(n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(),F("multiple",e.multiple)("disabled",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?5:-1)}}function xa(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function ga(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function ha(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,xa,2,0,"span",49),r(),R(5,"input",161),r(),u(6,ga,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?6:-1)}}function Fa(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Ea(n,c){if(n&1&&(_(0,"mat-option",63)(1,"div",80)(2,"mat-icon"),d(3,"person"),r(),_(4,"div",81)(5,"span",82),d(6),r(),_(7,"span",83),d(8),r()()()()),n&2){let e=c.$implicit;F("value",e),o(6),te("",e.firstName," ",e.lastName,""),o(2),g(e.email)}}function va(n,c){n&1&&(_(0,"mat-option",79),d(1,"No users found"),r())}function Sa(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function wa(n,c){if(n&1){let e=W();_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Fa,2,0,"span",49),r(),_(5,"mat-icon",54),d(6,"person_search"),r(),_(7,"input",77),b("input",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.onUserSearch(i,s.name))}),r(),_(8,"mat-autocomplete",78,4),b("optionSelected",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.onUserSelected(i,s.name))}),N(10,Ea,9,4,"mat-option",63,K),u(12,va,2,0,"mat-option",79),r()(),u(13,Sa,2,1,"div",51),r()}if(n&2){let e=Y(9),t=l(2).$implicit,i=l(3);o(),w("field-invalid",i.hasFieldError(t)),o(2),g(t.label),o(),C(i.isFieldRequired(t)?4:-1),o(3),F("formControlName",t.name)("matAutocomplete",e)("placeholder",t.placeholder||"Search for a user...")("readonly",i.isFieldReadonly(t)),o(),F("displayWith",i.displayUserFn),o(2),$(i.getFilteredUsers(t.name)),o(2),C(i.getFilteredUsers(t.name).length===0&&i.userSearchTerms[t.name]?12:-1),o(),C(i.hasFieldError(t)?13:-1)}}function Ta(n,c){if(n&1&&R(0,"input",33),n&2){let e=l(2).$implicit;F("formControlName",e.name)}}function Ma(n,c){if(n&1&&(_(0,"p",85),d(1),r()),n&2){let e=l(3).$implicit;o(),g(e.defaultValue)}}function ba(n,c){if(n&1&&(_(0,"div",34)(1,"p",84),d(2),r(),u(3,Ma,2,1,"p",85),r()),n&2){let e=l(2).$implicit;o(2),g(e.label),o(),C(e.defaultValue?3:-1)}}function ka(n,c){if(n&1&&(_(0,"span",86),d(1),r()),n&2){let e=l(3).$implicit;o(),g(e.label)}}function Oa(n,c){if(n&1&&(_(0,"div",35),R(1,"mat-divider"),u(2,ka,2,1,"span",86),r()),n&2){let e=l(2).$implicit;o(2),C(e.label?2:-1)}}function ya(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Pa(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Ia(n,c){if(n&1&&(_(0,"div",36)(1,"mat-slide-toggle",67),d(2),u(3,ya,2,0,"span",49),r(),u(4,Pa,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),F("formControlName",e.name)("disabled",t.isFieldReadonly(e)),o(),A(" ",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(),C(t.hasFieldError(e)?4:-1)}}function Ra(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Da(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Wa(n,c){if(n&1&&(_(0,"div",87)(1,"label",66),d(2),u(3,Ra,2,0,"span",49),r(),_(4,"mat-button-toggle-group",67)(5,"mat-button-toggle",88),d(6,"Yes"),r(),_(7,"mat-button-toggle",89),d(8,"No"),r()(),u(9,Da,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(),F("formControlName",e.name)("disabled",t.isFieldReadonly(e)),o(5),C(t.hasFieldError(e)?9:-1)}}function Aa(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Na(n,c){if(n&1){let e=W();_(0,"mat-icon",93),b("click",function(){let i=T(e).$implicit,s=l(3).$implicit,p=l(3);return M(p.setRating(s,i))}),d(1),r()}if(n&2){let e=c.$implicit,t=l(3).$implicit,i=l(3);w("filled",i.getRatingValue(t)>=e)("readonly",i.isFieldReadonly(t)),o(),A(" ",i.getRatingValue(t)>=e?"star":"star_border"," ")}}function $a(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Va(n,c){if(n&1&&(_(0,"div",90)(1,"label",66),d(2),u(3,Aa,2,0,"span",49),r(),_(4,"div",91),N(5,Na,2,5,"mat-icon",92,ee),r(),u(7,$a,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(2),$(t.getStarArray(e)),o(2),C(t.hasFieldError(e)?7:-1)}}function Ua(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function La(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Ba(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Ua,2,0,"span",49),r(),R(5,"input",94),r(),u(6,La,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?6:-1)}}function qa(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Ga(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Ha(n,c){if(n&1&&(_(0,"div",95)(1,"label",66),d(2),u(3,qa,2,0,"span",49),r(),_(4,"mat-slider",96),R(5,"input",97),r(),u(6,Ga,2,1,"div",51),r()),n&2){let e,t=l(2).$implicit,i=l(3);w("has-error",i.hasFieldError(t)),o(2),te("",t.label,": ",((e=i.form.get(t.name))==null?null:e.value)||0," "),o(),C(i.isFieldRequired(t)?3:-1),o(),F("min",t.sliderMin||0)("max",t.sliderMax||100)("step",t.sliderStep||1)("discrete",!0)("disabled",i.isFieldReadonly(t)),o(),F("formControlName",t.name),o(),C(i.hasFieldError(t)?6:-1)}}function Ya(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function za(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Ja(n,c){if(n&1&&(_(0,"div",98)(1,"label",66),d(2),u(3,Ya,2,0,"span",49),r(),R(4,"input",99),u(5,za,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(),F("formControlName",e.name)("disabled",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?5:-1)}}function Xa(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function ja(n,c){if(n&1&&R(0,"img",104),n&2){let e=l(3).$implicit,t=l(3);F("src",t.getImagePreview(e),re)}}function Ka(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Qa(n,c){if(n&1){let e=W();_(0,"div",100)(1,"label",66),d(2),u(3,Xa,2,0,"span",49),r(),_(4,"div",101)(5,"input",102,5),b("change",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.onImageSelect(i,s))}),r(),_(7,"button",103),b("click",function(){T(e);let i=Y(6);return M(i.click())}),_(8,"mat-icon"),d(9,"add_photo_alternate"),r(),d(10," Select Image "),r(),u(11,ja,1,1,"img",104),r(),u(12,Ka,2,1,"div",51),r()}if(n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(4),F("disabled",t.isFieldReadonly(e)),o(4),C(t.getImagePreview(e)?11:-1),o(),C(t.hasFieldError(e)?12:-1)}}function Za(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function er(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function tr(n,c){if(n&1){let e=W();_(0,"div",105)(1,"label",66),d(2),u(3,Za,2,0,"span",49),r(),_(4,"div",106)(5,"canvas",107),b("mousedown",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.startSignature(i,s))})("mousemove",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.drawSignature(i,s))})("mouseup",function(){T(e);let i=l(2).$implicit,s=l(3);return M(s.endSignature(i))})("mouseleave",function(){T(e);let i=l(2).$implicit,s=l(3);return M(s.endSignature(i))})("touchstart",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.startSignatureTouch(i,s))})("touchmove",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.drawSignatureTouch(i,s))})("touchend",function(){T(e);let i=l(2).$implicit,s=l(3);return M(s.endSignature(i))}),r(),_(6,"div",108)(7,"button",109),b("click",function(){T(e);let i=l(2).$implicit,s=l(3);return M(s.clearSignature(i))}),_(8,"mat-icon"),d(9,"clear"),r()()()(),u(10,er,2,1,"div",51),r()}if(n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(2),X("data-field",e.name),o(2),F("disabled",t.isFieldReadonly(e)),o(3),C(t.hasFieldError(e)?10:-1)}}function nr(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function ir(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function or(n,c){if(n&1){let e=W();_(0,"div",110)(1,"label",66),d(2),u(3,nr,2,0,"span",49),r(),_(4,"div",111)(5,"div",112)(6,"button",113),b("click",function(){T(e);let i=l(5);return M(i.execRichTextCommand("bold"))}),_(7,"mat-icon"),d(8,"format_bold"),r()(),_(9,"button",114),b("click",function(){T(e);let i=l(5);return M(i.execRichTextCommand("italic"))}),_(10,"mat-icon"),d(11,"format_italic"),r()(),_(12,"button",115),b("click",function(){T(e);let i=l(5);return M(i.execRichTextCommand("underline"))}),_(13,"mat-icon"),d(14,"format_underlined"),r()(),R(15,"span",116),_(16,"button",117),b("click",function(){T(e);let i=l(5);return M(i.execRichTextCommand("insertUnorderedList"))}),_(17,"mat-icon"),d(18,"format_list_bulleted"),r()(),_(19,"button",118),b("click",function(){T(e);let i=l(5);return M(i.execRichTextCommand("insertOrderedList"))}),_(20,"mat-icon"),d(21,"format_list_numbered"),r()()(),_(22,"div",119),b("input",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.onRichTextInput(i,s))})("blur",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.onRichTextBlur(i,s))}),r()(),u(23,ir,2,1,"div",51),r()}if(n&2){let e,t=l(2).$implicit,i=l(3);w("has-error",i.hasFieldError(t)),o(2),A("",t.label," "),o(),C(i.isFieldRequired(t)?3:-1),o(3),F("disabled",i.isFieldReadonly(t)),o(3),F("disabled",i.isFieldReadonly(t)),o(3),F("disabled",i.isFieldReadonly(t)),o(4),F("disabled",i.isFieldReadonly(t)),o(3),F("disabled",i.isFieldReadonly(t)),o(3),w("readonly",i.isFieldReadonly(t)),F("innerHTML",((e=i.form.get(t.name))==null?null:e.value)||"",ae),X("data-field",t.name),o(),C(i.hasFieldError(t)?23:-1)}}function ar(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function rr(n,c){if(n&1&&(_(0,"mat-icon"),d(1),r(),_(2,"span"),d(3),r()),n&2){let e,t,i=l(3).$implicit,s=l(3);o(),g((e=s.form.get(i.name))==null?null:e.value),o(2),g((t=s.form.get(i.name))==null?null:t.value)}}function lr(n,c){n&1&&(_(0,"mat-icon"),d(1,"emoji_symbols"),r(),_(2,"span"),d(3,"Select an icon..."),r())}function _r(n,c){if(n&1){let e=W();_(0,"div",128),b("click",function(){let i=T(e).$implicit,s=l(4).$implicit,p=l(3);return M(p.selectIcon(s,i))}),_(1,"mat-icon"),d(2),r()()}if(n&2){let e,t=c.$implicit,i=l(4).$implicit,s=l(3);w("selected",((e=s.form.get(i.name))==null?null:e.value)===t),o(2),g(t)}}function dr(n,c){if(n&1){let e=W();_(0,"div",124)(1,"input",125),b("input",function(i){T(e);let s=l(3).$implicit,p=l(3);return M(p.onIconSearch(i,s))}),r(),_(2,"div",126),N(3,_r,3,3,"div",127,ee),r()()}if(n&2){let e=l(3).$implicit,t=l(3);o(),F("value",t.iconSearchText[e.name]||""),o(2),$(t.getFilteredIcons(e))}}function cr(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function sr(n,c){if(n&1){let e=W();_(0,"div",120)(1,"label",66),d(2),u(3,ar,2,0,"span",49),r(),_(4,"div",121)(5,"div",122),b("click",function(){T(e);let i=l(2).$implicit,s=l(3);return M(s.toggleIconPicker(i))}),u(6,rr,4,2)(7,lr,4,0),_(8,"mat-icon",123),d(9,"arrow_drop_down"),r()(),u(10,dr,5,1,"div",124),r(),u(11,cr,2,1,"div",51),r()}if(n&2){let e,t=l(2).$implicit,i=l(3);w("has-error",i.hasFieldError(t)),o(2),A("",t.label," "),o(),C(i.isFieldRequired(t)?3:-1),o(2),w("disabled",i.isFieldReadonly(t)),o(),C((e=i.form.get(t.name))!=null&&e.value?6:7),o(4),C(i.isIconPickerOpen(t)?10:-1),o(),C(i.hasFieldError(t)?11:-1)}}function mr(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function pr(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Cr(n,c){if(n&1){let e=W();_(0,"div",129)(1,"label",66),d(2),u(3,mr,2,0,"span",49),r(),_(4,"div",130)(5,"mat-form-field",48)(6,"mat-label"),d(7,"Barcode/QR Code"),r(),R(8,"input",131),_(9,"button",132),b("click",function(){T(e);let i=l(2).$implicit,s=l(3);return M(s.scanBarcode(i))}),_(10,"mat-icon"),d(11,"qr_code_scanner"),r()()()(),u(12,pr,2,1,"div",51),r()}if(n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(5),F("formControlName",e.name)("readonly",t.isFieldReadonly(e)),o(),F("disabled",t.isFieldReadonly(e)),o(3),C(t.hasFieldError(e)?12:-1)}}function ur(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function fr(n,c){n&1&&(_(0,"mat-icon",139),d(1,"sync"),r())}function xr(n,c){n&1&&(_(0,"mat-icon"),d(1,"my_location"),r())}function gr(n,c){if(n&1&&(_(0,"div",140)(1,"mat-icon"),d(2,"place"),r(),_(3,"span"),d(4),r()()),n&2){let e=l(3).$implicit,t=l(3);o(4),g(t.getLocationDisplay(e))}}function hr(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Fr(n,c){if(n&1){let e=W();_(0,"div",133)(1,"label",66),d(2),u(3,ur,2,0,"span",49),r(),_(4,"div",134)(5,"div",135)(6,"mat-form-field",136)(7,"mat-label"),d(8,"Latitude"),r(),_(9,"input",137),b("input",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.onLocationLatChange(i,s))}),r()(),_(10,"mat-form-field",136)(11,"mat-label"),d(12,"Longitude"),r(),_(13,"input",137),b("input",function(i){T(e);let s=l(2).$implicit,p=l(3);return M(p.onLocationLngChange(i,s))}),r()(),_(14,"button",138),b("click",function(){T(e);let i=l(2).$implicit,s=l(3);return M(s.getCurrentLocation(i))}),u(15,fr,2,0,"mat-icon",139)(16,xr,2,0,"mat-icon"),r()(),u(17,gr,5,1,"div",140),r(),u(18,hr,2,1,"div",51),r()}if(n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(6),F("value",t.getLocationLat(e))("readonly",t.isFieldReadonly(e)),o(4),F("value",t.getLocationLng(e))("readonly",t.isFieldReadonly(e)),o(),F("disabled",t.isFieldReadonly(e)||t.isGettingLocation(e)),o(),C(t.isGettingLocation(e)?15:16),o(2),C(t.getLocationDisplay(e)?17:-1),o(),C(t.hasFieldError(e)?18:-1)}}function Er(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function vr(n,c){if(n&1&&(_(0,"th"),d(1),r()),n&2){let e=c.$implicit;o(),g(e.label)}}function Sr(n,c){if(n&1){let e=W();_(0,"td")(1,"input",147),b("input",function(i){let s=T(e).$implicit,p=l().$index,E=l(3).$implicit,x=l(3);return M(x.onTableCellChange(i,E,p,s.name))}),r()()}if(n&2){let e=c.$implicit,t=l().$implicit,i=l(3).$implicit,s=l(3);o(),F("value",t[e.name]||"")("readonly",s.isFieldReadonly(i))}}function wr(n,c){if(n&1){let e=W();_(0,"tr"),N(1,Sr,2,2,"td",null,Q),_(3,"td",144)(4,"button",146),b("click",function(){let i=T(e).$index,s=l(3).$implicit,p=l(3);return M(p.removeTableRow(s,i))}),_(5,"mat-icon"),d(6,"delete"),r()()()()}if(n&2){let e=l(3).$implicit,t=l(3);o(),$(t.getTableColumns(e)),o(3),F("disabled",t.isFieldReadonly(e))}}function Tr(n,c){if(n&1&&(_(0,"tr")(1,"td",148),d(2,' No rows added. Click "Add Row" to add data. '),r()()),n&2){let e=l(3).$implicit,t=l(3);o(),X("colspan",t.getTableColumns(e).length+1)}}function Mr(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function br(n,c){if(n&1){let e=W();_(0,"div",141)(1,"label",66),d(2),u(3,Er,2,0,"span",49),r(),_(4,"div",142)(5,"table",143)(6,"thead")(7,"tr"),N(8,vr,2,1,"th",null,Q),_(10,"th",144),d(11,"Actions"),r()()(),_(12,"tbody"),N(13,wr,7,1,"tr",null,_e),u(15,Tr,3,1,"tr"),r()(),_(16,"button",145),b("click",function(){T(e);let i=l(2).$implicit,s=l(3);return M(s.addTableRow(i))}),_(17,"mat-icon"),d(18,"add"),r(),d(19," Add Row "),r()(),u(20,Mr,2,1,"div",51),r()}if(n&2){let e=l(2).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(5),$(t.getTableColumns(e)),o(5),$(t.getTableRows(e)),o(2),C(t.getTableRows(e).length===0?15:-1),o(),F("disabled",t.isFieldReadonly(e)),o(4),C(t.hasFieldError(e)?20:-1)}}function kr(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Or(n,c){if(n&1&&(_(0,"mat-option",63),d(1),r()),n&2){let e=c.$implicit;F("value",e.value),o(),g(e.label)}}function yr(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(4).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Pr(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,kr,2,0,"span",49),r(),_(5,"mat-select",62),N(6,Or,2,2,"mat-option",63,q),r()(),u(8,yr,2,1,"div",51),r()),n&2){let e=l(3).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("placeholder",e.placeholder||"")("disabled",t.isFieldReadonly(e)),o(),$(e.options),o(2),C(t.hasFieldError(e)?8:-1)}}function Ir(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Rr(n,c){if(n&1&&(_(0,"mat-option",63),d(1),r()),n&2){let e=c.$implicit;F("value",e.value),o(),g(e.label)}}function Dr(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(4).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Wr(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Ir,2,0,"span",49),r(),_(5,"mat-select",64),N(6,Rr,2,2,"mat-option",63,q),r()(),u(8,Dr,2,1,"div",51),r()),n&2){let e=l(3).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("placeholder",e.placeholder||"")("disabled",t.isFieldReadonly(e)),o(),$(e.options),o(2),C(t.hasFieldError(e)?8:-1)}}function Ar(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Nr(n,c){if(n&1&&(_(0,"mat-radio-button",68),d(1),r()),n&2){let e=c.$implicit,t=l(4).$implicit,i=l(3);F("value",e.value)("disabled",i.isFieldReadonly(t)),o(),g(e.label)}}function $r(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(4).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function Vr(n,c){if(n&1&&(_(0,"div",65)(1,"label",66),d(2),u(3,Ar,2,0,"span",49),r(),_(4,"mat-radio-group",67),N(5,Nr,2,3,"mat-radio-button",68,q),r(),u(7,$r,2,1,"div",51),r()),n&2){let e=l(3).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(),w("horizontal-layout",e.optionsLayout==="horizontal"),F("formControlName",e.name)("disabled",t.isFieldReadonly(e)),o(),$(e.options),o(2),C(t.hasFieldError(e)?7:-1)}}function Ur(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Lr(n,c){if(n&1){let e=W();_(0,"mat-checkbox",72),b("change",function(i){let s=T(e).$implicit,p=l(4).$implicit,E=l(3);return M(E.onCheckboxGroupChange(p.name,s.value,i.checked))}),d(1),r()}if(n&2){let e=c.$implicit,t=l(4).$implicit,i=l(3);F("checked",i.isCheckboxOptionSelected(t.name,e.value))("disabled",i.isFieldReadonly(t)),o(),A(" ",e.label," ")}}function Br(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(4).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function qr(n,c){if(n&1&&(_(0,"div",150)(1,"label",66),d(2),u(3,Ur,2,0,"span",49),r(),_(4,"div",151),N(5,Lr,2,3,"mat-checkbox",71,q),r(),u(7,Br,2,1,"div",51),r()),n&2){let e=l(3).$implicit,t=l(3);w("has-error",t.hasFieldError(e)),o(2),A("",e.label," "),o(),C(t.isFieldRequired(e)?3:-1),o(),w("horizontal-layout",e.optionsLayout==="horizontal"),o(),$(e.options),o(2),C(t.hasFieldError(e)?7:-1)}}function Gr(n,c){n&1&&(_(0,"span",49),d(1,"*"),r())}function Hr(n,c){if(n&1&&(_(0,"mat-option",63),d(1),r()),n&2){let e=c.$implicit;F("value",e.value),o(),g(e.label)}}function Yr(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(4).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function zr(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),u(4,Gr,2,0,"span",49),r(),_(5,"mat-select",62),N(6,Hr,2,2,"mat-option",63,q),r()(),u(8,Yr,2,1,"div",51),r()),n&2){let e=l(3).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),C(t.isFieldRequired(e)?4:-1),o(),F("formControlName",e.name)("placeholder",e.placeholder||"")("disabled",t.isFieldReadonly(e)),o(),$(e.options),o(2),C(t.hasFieldError(e)?8:-1)}}function Jr(n,c){if(n&1&&u(0,Pr,9,8,"div",29)(1,Wr,9,8,"div",29)(2,Vr,8,9,"div",30)(3,qr,8,7,"div",149)(4,zr,9,8,"div",29),n&2){let e,t=l(2).$implicit;C((e=t.viewType)==="SELECT"?0:e==="MULTISELECT"?1:e==="RADIO"?2:e==="CHECKBOX_GROUP"?3:4)}}function Xr(n,c){if(n&1&&(_(0,"div",51),d(1),r()),n&2){let e=l(3).$implicit,t=l(3);o(),g(t.getFieldErrorMessage(e))}}function jr(n,c){if(n&1&&(_(0,"div",29)(1,"mat-form-field",48)(2,"mat-label"),d(3),r(),R(4,"input",162),r(),u(5,Xr,2,1,"div",51),r()),n&2){let e=l(2).$implicit,t=l(3);o(),w("field-invalid",t.hasFieldError(e)),o(2),g(e.label),o(),F("formControlName",e.name)("readonly",t.isFieldReadonly(e)),o(),C(t.hasFieldError(e)?5:-1)}}function Kr(n,c){if(n&1&&(_(0,"div",28),u(1,To,7,8,"div",29)(2,ko,7,7,"div",29)(3,Po,7,7,"div",29)(4,Wo,9,7,"div",29)(5,Vo,9,7,"div",29)(6,Bo,9,7,"div",29)(7,Ho,7,7,"div",29)(8,Jo,7,7,"div",29)(9,Ko,7,7,"div",29)(10,ea,10,11,"div",29)(11,ia,7,7,"div",29)(12,la,8,9,"div",30)(13,da,4,4,"div",29)(14,pa,8,8,"div",31)(15,fa,6,7,"div",32)(16,ha,7,7,"div",29)(17,wa,14,11,"div",29)(18,Ta,1,1,"input",33)(19,ba,4,2,"div",34)(20,Oa,3,1,"div",35)(21,Ia,5,5,"div",36)(22,Wa,10,7,"div",37)(23,Va,8,5,"div",38)(24,Ba,7,7,"div",29)(25,Ha,7,12,"div",39)(26,Ja,6,7,"div",40)(27,Qa,13,7,"div",41)(28,tr,11,7,"div",42)(29,or,24,14,"div",43)(30,sr,12,9,"div",44)(31,Cr,13,8,"div",45)(32,Fr,19,12,"div",46)(33,br,21,7,"div",47)(34,Jr,5,1)(35,jr,6,6,"div",29),r()),n&2){let e,t=l().$implicit;le("grid-column","span "+(t.columnSpan||2)),o(),C((e=t.type)==="TEXT"?1:e==="TEXTAREA"?2:e==="NUMBER"?3:e==="SELECT"?4:e==="MULTISELECT"?5:e==="CURRENCY"?6:e==="EMAIL"?7:e==="PHONE"?8:e==="PASSWORD"?9:e==="DATE"?10:e==="DATETIME"?11:e==="RADIO"?12:e==="CHECKBOX"?13:e==="CHECKBOX_GROUP"?14:e==="FILE"?15:e==="URL"?16:e==="USER"?17:e==="HIDDEN"?18:e==="LABEL"?19:e==="DIVIDER"?20:e==="TOGGLE"?21:e==="YES_NO"?22:e==="RATING"?23:e==="TIME"?24:e==="SLIDER"?25:e==="COLOR"?26:e==="IMAGE"?27:e==="SIGNATURE"?28:e==="RICH_TEXT"?29:e==="ICON"?30:e==="BARCODE"?31:e==="LOCATION"?32:e==="TABLE"?33:e==="SQL_OBJECT"?34:35)}}function Qr(n,c){if(n&1&&u(0,Kr,36,3,"div",27),n&2){let e=c.$implicit,t=l(3);C(t.isFieldVisible(e)?0:-1)}}function Zr(n,c){if(n&1&&(_(0,"mat-card",16)(1,"mat-expansion-panel",152)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),d(4),r(),u(5,vo,2,1,"mat-panel-description"),r(),_(6,"div",26),N(7,Qr,1,1,null,null,K),r()()()),n&2){let e=c.$implicit,t=l(2);o(),F("expanded",!e.collapsed)("hideToggle",!e.collapsible),o(3),g(e.title),o(),C(e.description?5:-1),o(2),$(t.getFieldsInGroup(e.id))}}function el(n,c){if(n&1){let e=W();_(0,"div",167)(1,"mat-icon"),d(2,"description"),r(),_(3,"span"),d(4),r(),_(5,"span",168),d(6),r(),_(7,"button",9),b("click",function(){let i=T(e).$index,s=l(4);return M(s.removeAttachment(i))}),_(8,"mat-icon"),d(9,"close"),r()()()}if(n&2){let e=c.$implicit,t=l(4);o(4),g(e.name),o(2),A("(",t.formatFileSize(e.size),")")}}function tl(n,c){if(n&1&&(_(0,"div",166),N(1,el,10,2,"div",167,Q),r()),n&2){let e=l(3);o(),$(e.attachments)}}function nl(n,c){if(n&1){let e=W();_(0,"mat-card",15)(1,"mat-card-header")(2,"mat-card-title"),d(3,"Attachments"),r(),_(4,"mat-card-subtitle"),d(5,"Upload supporting documents"),r()(),_(6,"mat-card-content")(7,"div",163)(8,"input",164,6),b("change",function(i){T(e);let s=l(2);return M(s.onAttachmentSelect(i))}),r(),_(10,"button",165),b("click",function(){T(e);let i=Y(9);return M(i.click())}),_(11,"mat-icon"),d(12,"attach_file"),r(),d(13," Add Attachments "),r(),u(14,tl,3,0,"div",166),r()()()}if(n&2){let e=l(2);o(14),C(e.attachments.length>0?14:-1)}}function il(n,c){n&1&&R(0,"mat-spinner",171)}function ol(n,c){n&1&&d(0," Submit for Approval ")}function al(n,c){if(n&1){let e=W();_(0,"div",17)(1,"button",169),b("click",function(){T(e);let i=l(2);return M(i.goBack())}),d(2,"Cancel"),r(),_(3,"button",103),b("click",function(){T(e);let i=l(2);return M(i.saveDraft())}),d(4," Save Draft "),r(),_(5,"button",170),u(6,il,1,0,"mat-spinner",171)(7,ol,1,0),r()()}if(n&2){let e=l(2);o(3),F("disabled",e.submitting),o(2),F("disabled",e.submitting),o(),C(e.submitting?6:7)}}function rl(n,c){if(n&1){let e=W();_(0,"button",169),b("click",function(){T(e);let i=l(3);return M(i.goBack())}),d(1,"Cancel"),r(),R(2,"span",172),_(3,"button",173),b("click",function(){T(e);let i=l(3);return M(i.goToNextScreen())}),d(4," Next "),_(5,"mat-icon"),d(6,"arrow_forward"),r()()}}function ll(n,c){n&1&&R(0,"mat-spinner",171)}function _l(n,c){n&1&&d(0," Submit for Approval ")}function dl(n,c){if(n&1){let e=W();_(0,"button",165),b("click",function(){T(e);let i=l(3);return M(i.goToPreviousScreen())}),_(1,"mat-icon"),d(2,"arrow_back"),r(),d(3," Back "),r(),R(4,"span",172),_(5,"button",169),b("click",function(){T(e);let i=l(3);return M(i.goBack())}),d(6,"Cancel"),r(),_(7,"button",103),b("click",function(){T(e);let i=l(3);return M(i.saveDraft())}),d(8," Save Draft "),r(),_(9,"button",170),u(10,ll,1,0,"mat-spinner",171)(11,_l,1,0),r()}if(n&2){let e=l(3);o(7),F("disabled",e.submitting),o(2),F("disabled",e.submitting),o(),C(e.submitting?10:11)}}function cl(n,c){if(n&1){let e=W();_(0,"button",165),b("click",function(){T(e);let i=l(3);return M(i.goToPreviousScreen())}),_(1,"mat-icon"),d(2,"arrow_back"),r(),d(3," Back "),r(),R(4,"span",172),_(5,"button",173),b("click",function(){T(e);let i=l(3);return M(i.goToNextScreen())}),d(6," Next "),_(7,"mat-icon"),d(8,"arrow_forward"),r()()}}function sl(n,c){if(n&1&&(_(0,"div",18),u(1,rl,7,0)(2,dl,12,3)(3,cl,9,0),r()),n&2){let e=l(2);o(),C(e.isFirstScreen?1:e.isLastScreen?2:3)}}function ml(n,c){if(n&1){let e=W();_(0,"form",14),b("ngSubmit",function(){T(e);let i=l();return M(i.onSubmit())}),u(1,Lt,4,1)(2,Eo,5,0,"mat-card",15),N(3,Zr,9,4,"mat-card",16,K),u(5,nl,15,1,"mat-card",15)(6,al,8,3,"div",17)(7,sl,4,1,"div",18),r()}if(n&2){let e=l();F("formGroup",e.form),o(),C(e.isMultiStep?1:-1),o(),C((e.isMultiStep?e.getUngroupedFieldsOnScreen().length>0:e.getUngroupedFields().length>0)?2:-1),o(),$(e.isMultiStep?e.getFieldGroupsOnScreen():e.fieldGroups),o(2),C(e.workflow.requireAttachments?5:-1),o(),C(e.isMultiStep?7:6)}}var l_=(()=>{class n{fb;userService;workflowService;authService;router;route;snackBar;cdr;workflow=null;form;loading=!0;submitting=!1;workflowCode="";fields=[];fieldGroups=[];screens=[];currentScreenIndex=0;selectedFiles={};attachments=[];instanceId=null;isEditMode=!1;existingFieldValues={};checkboxGroupValues={};calculatedFields=new Map;subscriptions=[];timeBasedFields=new Map;validationErrors={};hasAttemptedSubmit=!1;pendingUniqueChecks=new Map;uniqueCheckCache=new Map;allUsers=[];filteredUsersMap={};userSearchTerms={};selectedUsers={};constructor(e,t,i,s,p,E,x,P){this.fb=e,this.userService=t,this.workflowService=i,this.authService=s,this.router=p,this.route=E,this.snackBar=x,this.cdr=P}ngOnInit(){this.workflowCode=this.route.snapshot.paramMap.get("workflowCode")||"",this.instanceId=this.route.snapshot.paramMap.get("instanceId")||null,this.isEditMode=!!this.instanceId,this.loadWorkflow(),this.loadUsers()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadWorkflow(){this.workflowService.getWorkflowByCode(this.workflowCode).subscribe({next:e=>{e.success?(this.workflow=e.data,this.isEditMode&&this.instanceId?this.loadInstance():(this.loading=!1,this.initializeForm())):this.loading=!1},error:()=>{this.loading=!1,this.snackBar.open("Failed to load workflow","Close",{duration:3e3})}})}loadInstance(){this.workflowService.getInstance(this.instanceId).subscribe({next:e=>{if(e.success&&e.data&&e.data.fieldValues){let t=e.data.fieldValues;Array.isArray(t)?t.forEach(i=>{this.existingFieldValues[i.fieldName]=i.value}):typeof t=="object"&&Object.keys(t).forEach(i=>{this.existingFieldValues[i]=t[i]})}this.loading=!1,this.initializeForm()},error:()=>{this.loading=!1,this.snackBar.open("Failed to load instance","Close",{duration:3e3})}})}initializeForm(){if(!this.workflow?.forms?.[0]){console.warn("No workflow forms found for initialization");return}this.calculatedFields.clear(),this.timeBasedFields.clear();let e=this.workflow.forms[0],t=e.fieldGroups||[],i=new Map;t.forEach(x=>{x.fields&&Array.isArray(x.fields)&&x.fields.forEach(P=>{let a=P.id?.toString();a&&i.set(a,x.id?.toString())})});let s=new Map;(e.fields||[]).forEach(x=>{let P=x.id?.toString();if(P){let a=x.fieldGroupId?.toString()||i.get(P)||null;s.set(P,J(z({},x),{fieldGroupId:a}))}}),t.forEach(x=>{x.fields&&Array.isArray(x.fields)&&x.fields.forEach(P=>{let a=P.id?.toString();a&&!s.has(a)&&s.set(a,J(z({},P),{fieldGroupId:x.id?.toString()}))})}),this.fields=Array.from(s.values()).map(x=>{let P=(x.type||x.fieldType||"TEXT").toString().toUpperCase();return J(z({},x),{type:P,fieldType:P,required:x.required??x.isMandatory??!1,hidden:x.hidden??x.isHidden??!1,readOnly:x.readOnly??x.isReadonly??!1})}),this.fieldGroups=t,this.screens=(e.screens||[]).sort((x,P)=>(x.displayOrder||0)-(P.displayOrder||0)),this.currentScreenIndex=0;let p=new Set(this.fields.map(x=>x.name)),E={};this.fields.forEach(x=>{let P=[];x.required&&P.push(ce.required),x.type==="EMAIL"&&P.push(ce.email);let a="";if(this.isEditMode&&this.existingFieldValues[x.name]!==void 0){if(a=this.existingFieldValues[x.name],x.type==="CHECKBOX")a=a==="true"||a===!0;else if(x.type==="NUMBER"||x.type==="CURRENCY")a=Number(a)||null;else if(x.type==="DATE"||x.type==="DATETIME")if(a){let v=a instanceof Date?a:new Date(a);isNaN(v.getTime())?a=null:a=x.type==="DATETIME"?this.formatDateTime(v):this.formatDate(v)}else a=null}else if(x.defaultValue){let v=this.extractFieldDependencies(x.defaultValue,p);if(v.length>0)this.calculatedFields.set(x.name,{expression:x.defaultValue,fieldType:x.type,dependencies:v}),a="";else if(this.isTimeBasedFunction(x.defaultValue)&&!this.isEditMode){if(this.timeBasedFields.set(x.name,{expression:x.defaultValue,fieldType:x.type}),a=this.evaluateDefaultValue(x.defaultValue,x.type),a instanceof Date)x.type==="DATETIME"?a=this.formatDateTime(a):x.type==="DATE"&&(a=this.formatDate(a));else if((x.type==="DATE"||x.type==="DATETIME")&&a){let h=new Date(a);isNaN(h.getTime())||(a=x.type==="DATETIME"?this.formatDateTime(h):this.formatDate(h))}}else if(a=this.evaluateDefaultValue(x.defaultValue,x.type),x.type==="CHECKBOX")a=a==="true"||a===!0||!1;else if(x.type==="NUMBER"||x.type==="CURRENCY")a=a?Number(a):null;else if(x.type==="DATE"||x.type==="DATETIME"){if(a instanceof Date)a=x.type==="DATETIME"?this.formatDateTime(a):this.formatDate(a);else if(a){let h=new Date(a);isNaN(h.getTime())||(a=x.type==="DATETIME"?this.formatDateTime(h):this.formatDate(h))}}}E[x.name]=[a,P]}),this.form=this.fb.group(E),this.setupCalculatedFieldSubscriptions(),this.calculatedFields.forEach((x,P)=>{this.recalculateField(P,x)}),this.setupValidationSubscriptions()}extractFieldDependencies(e,t){let i=[],s=e.match(/^([A-Z_]+)\((.*)\)$/i);if(!s)return i;let p=s[2];return p&&this.parseArgsRaw(p).forEach(x=>{let P=x.trim().replace(/^["']|["']$/g,"");!x.startsWith('"')&&!x.startsWith("'")&&t.has(P)&&i.push(P)}),i}parseArgsRaw(e){let t=[],i="",s=!1,p="";for(let E of e)(E==='"'||E==="'")&&!s?(s=!0,p=E,i+=E):E===p&&s?(s=!1,i+=E,p=""):E===","&&!s?(t.push(i.trim()),i=""):i+=E;return i&&t.push(i.trim()),t}setupCalculatedFieldSubscriptions(){this.calculatedFields.forEach((e,t)=>{let i=e.dependencies.map(s=>this.form.get(s)).filter(s=>s!==null);if(i.length>0){let p=me(...i.map(E=>E.valueChanges)).pipe(oe(100)).subscribe(()=>{this.recalculateField(t,e)});this.subscriptions.push(p)}})}setupValidationSubscriptions(){let e=this.form.valueChanges.pipe(oe(300)).subscribe(t=>{this.fields.forEach(i=>{if(i.validation&&/Unique\(/i.test(i.validation)){let s=t[i.name],p=[];this.uniqueCheckCache.forEach((E,x)=>{x.startsWith(`${i.name}:`)&&x!==`${i.name}:${s}`&&p.push(x)}),p.forEach(E=>this.uniqueCheckCache.delete(E))}}),this.clearValidationErrors()});this.subscriptions.push(e)}clearValidationErrors(){this.hasAttemptedSubmit=!1,this.fields.forEach(e=>{if(this.validationErrors[e.name]){this.validationErrors[e.name]=null;let i=this.form.get(e.name);if(i&&i.errors){let t=i.errors,{customValidation:s}=t,p=Z(t,["customValidation"]);i.setErrors(Object.keys(p).length>0?p:null)}}})}validateAllFields(){this.fields.forEach(e=>{if(e.validation){let i=this.evaluateValidation(e);this.validationErrors[e.name]=i;let s=this.form.get(e.name);if(s){if(i)s.setErrors(J(z({},s.errors),{customValidation:i})),s.markAsTouched();else if(s.errors){let t=s.errors,{customValidation:p}=t,E=Z(t,["customValidation"]);s.setErrors(Object.keys(E).length>0?E:null)}}}}),this.cdr.detectChanges()}evaluateValidation(e){let t=e.validation;if(!t)return null;try{let i=t.split(/\s+AND\s+/i);for(let s of i){let p=s.trim(),E=this.evaluateSingleValidation(p,e);if(E)return E}return null}catch{return null}}evaluateSingleValidation(e,t){let i=this.form.get(t.name)?.value,s=t.label||t.name,p=e.match(/^Required\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(p){let D=p[1]||p[2];return i==null||i===""||typeof i=="string"&&i.trim()===""?D||`${s} is required`:null}let E=e.match(/^Unique\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(E){let D=E[1]||E[2];if(i==null||i===""||typeof i=="string"&&i.trim()==="")return null;let I=`${t.name}:${i}`;return this.uniqueCheckCache.has(I)?this.uniqueCheckCache.get(I)?null:D||`${s} value already exists`:(this.pendingUniqueChecks.get(I)||(this.pendingUniqueChecks.set(I,!0),this.checkUniqueField(t.name,String(i),D||`${s} value already exists`)),null)}let x=e.match(/^ValidWhen\(\s*(.+?)(?:\s*,\s*(?:"([^"]*)"|'([^']*)'))?\s*\)$/i);if(x){let D=x[1].trim(),I=x[2]||x[3],V=this.evaluateCondition(D);return V===!0||V==="true"||V===0||V==="0"?null:I||`${s} validation failed`}let P=e.match(/^InvalidWhen\(\s*(.+?)(?:\s*,\s*(?:"([^"]*)"|'([^']*)'))?\s*\)$/i);if(P){let D=P[1].trim(),I=P[2]||P[3],V=this.evaluateCondition(D);return V===!0||V==="true"||typeof V=="number"&&V!==0||typeof V=="string"&&V!=="0"&&V!=="false"&&V!==""?I||`${s} validation failed`:null}let a=e.match(/^MinLength\(\s*(\d+)(?:\s*,\s*(?:"([^"]*)"|'([^']*)'))?\s*\)$/i);if(a){let D=parseInt(a[1],10),I=a[2]||a[3];return(i?String(i):"").length<D?I||`${s} must be at least ${D} characters`:null}let v=e.match(/^MaxLength\(\s*(\d+)(?:\s*,\s*(?:"([^"]*)"|'([^']*)'))?\s*\)$/i);if(v){let D=parseInt(v[1],10),I=v[2]||v[3];return(i?String(i):"").length>D?I||`${s} must be at most ${D} characters`:null}let k=e.match(/^Min\(\s*(-?[\d.]+)(?:\s*,\s*(?:"([^"]*)"|'([^']*)'))?\s*\)$/i);if(k){let D=parseFloat(k[1]),I=k[2]||k[3],V=parseFloat(i);return!isNaN(V)&&V<D?I||`${s} must be at least ${D}`:null}let h=e.match(/^Max\(\s*(-?[\d.]+)(?:\s*,\s*(?:"([^"]*)"|'([^']*)'))?\s*\)$/i);if(h){let D=parseFloat(h[1]),I=h[2]||h[3],V=parseFloat(i);return!isNaN(V)&&V>D?I||`${s} must be at most ${D}`:null}let U=e.match(/^Pattern\(\s*\/(.+)\/([gimsuy]*)(?:\s*,\s*(?:"([^"]*)"|'([^']*)'))?\s*\)$/i);if(U){let D=U[1],I=U[2]||"",V=U[3]||U[4];try{let G=new RegExp(D,I),se=i?String(i):"";if(se&&!G.test(se))return V||`${s} format is invalid`}catch{}return null}let O=e.match(/^Email\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(O){let D=O[1]||O[2],I=i?String(i):"";return I&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(I)?D||`${s} must be a valid email address`:null}let L=e.match(/^Phone\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(L){let D=L[1]||L[2],I=i?String(i):"";return I&&!/^[\+]?[(]?[0-9]{1,4}[)]?[-\s\.]?[(]?[0-9]{1,4}[)]?[-\s\.]?[0-9]{1,9}$/.test(I.replace(/\s/g,""))?D||`${s} must be a valid phone number`:null}let j=e.match(/^URL\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(j){let D=j[1]||j[2],I=i?String(i):"";try{I&&new URL(I)}catch{return D||`${s} must be a valid URL`}return null}let m=e.match(/^Range\(\s*(-?[\d.]+)\s*,\s*(-?[\d.]+)(?:\s*,\s*(?:"([^"]*)"|'([^']*)'))?\s*\)$/i);if(m){let D=parseFloat(m[1]),I=parseFloat(m[2]),V=m[3]||m[4],G=parseFloat(i);return!isNaN(G)&&(G<D||G>I)?V||`${s} must be between ${D} and ${I}`:null}let f=e.match(/^LengthRange\(\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(?:"([^"]*)"|'([^']*)'))?\s*\)$/i);if(f){let D=parseInt(f[1],10),I=parseInt(f[2],10),V=f[3]||f[4],G=i?String(i):"";return G.length<D||G.length>I?V||`${s} must be between ${D} and ${I} characters`:null}let S=e.match(/^Digits\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(S){let D=S[1]||S[2],I=i?String(i):"";return I&&!/^\d+$/.test(I)?D||`${s} must contain only digits`:null}let y=e.match(/^Alpha\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(y){let D=y[1]||y[2],I=i?String(i):"";return I&&!/^[a-zA-Z]+$/.test(I)?D||`${s} must contain only letters`:null}let B=e.match(/^AlphaNumeric\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(B){let D=B[1]||B[2],I=i?String(i):"";return I&&!/^[a-zA-Z0-9]+$/.test(I)?D||`${s} must contain only letters and numbers`:null}let ne=e.match(/^Date\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(ne){let D=ne[1]||ne[2],I=i?String(i):"";return I&&isNaN(Date.parse(I))?D||`${s} must be a valid date`:null}let ie=e.match(/^CreditCard\(\s*(?:"([^"]*)"|'([^']*)')?\s*\)$/i);if(ie){let D=ie[1]||ie[2],I=i?String(i).replace(/[\s-]/g,""):"";return I&&!this.isValidCreditCard(I)?D||`${s} must be a valid credit card number`:null}return null}isValidCreditCard(e){if(!/^\d{13,19}$/.test(e))return!1;let t=0,i=!1;for(let s=e.length-1;s>=0;s--){let p=parseInt(e[s],10);i&&(p*=2,p>9&&(p-=9)),t+=p,i=!i}return t%10===0}evaluateCondition(e){if(/\s+OR\s+/i.test(e)){let s=e.split(/\s+OR\s+/i);for(let p of s)if(this.evaluateCondition(p.trim()))return!0;return!1}if(/\s+AND\s+/i.test(e)){let s=e.split(/\s+AND\s+/i);for(let p of s)if(!this.evaluateCondition(p.trim()))return!1;return!0}let t=e.match(/^(.+?)\s*(>=|<=|!=|=|>|<)\s*(.+)$/);if(t){let s=t[1].trim(),p=t[2],E=t[3].trim(),x=this.resolveValue(s),P=this.resolveValue(E);switch(p){case"=":return x==P;case"!=":return x!=P;case">":return Number(x)>Number(P);case"<":return Number(x)<Number(P);case">=":return Number(x)>=Number(P);case"<=":return Number(x)<=Number(P)}}return this.resolveValue(e)}resolveValue(e){let t=e.trim();if(t.startsWith('"')&&t.endsWith('"')||t.startsWith("'")&&t.endsWith("'"))return t.slice(1,-1);if(!isNaN(Number(t)))return Number(t);if(t.toLowerCase()==="true")return!0;if(t.toLowerCase()==="false")return!1;if(this.isFunctionExpression(t))return this.evaluateFunction(t,"TEXT");let i=this.form.get(t);return i?i.value:this.containsOperatorsOrFunctions(t)?this.evaluateArithmeticExpression(t):t}containsOperatorsOrFunctions(e){return!!(/[+\-*\/]/.test(e)||/[A-Z_]+\(/i.test(e))}evaluateArithmeticExpression(e){let t=e,i=/\b([a-zA-Z_][a-zA-Z0-9_]*)\b/g,s,p=[];for(;(s=i.exec(e))!==null;){let x=s[1];if(this.isFunctionExpression(x)||["AND","OR","TRUE","FALSE"].includes(x.toUpperCase()))continue;let P=this.form.get(x);P&&p.push({field:x,value:P.value??0})}for(let x of p){let P=typeof x.value=="number"?x.value:parseFloat(x.value)||0;t=t.replace(new RegExp(`\\b${x.field}\\b`,"g"),P.toString())}let E=/([A-Z_]+)\(([^()]*)\)/gi;for(;E.test(t);)t=t.replace(E,x=>this.evaluateFunction(x,"NUMBER").toString());try{return Function('"use strict"; return ('+t+")")()}catch{return t}}checkUniqueField(e,t,i){let s=`${e}:${t}`;this.workflowService.validateUniqueField(this.workflowCode,e,t,this.instanceId||void 0).subscribe({next:p=>{this.pendingUniqueChecks.delete(s);let E=p.data;this.uniqueCheckCache.set(s,E);let x=this.form.get(e);if(!E)this.validationErrors[e]=i,x&&(x.setErrors(J(z({},x.errors),{customValidation:i})),x.markAsTouched());else{let v=this.fields.find(k=>k.name===e);if(v?.validation){let k=this.evaluateNonUniqueValidations(v);if(this.validationErrors[e]=k,x){if(k)x.setErrors(J(z({},x.errors),{customValidation:k})),x.markAsTouched();else if(x.errors){let P=x.errors,{customValidation:h}=P,U=Z(P,["customValidation"]);x.setErrors(Object.keys(U).length>0?U:null)}}}else if(this.validationErrors[e]=null,x&&x.errors){let a=x.errors,{customValidation:k}=a,h=Z(a,["customValidation"]);x.setErrors(Object.keys(h).length>0?h:null)}}this.cdr.detectChanges()},error:()=>{this.pendingUniqueChecks.delete(s),this.uniqueCheckCache.set(s,!0)}})}evaluateNonUniqueValidations(e){let t=e.validation;if(!t)return null;try{let i=t.split(/\s+AND\s+/i);for(let s of i){let p=s.trim();if(/^Unique\(/i.test(p))continue;let E=this.evaluateSingleValidation(p,e);if(E)return E}return null}catch{return null}}recalculateField(e,t){let i=this.evaluateFunction(t.expression,t.fieldType);if(t.fieldType==="CHECKBOX")i=i==="true"||i===!0||!1;else if(t.fieldType==="NUMBER"||t.fieldType==="CURRENCY")i=i?Number(i):null;else if(t.fieldType==="DATE"||t.fieldType==="DATETIME"){if(i instanceof Date)i=t.fieldType==="DATETIME"?this.formatDateTime(i):this.formatDate(i);else if(i){let p=new Date(i);isNaN(p.getTime())||(i=t.fieldType==="DATETIME"?this.formatDateTime(p):this.formatDate(p))}}let s=this.form.get(e);s&&s.value!==i&&s.setValue(i,{emitEvent:!1})}getUngroupedFields(){return this.fields.filter(e=>!e.fieldGroupId&&!(e.hidden||e.isHidden))}getFieldsInGroup(e){let t=e?.toString();if(this.isMultiStep){let i=this.currentScreen?.id?.toString(),s=this.currentScreenIndex===0;return this.fields.filter(p=>{if(p.fieldGroupId?.toString()!==t||p.hidden||p.isHidden)return!1;let E=p.screenId?.toString();return E===i||s&&!E})}return this.fields.filter(i=>i.fieldGroupId?.toString()===t&&!(i.hidden||i.isHidden))}get isMultiStep(){return this.screens.length>1}get isFirstScreen(){return this.currentScreenIndex===0}get isLastScreen(){return this.currentScreenIndex===this.screens.length-1}get currentScreen(){return this.screens[this.currentScreenIndex]||null}getUngroupedFieldsOnScreen(){if(!this.isMultiStep)return this.getUngroupedFields();let e=this.currentScreen?.id?.toString(),t=this.currentScreenIndex===0;return this.fields.filter(i=>{if(i.fieldGroupId||i.hidden||i.isHidden)return!1;let s=i.screenId?.toString();return s===e||t&&!s})}getFieldGroupsOnScreen(){if(!this.isMultiStep)return this.fieldGroups;let e=this.currentScreen?.id?.toString(),t=this.currentScreenIndex===0;return this.fieldGroups.filter(i=>{let s=i.screenId?.toString();return s===e||t&&!s})}goToNextScreen(){this.validateCurrentScreen()&&this.currentScreenIndex<this.screens.length-1&&(this.currentScreenIndex++,window.scrollTo({top:0,behavior:"smooth"}))}goToPreviousScreen(){this.currentScreenIndex>0&&(this.currentScreenIndex--,window.scrollTo({top:0,behavior:"smooth"}))}goToScreen(e){e<=this.currentScreenIndex&&(this.currentScreenIndex=e,window.scrollTo({top:0,behavior:"smooth"}))}validateCurrentScreen(){if(!this.isMultiStep||!this.currentScreen)return!0;let e=this.currentScreen.id?.toString(),t=this.currentScreenIndex===0,i=this.fields.filter(p=>{let E=p.screenId?.toString();return E===e||t&&!E}),s=!0;return i.forEach(p=>{let E=this.form.get(p.name);E&&(E.markAsTouched(),E.invalid&&(s=!1))}),s||this.snackBar.open("Please fill in all required fields on this screen","Close",{duration:3e3}),s}isFieldReadonly(e){return e.readOnly||e.isReadonly||!1}isFieldRequired(e){return e.required?!0:e.validation?/Required\s*\(/i.test(e.validation):!1}isFieldVisible(e){let t=e.visibilityExpression;if(!t||t.trim()===""||t.trim().toLowerCase()==="true")return!0;if(t.trim().toLowerCase()==="false")return!1;try{return this.evaluateVisibilityExpression(t)}catch(i){return console.warn("Error evaluating visibility expression for field",e.name,i),!0}}evaluateVisibilityExpression(e){let t=e.replace(/@\{([^}]+)\}/g,(i,s)=>{let p=this.form.get(s.trim())?.value;return p==null||p===""?"null":typeof p=="string"?`'${p.replace(/'/g,"\\'")}'`:typeof p=="boolean"||typeof p=="number"?p.toString():`'${String(p)}'`});try{let i=t.match(/^['"]?([^'"=!<>]+)['"]?\s*(==|!=|===|!==)\s*['"]?([^'"]+)['"]?$/);if(i){let p=i[1].trim(),E=i[2],x=i[3].trim();return E==="=="||E==="==="?p===x:p!==x}let s=t.match(/^['"]?([^'"<>=!]+)['"]?\s*(>=|<=|>|<)\s*['"]?([^'"]+)['"]?$/);if(s){let p=parseFloat(s[1].trim()),E=s[2],x=parseFloat(s[3].trim());if(!isNaN(p)&&!isNaN(x))switch(E){case">":return p>x;case"<":return p<x;case">=":return p>=x;case"<=":return p<=x}}if(t.includes("&&")||t.includes("||")){let p=t.split(/\s*(&&|\|\|)\s*/),E=this.evaluateSimpleCondition(p[0]);for(let x=1;x<p.length;x+=2){let P=p[x],a=this.evaluateSimpleCondition(p[x+1]);P==="&&"?E=E&&a:P==="||"&&(E=E||a)}return E}if(t.trim().startsWith("!")){let p=t.trim().substring(1).trim();return!this.evaluateSimpleCondition(p)}return this.evaluateSimpleCondition(t)}catch(i){return console.warn("Error in visibility expression evaluation:",i),!0}}evaluateSimpleCondition(e){if(e=e.trim(),e.startsWith("(")&&e.endsWith(")")&&(e=e.slice(1,-1).trim()),e==="null"||e==="''"||e==='""')return!1;if(e.toLowerCase()==="true")return!0;if(e.toLowerCase()==="false")return!1;let t=e.match(/^['"]?([^'"=!<>]+)['"]?\s*(==|!=|===|!==)\s*['"]?([^'"]+)['"]?$/);if(t){let s=t[1].trim().replace(/^['"]|['"]$/g,""),p=t[2],E=t[3].trim().replace(/^['"]|['"]$/g,"");return p==="=="||p==="==="?s===E:s!==E}let i=e.match(/^['"]?([^'"<>=!]+)['"]?\s*(>=|<=|>|<)\s*['"]?([^'"]+)['"]?$/);if(i){let s=parseFloat(i[1].trim()),p=i[2],E=parseFloat(i[3].trim());if(!isNaN(s)&&!isNaN(E))switch(p){case">":return s>E;case"<":return s<E;case">=":return s>=E;case"<=":return s<=E}}return e!=="null"&&e!==""&&e!=="0"}hasFieldError(e){if(!this.hasAttemptedSubmit)return!1;let t=this.form.get(e.name),i=t?.invalid,s=!!this.validationErrors[e.name],p=t?.hasError("customValidation");return i||s||!!p}getFieldErrorMessage(e){let t=this.form.get(e.name);return this.validationErrors[e.name]?this.validationErrors[e.name]:t?.hasError("customValidation")?t.getError("customValidation"):t?.hasError("required")?`${e.label} is required`:t?.hasError("email")?"Please enter a valid email":null}getErrorStateMatcher(e){let t=this.validationErrors;return{isErrorState:i=>{if(!i)return!1;let s=!!t[e.name],p=i.invalid&&(i.touched||i.dirty);return s||p}}}evaluateDefaultValue(e,t){if(!e)return"";let i=e.trim();return this.isFunctionExpression(i)?this.evaluateFunction(i,t):e}isFunctionExpression(e){let t=/^[A-Z_]+\(.*\)$/i,i=["TODAY","NOW","CURRENT_USER","CURRENT_USER_EMAIL","CURRENT_USER_ID","CURRENT_USERNAME","CURRENT_USER_PHONE","CURRENT_USER_DEPARTMENT","CURRENT_USER_STAFFID","CURRENT_USER_ROLE","CURRENT_USER_SBU","CURRENT_USER_BRANCH","CURRENT_DATE","CURRENT_TIME","CURRENT_DATETIME","CURRENT_YEAR","CURRENT_MONTH","UUID","SHORT_UUID","TIMESTAMP","PI","E","RANDOM","WORKFLOW_ID","WORKFLOW_NAME","INSTANCE_ID","INSTANCE_STATUS","SUBMISSION_DATE","SUBMITTER_NAME","SUBMITTER_EMAIL","APPROVAL_LEVEL","APPROVER_NAME","ENVIRONMENT","VERSION","LOCALE","TIMEZONE","BROWSER","PLATFORM","IS_MOBILE","SCREEN_WIDTH","SCREEN_HEIGHT"];return t.test(e)||i.includes(e.toUpperCase())}isTimeBasedFunction(e){if(!e)return!1;let t=e.toUpperCase().trim();return["NOW","NOW()","TODAY","TODAY()","CURRENT_DATE","CURRENT_DATE()","CURRENT_TIME","CURRENT_TIME()","CURRENT_DATETIME","CURRENT_DATETIME()","TIMESTAMP","TIMESTAMP()","SUBMISSION_DATE","SUBMISSION_DATE()"].includes(t)}evaluateFunction(e,t){let i=this.authService.currentUser,s=e.toUpperCase().trim(),p=(t||"").toUpperCase(),E=e.match(/^([A-Z_]+)\((.*)\)$/i),x=E?E[1].toUpperCase():s,P=E?E[2]:"",a=P?this.parseArgs(P):[],v=L=>parseFloat(L)||0,k=L=>parseInt(L)||0,h=L=>String(L??""),U=L=>L===!0||L==="true"||L==="1"||L===1,O=L=>L instanceof Date?L:new Date(L);switch(x){case"UPPER":return h(a[0]).toUpperCase();case"LOWER":return h(a[0]).toLowerCase();case"TRIM":return h(a[0]).trim();case"TRIM_LEFT":return h(a[0]).trimStart();case"TRIM_RIGHT":return h(a[0]).trimEnd();case"CONCAT":return a.join("");case"LEFT":return h(a[0]).substring(0,k(a[1]));case"RIGHT":{let m=h(a[0]);return m.substring(m.length-k(a[1]))}case"SUBSTRING":return h(a[0]).substring(k(a[1]),k(a[1])+k(a[2]));case"LENGTH":return h(a[0]).length.toString();case"REPLACE":return h(a[0]).split(h(a[1])).join(h(a[2]));case"REPLACE_FIRST":return h(a[0]).replace(h(a[1]),h(a[2]));case"CONTAINS":return h(a[0]).includes(h(a[1])).toString();case"CONTAINS_IGNORE_CASE":return h(a[0]).toLowerCase().includes(h(a[1]).toLowerCase()).toString();case"STARTS_WITH":return h(a[0]).startsWith(h(a[1])).toString();case"ENDS_WITH":return h(a[0]).endsWith(h(a[1])).toString();case"CAPITALIZE":return h(a[0]).charAt(0).toUpperCase()+h(a[0]).slice(1).toLowerCase();case"TITLE_CASE":return h(a[0]).replace(/\b\w/g,m=>m.toUpperCase());case"SENTENCE_CASE":return h(a[0]).replace(/(^\s*\w|[.!?]\s*\w)/g,m=>m.toUpperCase());case"REVERSE":return h(a[0]).split("").reverse().join("");case"REPEAT":return h(a[0]).repeat(k(a[1]));case"PAD_LEFT":return h(a[0]).padStart(k(a[1]),h(a[2])||" ");case"PAD_RIGHT":return h(a[0]).padEnd(k(a[1]),h(a[2])||" ");case"WORD_COUNT":return h(a[0]).trim().split(/\s+/).filter(m=>m).length.toString();case"CHAR_AT":return h(a[0]).charAt(k(a[1]));case"INDEX_OF":return h(a[0]).indexOf(h(a[1])).toString();case"LAST_INDEX_OF":return h(a[0]).lastIndexOf(h(a[1])).toString();case"SPLIT":return JSON.stringify(h(a[0]).split(h(a[1])));case"JOIN":try{return JSON.parse(h(a[0])).join(h(a[1]))}catch{return a[0]}case"INITIALS":return h(a[0]).split(/\s+/).map(m=>m.charAt(0).toUpperCase()).join("");case"SLUG":return h(a[0]).toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");case"CLEAN":return h(a[0]).replace(/[^\x20-\x7E]/g,"");case"REMOVE_SPACES":return h(a[0]).replace(/\s/g,"");case"COLLAPSE_SPACES":return h(a[0]).replace(/\s+/g," ");case"EXTRACT_NUMBERS":return h(a[0]).replace(/[^0-9]/g,"");case"EXTRACT_LETTERS":return h(a[0]).replace(/[^a-zA-Z]/g,"");case"EXTRACT_ALPHANUMERIC":return h(a[0]).replace(/[^a-zA-Z0-9]/g,"");case"MASK":{let m=h(a[0]),f=k(a[1]),S=k(a[2]),y=h(a[3])||"*",B=S<0?m.length+S:S;return m.substring(0,f)+y.repeat(B-f)+m.substring(B)}case"MASK_EMAIL":{let m=h(a[0]),[f,S]=m.split("@");return S?f.charAt(0)+"***@"+S:m}case"MASK_PHONE":{let m=h(a[0]).replace(/\D/g,"");return m.length>4?"*".repeat(m.length-4)+m.slice(-4):m}case"FORMAT_PHONE":{let m=h(a[0]).replace(/\D/g,""),f=h(a[1]).toUpperCase();return f==="US"&&m.length===10?`(${m.slice(0,3)}) ${m.slice(3,6)}-${m.slice(6)}`:f==="INTL"&&m.length>=10?`+${m.slice(0,-10)} ${m.slice(-10,-7)} ${m.slice(-7,-4)} ${m.slice(-4)}`:m}case"ENCODE_HTML":return h(a[0]).replace(/[&<>"']/g,m=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[m]||m);case"DECODE_HTML":return h(a[0]).replace(/&amp;|&lt;|&gt;|&quot;|&#39;/g,m=>({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"})[m]||m);case"WRAP":return h(a[1])+h(a[0])+h(a[2]);case"TRUNCATE":{let m=h(a[0]),f=k(a[1]),S=h(a[2])||"...";return m.length>f?m.substring(0,f-S.length)+S:m}case"REGEX_MATCH":try{return new RegExp(h(a[1])).test(h(a[0])).toString()}catch{return"false"}case"REGEX_EXTRACT":try{let m=h(a[0]).match(new RegExp(h(a[1])));return m?m[0]:""}catch{return""}case"REGEX_REPLACE":try{return h(a[0]).replace(new RegExp(h(a[1]),"g"),h(a[2]))}catch{return a[0]}case"SUM":return a.reduce((m,f)=>m+v(f),0).toString();case"SUBTRACT":return(v(a[0])-v(a[1])).toString();case"MULTIPLY":return(v(a[0])*v(a[1])).toString();case"DIVIDE":return v(a[1])===0?"0":(v(a[0])/v(a[1])).toString();case"ROUND":return v(a[0]).toFixed(k(a[1]));case"ROUND_UP":let L=Math.pow(10,k(a[1]));return(Math.ceil(v(a[0])*L)/L).toString();case"ROUND_DOWN":let j=Math.pow(10,k(a[1]));return(Math.floor(v(a[0])*j)/j).toString();case"FLOOR":return Math.floor(v(a[0])).toString();case"CEIL":return Math.ceil(v(a[0])).toString();case"TRUNC":return Math.trunc(v(a[0])).toString();case"ABS":return Math.abs(v(a[0])).toString();case"SIGN":return Math.sign(v(a[0])).toString();case"NEGATE":return(-v(a[0])).toString();case"MIN":return Math.min(...a.map(v)).toString();case"MAX":return Math.max(...a.map(v)).toString();case"AVERAGE":{let m=a.map(v);return(m.reduce((f,S)=>f+S,0)/m.length).toString()}case"MEDIAN":{let m=a.map(v).sort((S,y)=>S-y),f=Math.floor(m.length/2);return(m.length%2?m[f]:(m[f-1]+m[f])/2).toString()}case"MODE":{let m={};return a.forEach(f=>{m[f]=(m[f]||0)+1}),Object.entries(m).sort((f,S)=>S[1]-f[1])[0]?.[0]||""}case"COUNT":return a.filter(m=>m!==""&&m!==null&&m!==void 0).length.toString();case"PRODUCT":return a.reduce((m,f)=>m*v(f),1).toString();case"PERCENTAGE":return v(a[1])===0?"0":(v(a[0])/v(a[1])*100).toString();case"PERCENT_OF":return(v(a[0])*v(a[1])/100).toString();case"PERCENT_CHANGE":return v(a[0])===0?"0":((v(a[1])-v(a[0]))/v(a[0])*100).toString();case"MOD":return(v(a[0])%v(a[1])).toString();case"POWER":return Math.pow(v(a[0]),v(a[1])).toString();case"SQRT":return Math.sqrt(v(a[0])).toString();case"CBRT":return Math.cbrt(v(a[0])).toString();case"LOG":return Math.log(v(a[0])).toString();case"LOG10":return Math.log10(v(a[0])).toString();case"LOG2":return Math.log2(v(a[0])).toString();case"EXP":return Math.exp(v(a[0])).toString();case"FACTORIAL":{let m=k(a[0]),f=1;for(let S=2;S<=m;S++)f*=S;return f.toString()}case"GCD":{let m=Math.abs(k(a[0])),f=Math.abs(k(a[1]));for(;f;)[m,f]=[f,m%f];return m.toString()}case"LCM":{let m=Math.abs(k(a[0])),f=Math.abs(k(a[1])),S=m,y=f;for(;y;)[S,y]=[y,S%y];return(m*f/S).toString()}case"RANDOM":return Math.random().toString();case"RANDOM_INT":return(Math.floor(Math.random()*(k(a[1])-k(a[0])+1))+k(a[0])).toString();case"CLAMP":return Math.min(Math.max(v(a[0]),v(a[1])),v(a[2])).toString();case"INTERPOLATE":return(v(a[0])+(v(a[1])-v(a[0]))*v(a[2])).toString();case"MAP_RANGE":{let m=v(a[0]),f=v(a[1]),S=v(a[2]),y=v(a[3]),B=v(a[4]);return((m-f)/(S-f)*(B-y)+y).toString()}case"SIN":return Math.sin(v(a[0])).toString();case"COS":return Math.cos(v(a[0])).toString();case"TAN":return Math.tan(v(a[0])).toString();case"DEGREES":return(v(a[0])*180/Math.PI).toString();case"RADIANS":return(v(a[0])*Math.PI/180).toString();case"PI":return Math.PI.toString();case"E":return Math.E.toString();case"VARIANCE":{let m=a.map(v),f=m.reduce((S,y)=>S+y,0)/m.length;return(m.reduce((S,y)=>S+Math.pow(y-f,2),0)/m.length).toString()}case"STDEV":{let m=a.map(v),f=m.reduce((S,y)=>S+y,0)/m.length;return Math.sqrt(m.reduce((S,y)=>S+Math.pow(y-f,2),0)/m.length).toString()}case"RANGE":{let m=a.map(v);return(Math.max(...m)-Math.min(...m)).toString()}case"COMPOUND_INTEREST":return(v(a[0])*Math.pow(1+v(a[1]),v(a[2]))).toString();case"SIMPLE_INTEREST":return(v(a[0])*(1+v(a[1])*v(a[2]))).toString();case"PMT":{let m=v(a[0]),f=v(a[1]),S=v(a[2]);return m===0?(S/f).toString():(S*m/(1-Math.pow(1+m,-f))).toString()}case"FV":return(v(a[2])*((Math.pow(1+v(a[0]),v(a[1]))-1)/v(a[0]))).toString();case"PV":return(v(a[2])*((1-Math.pow(1+v(a[0]),-v(a[1])))/v(a[0]))).toString();case"FORMAT_NUMBER":{let m=v(a[0]),f=k(a[1]);return m.toLocaleString("en-US",{minimumFractionDigits:f,maximumFractionDigits:f})}case"FORMAT_PERCENTAGE":return v(a[0]).toFixed(k(a[1]))+"%";case"FORMAT_BYTES":{let m=v(a[0]);if(m===0)return"0 Bytes";let f=1024,S=["Bytes","KB","MB","GB","TB"],y=Math.floor(Math.log(m)/Math.log(f));return(m/Math.pow(f,y)).toFixed(2)+" "+S[y]}case"FORMAT_ORDINAL":{let m=k(a[0]),f=["th","st","nd","rd"],S=m%100;return m+(f[(S-20)%10]||f[S]||f[0])}case"ROMAN":{let m=k(a[0]),f="",S=[[1e3,"M"],[900,"CM"],[500,"D"],[400,"CD"],[100,"C"],[90,"XC"],[50,"L"],[40,"XL"],[10,"X"],[9,"IX"],[5,"V"],[4,"IV"],[1,"I"]];for(let[y,B]of S)for(;m>=y;)f+=B,m-=y;return f}case"HEX":return k(a[0]).toString(16).toUpperCase();case"BIN":return k(a[0]).toString(2);case"OCT":return k(a[0]).toString(8);case"PARSE_INT":return parseInt(h(a[0]),k(a[1])||10).toString();case"TODAY":return this.formatDateForField(new Date,p||"DATE");case"NOW":return this.formatDateForField(new Date,p||"DATETIME");case"TIMESTAMP":return Date.now().toString();case"DATE":{let m=new Date(k(a[0]),k(a[1])-1,k(a[2]));return this.formatDateForField(m,p||"DATE")}case"DATETIME":{let m=new Date(k(a[0]),k(a[1])-1,k(a[2]),k(a[3]),k(a[4]),k(a[5]));return this.formatDateForField(m,p||"DATETIME")}case"DATE_FORMAT":{let m=O(a[0]),f=h(a[1]);return this.formatDateWithPattern(m,f)}case"DATE_PARSE":return new Date(h(a[0])).toISOString();case"DATE_ADD":{let m=O(a[0]),f=k(a[1]),S=h(a[2]).toLowerCase();return this.addToDate(m,f,S,p)}case"DATE_SUBTRACT":{let m=O(a[0]),f=k(a[1]),S=h(a[2]).toLowerCase();return this.addToDate(m,-f,S,p)}case"DATE_DIFF":{let m=O(a[0]),f=O(a[1]),S=h(a[2]).toLowerCase();return this.dateDiff(m,f,S)}case"AGE":{let m=O(a[0]),f=new Date,S=f.getFullYear()-m.getFullYear();return(f.getMonth()<m.getMonth()||f.getMonth()===m.getMonth()&&f.getDate()<m.getDate())&&S--,S.toString()}case"AGE_DETAILED":{let m=O(a[0]),f=new Date,S=f.getFullYear()-m.getFullYear(),y=f.getMonth()-m.getMonth(),B=f.getDate()-m.getDate();return B<0&&(y--,B+=new Date(f.getFullYear(),f.getMonth(),0).getDate()),y<0&&(S--,y+=12),`${S} years, ${y} months, ${B} days`}case"YEAR":return a[0]?O(a[0]).getFullYear().toString():new Date().getFullYear().toString();case"MONTH":return a[0]?(O(a[0]).getMonth()+1).toString():(new Date().getMonth()+1).toString();case"DAY":return a[0]?O(a[0]).getDate().toString():new Date().getDate().toString();case"HOUR":return a[0]?O(a[0]).getHours().toString():new Date().getHours().toString();case"MINUTE":return a[0]?O(a[0]).getMinutes().toString():new Date().getMinutes().toString();case"SECOND":return a[0]?O(a[0]).getSeconds().toString():new Date().getSeconds().toString();case"MILLISECOND":return a[0]?O(a[0]).getMilliseconds().toString():new Date().getMilliseconds().toString();case"WEEKDAY":return((a[0]?O(a[0]):new Date).getDay()||7).toString();case"WEEKDAY_NAME":{let m=a[0]?O(a[0]):new Date;return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][m.getDay()]}case"WEEKDAY_SHORT":{let m=a[0]?O(a[0]):new Date;return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][m.getDay()]}case"WEEK_NUMBER":{let m=a[0]?O(a[0]):new Date,f=new Date(m.getFullYear(),0,1);return Math.ceil(((m.getTime()-f.getTime())/864e5+f.getDay()+1)/7).toString()}case"QUARTER":{let m=a[0]?O(a[0]):new Date;return(Math.floor(m.getMonth()/3)+1).toString()}case"MONTH_NAME":{let m=a[0]?O(a[0]):new Date;return["January","February","March","April","May","June","July","August","September","October","November","December"][m.getMonth()]}case"MONTH_SHORT":{let m=a[0]?O(a[0]):new Date;return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][m.getMonth()]}case"DAY_OF_YEAR":{let m=a[0]?O(a[0]):new Date,f=new Date(m.getFullYear(),0,0);return Math.floor((m.getTime()-f.getTime())/864e5).toString()}case"DAYS_IN_MONTH":{let m=a[0]?O(a[0]):new Date;return new Date(m.getFullYear(),m.getMonth()+1,0).getDate().toString()}case"DAYS_IN_YEAR":{let f=(a[0]?O(a[0]):new Date).getFullYear();return(f%4===0&&f%100!==0||f%400===0?366:365).toString()}case"IS_LEAP_YEAR":{let m=a[0]?O(a[0]).getFullYear():new Date().getFullYear();return(m%4===0&&m%100!==0||m%400===0).toString()}case"START_OF_DAY":{let m=new Date(a[0]?O(a[0]):new Date);return m.setHours(0,0,0,0),this.formatDateForField(m,p||"DATETIME")}case"END_OF_DAY":{let m=new Date(a[0]?O(a[0]):new Date);return m.setHours(23,59,59,999),this.formatDateForField(m,p||"DATETIME")}case"START_OF_WEEK":{let m=new Date(a[0]?O(a[0]):new Date),f=m.getDay()||7;return m.setDate(m.getDate()-f+1),this.formatDateForField(m,p||"DATE")}case"END_OF_WEEK":{let m=new Date(a[0]?O(a[0]):new Date),f=m.getDay()||7;return m.setDate(m.getDate()+(7-f)),this.formatDateForField(m,p||"DATE")}case"START_OF_MONTH":{let m=new Date(a[0]?O(a[0]):new Date);return m.setDate(1),this.formatDateForField(m,p||"DATE")}case"END_OF_MONTH":{let m=new Date(a[0]?O(a[0]):new Date);return m.setMonth(m.getMonth()+1,0),this.formatDateForField(m,p||"DATE")}case"START_OF_QUARTER":{let m=new Date(a[0]?O(a[0]):new Date);return m.setMonth(Math.floor(m.getMonth()/3)*3,1),this.formatDateForField(m,p||"DATE")}case"END_OF_QUARTER":{let m=new Date(a[0]?O(a[0]):new Date);return m.setMonth(Math.floor(m.getMonth()/3)*3+3,0),this.formatDateForField(m,p||"DATE")}case"START_OF_YEAR":{let m=new Date(a[0]?O(a[0]):new Date);return m.setMonth(0,1),this.formatDateForField(m,p||"DATE")}case"END_OF_YEAR":{let m=new Date(a[0]?O(a[0]):new Date);return m.setMonth(11,31),this.formatDateForField(m,p||"DATE")}case"IS_WEEKEND":{let m=(a[0]?O(a[0]):new Date).getDay();return(m===0||m===6).toString()}case"IS_WEEKDAY":{let m=(a[0]?O(a[0]):new Date).getDay();return(m!==0&&m!==6).toString()}case"IS_TODAY":{let m=a[0]?O(a[0]):new Date,f=new Date;return(m.toDateString()===f.toDateString()).toString()}case"IS_YESTERDAY":{let m=a[0]?O(a[0]):new Date,f=new Date;return f.setDate(f.getDate()-1),(m.toDateString()===f.toDateString()).toString()}case"IS_TOMORROW":{let m=a[0]?O(a[0]):new Date,f=new Date;return f.setDate(f.getDate()+1),(m.toDateString()===f.toDateString()).toString()}case"IS_PAST":return((a[0]?O(a[0]):new Date)<new Date).toString();case"IS_FUTURE":return((a[0]?O(a[0]):new Date)>new Date).toString();case"IS_THIS_WEEK":{let m=a[0]?O(a[0]):new Date,f=new Date,S=new Date(f);S.setDate(f.getDate()-(f.getDay()||7)+1);let y=new Date(S);return y.setDate(S.getDate()+6),(m>=S&&m<=y).toString()}case"IS_THIS_MONTH":{let m=a[0]?O(a[0]):new Date,f=new Date;return(m.getMonth()===f.getMonth()&&m.getFullYear()===f.getFullYear()).toString()}case"IS_THIS_YEAR":return((a[0]?O(a[0]):new Date).getFullYear()===new Date().getFullYear()).toString();case"IS_SAME_DAY":return(O(a[0]).toDateString()===O(a[1]).toDateString()).toString();case"IS_BEFORE":return(O(a[0])<O(a[1])).toString();case"IS_AFTER":return(O(a[0])>O(a[1])).toString();case"IS_BETWEEN_DATES":{let m=O(a[0]),f=O(a[1]),S=O(a[2]);return(m>=f&&m<=S).toString()}case"BUSINESS_DAYS":{let m=O(a[0]),f=O(a[1]),S=0,y=new Date(m);for(;y<=f;){let B=y.getDay();B!==0&&B!==6&&S++,y.setDate(y.getDate()+1)}return S.toString()}case"ADD_BUSINESS_DAYS":{let m=new Date(a[0]?O(a[0]):new Date),f=k(a[1]);for(;f>0;)m.setDate(m.getDate()+1),m.getDay()!==0&&m.getDay()!==6&&f--;return this.formatDateForField(m,p||"DATE")}case"RELATIVE_TIME":{let m=a[0]?O(a[0]):new Date,f=Date.now()-m.getTime(),S=Math.abs(f),y=f<0;return S<6e4?y?"in a few seconds":"just now":S<36e5?`${y?"in ":""}${Math.floor(S/6e4)} minutes${y?"":" ago"}`:S<864e5?`${y?"in ":""}${Math.floor(S/36e5)} hours${y?"":" ago"}`:`${y?"in ":""}${Math.floor(S/864e5)} days${y?"":" ago"}`}case"ISO_STRING":return(a[0]?O(a[0]):new Date).toISOString();case"CURRENT_DATE":return this.formatDate(new Date);case"CURRENT_TIME":return new Date().toTimeString().split(" ")[0];case"CURRENT_DATETIME":return this.formatDateTime(new Date);case"CURRENT_YEAR":return new Date().getFullYear().toString();case"CURRENT_MONTH":return(new Date().getMonth()+1).toString();case"IF":return this.evaluateCondition(a[0])?a[1]:a[2];case"IFS":{for(let m=0;m<a.length-1;m+=2)if(this.evaluateCondition(a[m]))return a[m+1];return a.length%2===1?a[a.length-1]:""}case"SWITCH":{let m=a[0];for(let f=1;f<a.length-1;f+=2)if(m===a[f])return a[f+1];return a.length%2===0?a[a.length-1]:""}case"AND":return a.every(m=>U(m)||this.evaluateCondition(m)).toString();case"OR":return a.some(m=>U(m)||this.evaluateCondition(m)).toString();case"NOT":return(!U(a[0])).toString();case"XOR":return(U(a[0])!==U(a[1])).toString();case"NAND":return(!(U(a[0])&&U(a[1]))).toString();case"NOR":return(!(U(a[0])||U(a[1]))).toString();case"IS_EMPTY":return(!a[0]||h(a[0]).trim()==="").toString();case"IS_NOT_EMPTY":return(a[0]&&h(a[0]).trim()!=="").toString();case"IS_NULL":return(a[0]===null||a[0]===void 0||a[0]==="").toString();case"IS_NOT_NULL":return(a[0]!==null&&a[0]!==void 0&&a[0]!=="").toString();case"IS_BLANK":return(!a[0]||h(a[0]).trim()==="").toString();case"IS_TRUE":return U(a[0]).toString();case"IS_FALSE":return(!U(a[0])).toString();case"EQUALS":return(a[0]===a[1]).toString();case"EQUALS_IGNORE_CASE":return(h(a[0]).toLowerCase()===h(a[1]).toLowerCase()).toString();case"NOT_EQUALS":return(a[0]!==a[1]).toString();case"GREATER_THAN":return(v(a[0])>v(a[1])).toString();case"GREATER_THAN_OR_EQUAL":return(v(a[0])>=v(a[1])).toString();case"LESS_THAN":return(v(a[0])<v(a[1])).toString();case"LESS_THAN_OR_EQUAL":return(v(a[0])<=v(a[1])).toString();case"BETWEEN":return(v(a[0])>=v(a[1])&&v(a[0])<=v(a[2])).toString();case"NOT_BETWEEN":return(v(a[0])<v(a[1])||v(a[0])>v(a[2])).toString();case"IN":try{return JSON.parse(a[1]).includes(a[0]).toString()}catch{return"false"}case"NOT_IN":try{return(!JSON.parse(a[1]).includes(a[0])).toString()}catch{return"true"}case"IS_NUMBER":return(!isNaN(parseFloat(a[0]))&&isFinite(v(a[0]))).toString();case"IS_INTEGER":return Number.isInteger(v(a[0])).toString();case"IS_DECIMAL":return(v(a[0])%1!==0).toString();case"IS_POSITIVE":return(v(a[0])>0).toString();case"IS_NEGATIVE":return(v(a[0])<0).toString();case"IS_ZERO":return(v(a[0])===0).toString();case"IS_EVEN":return(k(a[0])%2===0).toString();case"IS_ODD":return(k(a[0])%2!==0).toString();case"IS_TEXT":return(typeof a[0]=="string").toString();case"IS_DATE":return(!isNaN(new Date(a[0]).getTime())).toString();case"IS_BOOLEAN":return(a[0]==="true"||a[0]==="false"||typeof a[0]=="boolean").toString();case"IS_EMAIL":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h(a[0])).toString();case"IS_URL":try{return new URL(h(a[0])),"true"}catch{return"false"}case"IS_PHONE":return/^[\d\s\-\+\(\)]{7,20}$/.test(h(a[0])).toString();case"IS_UUID":return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(h(a[0])).toString();case"IS_ALPHANUMERIC":return/^[a-zA-Z0-9]+$/.test(h(a[0])).toString();case"IS_ALPHA":return/^[a-zA-Z]+$/.test(h(a[0])).toString();case"IS_NUMERIC":return/^[0-9]+$/.test(h(a[0])).toString();case"IS_UPPERCASE":return(h(a[0])===h(a[0]).toUpperCase()).toString();case"IS_LOWERCASE":return(h(a[0])===h(a[0]).toLowerCase()).toString();case"MATCHES_PATTERN":try{return new RegExp(h(a[1])).test(h(a[0])).toString()}catch{return"false"}case"HAS_LENGTH":return(h(a[0]).length===k(a[1])).toString();case"HAS_MIN_LENGTH":return(h(a[0]).length>=k(a[1])).toString();case"HAS_MAX_LENGTH":return(h(a[0]).length<=k(a[1])).toString();case"CURRENT_USER":return i?.fullName||"";case"CURRENT_USER_EMAIL":return i?.email||"";case"CURRENT_USER_ID":return i?.userId||"";case"CURRENT_USERNAME":return i?.username||"";case"CURRENT_USER_PHONE":return i?.phoneNumber||"";case"CURRENT_USER_DEPARTMENT":return i?.department||"";case"CURRENT_USER_STAFFID":return i?.staffId||"";case"CURRENT_USER_ROLE":return i?.userType||"";case"CURRENT_USER_SBU":return i?.sbuIds?.[0]||"";case"CURRENT_USER_BRANCH":return i?.branchIds?.[0]||"";case"UUID":return this.generateUUID();case"SHORT_UUID":return this.generateUUID().substring(0,8);case"NANO_ID":{let m=k(a[0])||21,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",S="";for(let y=0;y<m;y++)S+=f.charAt(Math.floor(Math.random()*f.length));return S}case"SEQUENCE":return h(a[0])+Date.now().toString().slice(-8);case"SEQUENCE_PADDED":{let m=h(a[0]),f=k(a[1])||6;return m+Date.now().toString().slice(-f).padStart(f,"0")}case"RANDOM_STRING":{let m=k(a[0])||10,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",S="";for(let y=0;y<m;y++)S+=f.charAt(Math.floor(Math.random()*f.length));return S}case"RANDOM_CODE":{let m=k(a[0])||6,f=h(a[1]).toUpperCase(),S="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";f==="ALPHA"?S="ABCDEFGHIJKLMNOPQRSTUVWXYZ":f==="NUMERIC"&&(S="0123456789");let y="";for(let B=0;B<m;B++)y+=S.charAt(Math.floor(Math.random()*S.length));return y}case"COALESCE":case"DEFAULT":return a.find(m=>m&&h(m).trim()!=="")||"";case"NULLIF":return a[0]===a[1]?"":a[0];case"NVL":case"IFNULL":return a[0]===null||a[0]===void 0||a[0]===""?a[1]:a[0];case"FORMAT_CURRENCY":{let m=v(a[0]),f=h(a[1])||"USD";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:f}).format(m)}catch{return m.toFixed(2)}}case"TO_NUMBER":return v(a[0]).toString();case"TO_TEXT":return h(a[0]);case"TO_BOOLEAN":return U(a[0]).toString();case"TO_DATE":return this.formatDate(O(a[0]));case"TO_ARRAY":return JSON.stringify(h(a[0]).split(",").map(m=>m.trim()));case"TO_JSON":try{return JSON.stringify(a[0])}catch{return""}case"FROM_JSON":try{return JSON.parse(h(a[0]))}catch{return a[0]}case"FIELD_VALUE":{let m=h(a[0]);return this.getFieldValue(m)||""}case"FIELD_LABEL":{let m=h(a[0]);return this.fields.find(S=>S.name===m)?.label||m}case"GET":try{let m=h(a[1]).split("."),f=JSON.parse(h(a[0]));for(let S of m)f=f?.[S];return f??a[2]??""}catch{return a[2]??""}case"KEYS":try{return JSON.stringify(Object.keys(JSON.parse(h(a[0]))))}catch{return"[]"}case"VALUES":try{return JSON.stringify(Object.values(JSON.parse(h(a[0]))))}catch{return"[]"}case"ARRAY_LENGTH":try{return JSON.parse(h(a[0])).length.toString()}catch{return"0"}case"ARRAY_FIRST":try{return JSON.parse(h(a[0]))[0]??""}catch{return""}case"ARRAY_LAST":try{let m=JSON.parse(h(a[0]));return m[m.length-1]??""}catch{return""}case"ARRAY_JOIN":try{return JSON.parse(h(a[0])).join(h(a[1]))}catch{return""}case"ARRAY_SUM":try{return JSON.parse(h(a[0])).reduce((m,f)=>m+v(f),0).toString()}catch{return"0"}case"ARRAY_AVERAGE":try{let m=JSON.parse(h(a[0]));return(m.reduce((f,S)=>f+v(S),0)/m.length).toString()}catch{return"0"}case"ARRAY_MIN":try{return Math.min(...JSON.parse(h(a[0])).map(v)).toString()}catch{return"0"}case"ARRAY_MAX":try{return Math.max(...JSON.parse(h(a[0])).map(v)).toString()}catch{return"0"}case"ARRAY_UNIQUE":try{return JSON.stringify([...new Set(JSON.parse(h(a[0])))])}catch{return"[]"}case"ARRAY_REVERSE":try{return JSON.stringify(JSON.parse(h(a[0])).reverse())}catch{return"[]"}case"ARRAY_SORT":try{let m=JSON.parse(h(a[0])),f=h(a[1]).toUpperCase();return JSON.stringify(m.sort((S,y)=>f==="DESC"?y>S?1:-1:S>y?1:-1))}catch{return"[]"}case"ARRAY_INCLUDES":try{return JSON.parse(h(a[0])).includes(a[1]).toString()}catch{return"false"}case"ARRAY_INDEX_OF":try{return JSON.parse(h(a[0])).indexOf(a[1]).toString()}catch{return"-1"}case"TEMPLATE":{let m=h(a[0]);try{let f=typeof a[1]=="object"?a[1]:JSON.parse(h(a[1]));return m.replace(/\{\{(\w+)\}\}/g,(S,y)=>f[y]??"")}catch{return m}}case"BASE64_ENCODE":try{return btoa(h(a[0]))}catch{return""}case"BASE64_DECODE":try{return atob(h(a[0]))}catch{return""}case"URL_ENCODE":return encodeURIComponent(h(a[0]));case"URL_DECODE":return decodeURIComponent(h(a[0]));case"TRY":try{return this.evaluateFunction(h(a[0]),t)}catch{return a[1]||""}case"TYPEOF":return typeof a[0];case"CLONE":try{return JSON.stringify(JSON.parse(JSON.stringify(a[0])))}catch{return a[0]}case"COMPARE":return a[0]>a[1]?"1":a[0]<a[1]?"-1":"0";case"EQUALS_DEEP":try{return(JSON.stringify(a[0])===JSON.stringify(a[1])).toString()}catch{return"false"}case"WORKFLOW_ID":return this.workflow?.id||"";case"WORKFLOW_NAME":return this.workflow?.name||"";case"INSTANCE_ID":return this.instanceId||"";case"ENVIRONMENT":return"PROD";case"VERSION":return"1.0.0";case"LOCALE":return navigator.language||"en-US";case"TIMEZONE":return Intl.DateTimeFormat().resolvedOptions().timeZone;case"BROWSER":return navigator.userAgent.includes("Chrome")?"Chrome":navigator.userAgent.includes("Firefox")?"Firefox":navigator.userAgent.includes("Safari")?"Safari":"Unknown";case"PLATFORM":return navigator.platform||"Unknown";case"IS_MOBILE":return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent).toString();case"SCREEN_WIDTH":return window.screen.width.toString();case"SCREEN_HEIGHT":return window.screen.height.toString();default:return e}}formatDateWithPattern(e,t){if(!e||isNaN(e.getTime()))return"";let i=E=>E.toString().padStart(2,"0"),s={YYYY:e.getFullYear().toString(),YY:e.getFullYear().toString().slice(-2),MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],MMM:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],MM:i(e.getMonth()+1),DD:i(e.getDate()),ddd:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getDay()],HH:i(e.getHours()),mm:i(e.getMinutes()),ss:i(e.getSeconds())},p=t;for(let[E,x]of Object.entries(s))p=p.replace(new RegExp(E,"g"),x);return p}addToDate(e,t,i,s){let p=new Date(e);switch(i){case"years":p.setFullYear(p.getFullYear()+t);break;case"months":p.setMonth(p.getMonth()+t);break;case"weeks":p.setDate(p.getDate()+t*7);break;case"days":p.setDate(p.getDate()+t);break;case"hours":p.setHours(p.getHours()+t);break;case"minutes":p.setMinutes(p.getMinutes()+t);break;case"seconds":p.setSeconds(p.getSeconds()+t);break}return this.formatDateForField(p,s||"DATE")}dateDiff(e,t,i){let s=Math.abs(t.getTime()-e.getTime());switch(i){case"years":return Math.floor(s/(365.25*24*60*60*1e3)).toString();case"months":return Math.floor(s/(30.44*24*60*60*1e3)).toString();case"weeks":return Math.floor(s/(7*24*60*60*1e3)).toString();case"days":return Math.floor(s/(24*60*60*1e3)).toString();case"hours":return Math.floor(s/(60*60*1e3)).toString();case"minutes":return Math.floor(s/(60*1e3)).toString();case"seconds":return Math.floor(s/1e3).toString();default:return Math.floor(s/(24*60*60*1e3)).toString()}}parseStringArg(e,t=!0){let i=e.replace(/^["']|["']$/g,"").trim();if(t&&!e.startsWith('"')&&!e.startsWith("'")){let s=this.getFieldValue(i);if(s!==null)return String(s)}return i}parseArgs(e,t=!0){let i=[],s="",p=!1,E="";for(let x of e)(x==='"'||x==="'")&&!p?(p=!0,E=x,s+=x):x===E&&p?(p=!1,s+=x,E=""):x===","&&!p?(i.push(this.resolveArgValue(s.trim(),t)),s=""):s+=x;return s&&i.push(this.resolveArgValue(s.trim(),t)),i}resolveArgValue(e,t){if(e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"))return e.slice(1,-1);if(t){let i=this.getFieldValue(e);if(i!==null)return String(i)}return e}getFieldValue(e){if(!this.form)return null;let t=this.form.get(e);return t?t.value:null}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}formatDate(e){return e.toISOString().split("T")[0]}formatDateTime(e){let t=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0"),p=String(e.getHours()).padStart(2,"0"),E=String(e.getMinutes()).padStart(2,"0");return`${t}-${i}-${s}T${p}:${E}`}formatDateForField(e,t){let i=(t||"").toUpperCase();return i==="DATETIME"?this.formatDateTime(e):i==="DATE"?this.formatDate(e):e.toISOString()}onFileSelect(e,t){let i=e.target;i.files&&(this.selectedFiles[t]=Array.from(i.files))}isCheckboxOptionSelected(e,t){if(!this.checkboxGroupValues[e]){let i=this.form.get(e)?.value;i?this.checkboxGroupValues[e]=Array.isArray(i)?i:i.split(",").filter(s=>s):this.checkboxGroupValues[e]=[]}return this.checkboxGroupValues[e].includes(t)}onCheckboxGroupChange(e,t,i){this.checkboxGroupValues[e]||(this.checkboxGroupValues[e]=[]),i?this.checkboxGroupValues[e].includes(t)||this.checkboxGroupValues[e].push(t):this.checkboxGroupValues[e]=this.checkboxGroupValues[e].filter(s=>s!==t),this.form.get(e)?.setValue(this.checkboxGroupValues[e].join(",")),this.form.get(e)?.markAsTouched()}imagePreviews={};getStarArray(e){let t=e.ratingMax||5;return Array.from({length:t},(i,s)=>s+1)}getRatingValue(e){let t=this.form.get(e.name)?.value;return t?parseInt(t,10):0}setRating(e,t){this.isFieldReadonly(e)||(this.form.get(e.name)?.setValue(t),this.form.get(e.name)?.markAsTouched())}getImagePreview(e){return this.imagePreviews[e.name]||null}onImageSelect(e,t){let i=e.target;if(i.files&&i.files[0]){let s=i.files[0],p=new FileReader;p.onload=E=>{this.imagePreviews[t.name]=E.target.result,this.form.get(t.name)?.setValue(E.target.result),this.form.get(t.name)?.markAsTouched()},p.readAsDataURL(s)}}onAttachmentSelect(e){let t=e.target;t.files&&this.attachments.push(...Array.from(t.files))}removeAttachment(e){this.attachments.splice(e,1)}formatFileSize(e){if(e===0)return"0 Bytes";let t=1024,i=["Bytes","KB","MB","GB"],s=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,s)).toFixed(2))+" "+i[s]}goBack(){this.router.navigate(["/workflows",this.workflowCode,"instances"])}saveDraft(){this.submitForm(!0)}onSubmit(){if(this.hasAttemptedSubmit=!0,this.validateAllFields(),this.form.invalid){this.snackBar.open("Please fill in all required fields","Close",{duration:3e3});return}if(this.pendingUniqueChecks.size>0){this.snackBar.open("Please wait for validation checks to complete","Close",{duration:3e3});return}if(Object.values(this.validationErrors).some(t=>t!==null)){this.snackBar.open("Please fix validation errors before submitting","Close",{duration:3e3});return}this.submitForm(!1)}submitForm(e){this.submitting=!0;let t=new FormData;t.append("workflowCode",this.workflowCode),t.append("isDraft",e.toString());let i={};this.fields.forEach(p=>{let E=this.form.value[p.name];if(!this.isEditMode&&this.timeBasedFields.has(p.name)){let x=this.timeBasedFields.get(p.name);E=this.evaluateDefaultValue(x.expression,x.fieldType),(p.type==="DATE"||p.type==="DATETIME")&&E instanceof Date&&(E=E.toISOString())}p.type==="USER"&&E&&typeof E=="object"&&E.id&&(E=E.id),i[p.name]=E}),t.append("fieldValues",JSON.stringify(i)),this.attachments.forEach((p,E)=>{t.append("attachments",p)}),Object.keys(this.selectedFiles).forEach(p=>{this.selectedFiles[p].forEach(E=>{t.append(`files_${p}`,E)})}),(this.isEditMode&&this.instanceId?this.workflowService.updateInstance(this.instanceId,t):this.workflowService.submitInstance(t)).subscribe({next:p=>{if(this.submitting=!1,p.success){let E=this.isEditMode?e?"Draft updated successfully":"Submission updated successfully":e?"Draft saved successfully":"Submission created successfully";this.snackBar.open(E,"Close",{duration:3e3}),this.router.navigate(["/workflows",this.workflowCode,"instances"])}},error:p=>{this.submitting=!1,this.snackBar.open(p.error?.message||"Submission failed","Close",{duration:3e3})}})}loadUsers(){this.userService.getUsers().subscribe({next:e=>{e.success&&e.data&&(this.allUsers=e.data)},error:()=>{console.error("Failed to load users")}})}onUserSearch(e,t){let s=e.target.value?.toLowerCase()||"";if(this.userSearchTerms[t]=s,!s){this.filteredUsersMap[t]=[];return}this.filteredUsersMap[t]=this.allUsers.filter(p=>{let E=`${p.firstName} ${p.lastName}`.toLowerCase(),x=(p.email||"").toLowerCase(),P=(p.username||"").toLowerCase();return E.includes(s)||x.includes(s)||P.includes(s)}).slice(0,10)}getFilteredUsers(e){return this.filteredUsersMap[e]||[]}displayUserFn=e=>e?typeof e=="string"?e:`${e.firstName} ${e.lastName}`:"";onUserSelected(e,t){let i=e.option.value;this.selectedUsers[t]=i,this.form.get(t)?.setValue(i),this.filteredUsersMap[t]=[],this.userSearchTerms[t]=""}getUserFieldValue(e){let t=this.form.get(e)?.value;return t?typeof t=="object"&&t.id?t.id:t:""}signatureDrawing={};signatureContexts={};startSignature(e,t){if(this.isFieldReadonly(t))return;let i=e.target,s=i.getContext("2d");if(!s)return;this.signatureDrawing[t.name]=!0,this.signatureContexts[t.name]=s,i.width!==i.offsetWidth&&(i.width=i.offsetWidth,i.height=i.offsetHeight),s.strokeStyle="#000",s.lineWidth=2,s.lineCap="round",s.lineJoin="round";let p=i.getBoundingClientRect();s.beginPath(),s.moveTo(e.clientX-p.left,e.clientY-p.top)}drawSignature(e,t){if(!this.signatureDrawing[t.name]||this.isFieldReadonly(t))return;let i=this.signatureContexts[t.name];if(!i)return;let p=e.target.getBoundingClientRect();i.lineTo(e.clientX-p.left,e.clientY-p.top),i.stroke()}endSignature(e){if(this.signatureDrawing[e.name]){this.signatureDrawing[e.name]=!1;let t=document.querySelector(`canvas[data-field="${e.name}"]`);if(t){let i=t.toDataURL("image/png");this.form.get(e.name)?.setValue(i),this.form.get(e.name)?.markAsTouched()}}}startSignatureTouch(e,t){if(this.isFieldReadonly(t))return;e.preventDefault();let i=e.target,s=i.getContext("2d");if(!s)return;this.signatureDrawing[t.name]=!0,this.signatureContexts[t.name]=s,i.width!==i.offsetWidth&&(i.width=i.offsetWidth,i.height=i.offsetHeight),s.strokeStyle="#000",s.lineWidth=2,s.lineCap="round",s.lineJoin="round";let p=i.getBoundingClientRect(),E=e.touches[0];s.beginPath(),s.moveTo(E.clientX-p.left,E.clientY-p.top)}drawSignatureTouch(e,t){if(!this.signatureDrawing[t.name]||this.isFieldReadonly(t))return;e.preventDefault();let i=this.signatureContexts[t.name];if(!i)return;let p=e.target.getBoundingClientRect(),E=e.touches[0];i.lineTo(E.clientX-p.left,E.clientY-p.top),i.stroke()}clearSignature(e){let t=document.querySelector(`canvas[data-field="${e.name}"]`);if(t){let i=t.getContext("2d");i&&i.clearRect(0,0,t.width,t.height),this.form.get(e.name)?.setValue(""),this.form.get(e.name)?.markAsTouched()}}execRichTextCommand(e){document.execCommand(e,!1)}onRichTextInput(e,t){let i=e.target;this.form.get(t.name)?.setValue(i.innerHTML)}onRichTextBlur(e,t){let i=e.target;this.form.get(t.name)?.setValue(i.innerHTML),this.form.get(t.name)?.markAsTouched()}getRichTextValue(e){return this.form.get(e.name)?.value||""}iconPickerOpen={};iconSearchText={};availableIcons=["home","search","settings","favorite","star","check_circle","delete","edit","add","remove","close","menu","more_vert","more_horiz","refresh","sync","visibility","visibility_off","lock","lock_open","person","people","group","email","phone","chat","message","notifications","alarm","schedule","event","calendar_today","date_range","access_time","timer","hourglass_empty","folder","folder_open","file_copy","attach_file","cloud","cloud_upload","cloud_download","image","photo","camera","videocam","mic","volume_up","music_note","play_arrow","pause","stop","skip_next","skip_previous","replay","location_on","map","directions","navigation","explore","public","language","shopping_cart","store","payment","credit_card","account_balance","receipt","work","business","business_center","apartment","domain","corporate_fare","school","science","biotech","psychology","engineering","build","construction","handyman","plumbing","electrical_services","computer","laptop","smartphone","tablet","desktop_windows","devices","wifi","bluetooth","signal_wifi_4_bar","network_check","router","code","terminal","bug_report","memory","storage","dns","security","verified_user","shield","admin_panel_settings","policy","analytics","bar_chart","pie_chart","show_chart","trending_up","trending_down","assessment","leaderboard","insights","query_stats","local_shipping","flight","train","directions_car","directions_bus","two_wheeler","restaurant","local_cafe","local_bar","fastfood","lunch_dining","health_and_safety","medical_services","vaccines","medication","healing","pets","park","nature","eco","grass","forest","water_drop","sports_soccer","sports_basketball","sports_tennis","fitness_center","pool","thumb_up","thumb_down","sentiment_satisfied","sentiment_dissatisfied","mood","lightbulb","tips_and_updates","help","info","warning","error","report"];toggleIconPicker(e){this.isFieldReadonly(e)||(this.iconPickerOpen[e.name]=!this.iconPickerOpen[e.name],this.iconPickerOpen[e.name]&&(this.iconSearchText[e.name]=""))}isIconPickerOpen(e){return this.iconPickerOpen[e.name]||!1}selectIcon(e,t){this.form.get(e.name)?.setValue(t),this.form.get(e.name)?.markAsTouched(),this.iconPickerOpen[e.name]=!1}getSelectedIcon(e){return this.form.get(e.name)?.value||"help_outline"}getFilteredIcons(e){let t=(this.iconSearchText[e.name]||"").toLowerCase();return t?this.availableIcons.filter(i=>i.includes(t)):this.availableIcons}onIconSearch(e,t){let i=e.target;this.iconSearchText[t.name]=i.value}scanBarcode(e){this.snackBar.open("Barcode scanning requires camera access. Please enter the code manually.","OK",{duration:5e3})}gettingLocation={};locationData={};getLocationLat(e){let t=this.form.get(e.name)?.value;if(t&&typeof t=="string"){let i=t.split(",");if(i.length>=2)return parseFloat(i[0])||null}return this.locationData[e.name]?.lat||null}getLocationLng(e){let t=this.form.get(e.name)?.value;if(t&&typeof t=="string"){let i=t.split(",");if(i.length>=2)return parseFloat(i[1])||null}return this.locationData[e.name]?.lng||null}onLocationLatChange(e,t){let i=e.target,s=parseFloat(i.value)||null;this.locationData[t.name]||(this.locationData[t.name]={lat:null,lng:null}),this.locationData[t.name].lat=s,this.updateLocationValue(t)}onLocationLngChange(e,t){let i=e.target,s=parseFloat(i.value)||null;this.locationData[t.name]||(this.locationData[t.name]={lat:null,lng:null}),this.locationData[t.name].lng=s,this.updateLocationValue(t)}updateLocationValue(e){let t=this.locationData[e.name];t&&t.lat!==null&&t.lng!==null?this.form.get(e.name)?.setValue(`${t.lat},${t.lng}`):this.form.get(e.name)?.setValue(""),this.form.get(e.name)?.markAsTouched()}getCurrentLocation(e){if(!this.isFieldReadonly(e)){if(!navigator.geolocation){this.snackBar.open("Geolocation is not supported by your browser","OK",{duration:3e3});return}this.gettingLocation[e.name]=!0,navigator.geolocation.getCurrentPosition(t=>{let i=t.coords.latitude,s=t.coords.longitude;this.locationData[e.name]={lat:i,lng:s},this.form.get(e.name)?.setValue(`${i},${s}`),this.form.get(e.name)?.markAsTouched(),this.gettingLocation[e.name]=!1,this.cdr.detectChanges()},t=>{this.gettingLocation[e.name]=!1;let i="Could not get location";switch(t.code){case t.PERMISSION_DENIED:i="Location permission denied";break;case t.POSITION_UNAVAILABLE:i="Location information unavailable";break;case t.TIMEOUT:i="Location request timed out";break}this.snackBar.open(i,"OK",{duration:3e3}),this.cdr.detectChanges()},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}}isGettingLocation(e){return this.gettingLocation[e.name]||!1}getLocationDisplay(e){let t=this.getLocationLat(e),i=this.getLocationLng(e);return t!==null&&i!==null?`${t.toFixed(6)}, ${i.toFixed(6)}`:"No location set"}tableData={};getTableColumns(e){if(e.options&&typeof e.options=="string")try{let t=JSON.parse(e.options);if(Array.isArray(t))return t.map(i=>({name:i.name||i.value||"column",label:i.label||i.name||"Column",type:i.type||"text"}))}catch{}return[{name:"col1",label:"Column 1",type:"text"},{name:"col2",label:"Column 2",type:"text"},{name:"col3",label:"Column 3",type:"text"}]}getTableRows(e){if(!this.tableData[e.name]){let t=this.form.get(e.name)?.value;if(t&&typeof t=="string")try{this.tableData[e.name]=JSON.parse(t)}catch{this.tableData[e.name]=[]}else Array.isArray(t)?this.tableData[e.name]=t:this.tableData[e.name]=[]}return this.tableData[e.name]}addTableRow(e){if(this.isFieldReadonly(e))return;this.tableData[e.name]||(this.tableData[e.name]=[]);let t=this.getTableColumns(e),i={};t.forEach(s=>{i[s.name]=""}),this.tableData[e.name].push(i),this.updateTableValue(e)}removeTableRow(e,t){this.isFieldReadonly(e)||this.tableData[e.name]&&(this.tableData[e.name].splice(t,1),this.updateTableValue(e))}onTableCellChange(e,t,i,s){if(this.isFieldReadonly(t))return;let p=e.target;this.tableData[t.name]&&this.tableData[t.name][i]&&(this.tableData[t.name][i][s]=p.value,this.updateTableValue(t))}updateTableValue(e){let t=JSON.stringify(this.tableData[e.name]||[]);this.form.get(e.name)?.setValue(t),this.form.get(e.name)?.markAsTouched()}static \u0275fac=function(t){return new(t||n)(H(ke),H(st),H(ct),H(We),H(xe),H(fe),H(Ze),H(Ce))};static \u0275cmp=pe({type:n,selectors:[["app-workflow-form"]],decls:12,vars:3,consts:[["picker",""],["auto","matAutocomplete"],["imageInput",""],["groupPicker",""],["autoGroup","matAutocomplete"],["imageInputGroup",""],["fileInput",""],[1,"workflow-form-container"],[1,"header"],["mat-icon-button","",3,"click"],[1,"subtitle"],[1,"loading"],[3,"formGroup"],["diameter","40"],[3,"ngSubmit","formGroup"],[1,"form-card"],[1,"form-card","group-card"],[1,"form-actions"],[1,"form-actions","multi-step"],[1,"step-indicator"],[1,"screen-header"],[1,"step",3,"click"],[1,"step-circle"],[1,"step-label"],[1,"step-connector",3,"completed"],[1,"step-connector"],[1,"fields-grid"],[1,"field-wrapper",3,"grid-column"],[1,"field-wrapper"],[1,"field-container"],[1,"radio-field",3,"has-error"],[1,"field-container","checkbox-group-field",3,"has-error"],[1,"file-field",3,"has-error"],["type","hidden",3,"formControlName"],[1,"label-field"],[1,"divider-field"],[1,"toggle-field"],[1,"yes-no-field",3,"has-error"],[1,"rating-field",3,"has-error"],[1,"slider-field",3,"has-error"],[1,"color-field",3,"has-error"],[1,"image-field",3,"has-error"],[1,"signature-field",3,"has-error"],[1,"rich-text-field",3,"has-error"],[1,"icon-field",3,"has-error"],[1,"barcode-field",3,"has-error"],[1,"location-field",3,"has-error"],[1,"table-field",3,"has-error"],["appearance","outline",1,"full-width"],[1,"required-asterisk"],["matInput","",3,"formControlName","placeholder","readonly"],[1,"validation-error"],["matInput","","rows","4",3,"formControlName","placeholder","readonly"],["matInput","","type","number",3,"formControlName","placeholder","readonly"],["matPrefix",""],["matInput","","type","email",3,"formControlName","placeholder","readonly"],["matInput","","type","tel",3,"formControlName","placeholder","readonly"],["matInput","","type","password",3,"formControlName","placeholder","readonly"],["matInput","",3,"matDatepicker","formControlName","readonly"],["matIconSuffix","",3,"for","disabled"],[3,"disabled"],["matInput","","type","datetime-local",3,"formControlName","readonly"],[3,"formControlName","placeholder","disabled"],[3,"value"],["multiple","",3,"formControlName","placeholder","disabled"],[1,"radio-field"],[1,"field-label"],[3,"formControlName","disabled"],[3,"value","disabled"],[1,"field-container","checkbox-group-field"],[1,"checkbox-options"],[3,"checked","disabled"],[3,"change","checked","disabled"],[1,"file-field"],["type","file",3,"change","multiple","disabled"],[1,"file-list"],["matInput","","type","url",3,"formControlName","placeholder","readonly"],["matInput","",3,"input","formControlName","matAutocomplete","placeholder","readonly"],[3,"optionSelected","displayWith"],["disabled",""],[1,"user-option"],[1,"user-info"],[1,"user-name"],[1,"user-email"],[1,"label-text"],[1,"label-description"],[1,"divider-label"],[1,"yes-no-field"],["value","yes"],["value","no"],[1,"rating-field"],[1,"star-rating"],[3,"filled","readonly"],[3,"click"],["matInput","","type","time",3,"formControlName","readonly"],[1,"slider-field"],[3,"min","max","step","discrete","disabled"],["matSliderThumb","",3,"formControlName"],[1,"color-field"],["type","color",1,"color-input",3,"formControlName","disabled"],[1,"image-field"],[1,"image-upload-area"],["type","file","accept","image/*","hidden","",3,"change"],["mat-stroked-button","","type","button",3,"click","disabled"],[1,"image-preview",3,"src"],[1,"signature-field"],[1,"signature-pad-container"],[1,"signature-canvas",3,"mousedown","mousemove","mouseup","mouseleave","touchstart","touchmove","touchend"],[1,"signature-actions"],["mat-icon-button","","type","button","matTooltip","Clear signature",3,"click","disabled"],[1,"rich-text-field"],[1,"rich-text-editor"],[1,"rich-text-toolbar"],["mat-icon-button","","type","button","matTooltip","Bold",3,"click","disabled"],["mat-icon-button","","type","button","matTooltip","Italic",3,"click","disabled"],["mat-icon-button","","type","button","matTooltip","Underline",3,"click","disabled"],[1,"toolbar-divider"],["mat-icon-button","","type","button","matTooltip","Bullet list",3,"click","disabled"],["mat-icon-button","","type","button","matTooltip","Numbered list",3,"click","disabled"],["contenteditable","true",1,"rich-text-content",3,"input","blur","innerHTML"],[1,"icon-field"],[1,"icon-picker"],[1,"selected-icon",3,"click"],[1,"dropdown-arrow"],[1,"icon-picker-dropdown"],["type","text","placeholder","Search icons...",1,"icon-search",3,"input","value"],[1,"icon-grid"],[1,"icon-option",3,"selected"],[1,"icon-option",3,"click"],[1,"barcode-field"],[1,"barcode-input"],["matInput","","placeholder","Enter or scan barcode...",3,"formControlName","readonly"],["mat-icon-button","","matSuffix","","type","button","matTooltip","Scan barcode",3,"click","disabled"],[1,"location-field"],[1,"location-input"],[1,"location-coords"],["appearance","outline",1,"coord-field"],["matInput","","type","number","step","any",3,"input","value","readonly"],["mat-icon-button","","type","button","matTooltip","Get current location",3,"click","disabled"],[1,"spinning"],[1,"location-preview"],[1,"table-field"],[1,"table-input"],[1,"data-table"],[1,"actions-col"],["mat-stroked-button","","type","button",1,"add-row-btn",3,"click","disabled"],["mat-icon-button","","type","button","matTooltip","Remove row",3,"click","disabled"],["type","text",1,"table-cell-input",3,"input","value","readonly"],[1,"empty-table"],[1,"checkbox-group-field",3,"has-error"],[1,"checkbox-group-field"],[1,"checkbox-group"],[3,"expanded","hideToggle"],["matInput","","rows","4",3,"formControlName","readonly"],["matInput","","type","number",3,"formControlName","readonly"],["multiple","",3,"formControlName","disabled"],["matTextPrefix",""],["matInput","","type","number","step","0.01",3,"formControlName","readonly"],["matInput","","type","email",3,"formControlName","readonly"],["matInput","","type","tel",3,"formControlName","readonly"],["matInput","","type","password",3,"formControlName","readonly"],["matInput","","type","url",3,"formControlName","readonly"],["matInput","",3,"formControlName","readonly"],[1,"attachment-area"],["type","file","multiple","","hidden","",3,"change"],["mat-stroked-button","","type","button",3,"click"],[1,"attachment-list"],[1,"attachment-item"],[1,"size"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["diameter","20"],[1,"spacer"],["mat-raised-button","","color","primary","type","button",3,"click"]],template:function(t,i){t&1&&(_(0,"div",7)(1,"div",8)(2,"button",9),b("click",function(){return i.goBack()}),_(3,"mat-icon"),d(4,"arrow_back"),r()(),_(5,"div")(6,"h1"),d(7),r(),_(8,"p",10),d(9),r()()(),u(10,Rt,4,0,"div",11)(11,ml,8,5,"form",12),r()),t&2&&(o(7),g(i.workflow==null?null:i.workflow.name),o(2),g(i.isEditMode?"Edit Submission":"New Submission"),o(),C(i.loading?10:i.workflow?11:-1))},dependencies:[ue,Oe,we,Ee,Te,ve,Se,Me,be,ge,Le,Ae,$e,Ue,Ve,Ne,Ye,He,Be,qe,Ge,Je,ze,Qe,Ke,he,ht,ft,xt,gt,Fe,pt,mt,Tt,St,wt,De,Re,Ie,Pe,ye,lt,it,ot,rt,at,et,je,Xe,dt,_t,vt,Ft,Et,nt,tt,ut,Ct,kt,Mt,bt,Pt,Ot,yt],styles:[".workflow-form-container[_ngcontent-%COMP%]{padding:1rem;max-width:1000px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.subtitle[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#666}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;color:#666}.form-card[_ngcontent-%COMP%]{margin-bottom:1rem}.group-card[_ngcontent-%COMP%]{padding:0}.group-card[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.group-card[_ngcontent-%COMP%]     .mat-expansion-panel-header{background:var(--form-field-header-bg, #1976d2)!important;color:var(--form-field-header-color, #ffffff)!important}.group-card[_ngcontent-%COMP%]     .mat-expansion-panel-header:hover{background:var(--form-field-header-bg, #1976d2)!important}.group-card[_ngcontent-%COMP%]     .mat-expansion-panel-header .mat-expansion-indicator:after{color:var(--form-field-header-color, #ffffff)!important}.group-card[_ngcontent-%COMP%]     .mat-expansion-panel-header .mat-content{color:var(--form-field-header-color, #ffffff)!important}.group-card[_ngcontent-%COMP%]     .mat-expansion-panel-header-title, .group-card[_ngcontent-%COMP%]     .mat-expansion-panel-header-description{color:var(--form-field-header-color, #ffffff)!important}.fields-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;padding:1rem 0}.field-wrapper[_ngcontent-%COMP%]{min-width:0}.full-width[_ngcontent-%COMP%]{width:100%}.field-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:.875rem;color:#0009}.required[_ngcontent-%COMP%]{color:#f44336}.required-asterisk[_ngcontent-%COMP%]{color:#f44336;font-weight:700;margin-left:2px}.has-error[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .3s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-2px)}75%{transform:translate(2px)}}.field-error[_ngcontent-%COMP%]{color:#f44336;font-size:.75rem;margin-top:4px}.field-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.validation-error[_ngcontent-%COMP%]{color:#f44336;font-size:.75rem;margin-top:-16px;padding-left:14px;line-height:1.2}.field-invalid[_ngcontent-%COMP%]     .mdc-notched-outline__leading, .field-invalid[_ngcontent-%COMP%]     .mdc-notched-outline__notch, .field-invalid[_ngcontent-%COMP%]     .mdc-notched-outline__trailing{border-color:#f44336!important}.field-invalid[_ngcontent-%COMP%]     .mat-mdc-floating-label{color:#f44336!important}.radio-field[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.radio-field[_ngcontent-%COMP%]   mat-radio-group.horizontal-layout[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;gap:1rem}.file-field[_ngcontent-%COMP%], .checkbox-group-field[_ngcontent-%COMP%]{padding:.5rem 0}.checkbox-group-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:block;font-weight:500;margin-bottom:.5rem;color:#000000de}.checkbox-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.checkbox-options.horizontal-layout[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;gap:1rem}.label-field[_ngcontent-%COMP%]{padding:1rem 0}.label-field[_ngcontent-%COMP%]   .label-text[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;margin:0;color:#000000de}.label-field[_ngcontent-%COMP%]   .label-description[_ngcontent-%COMP%]{font-size:.875rem;color:#666;margin:.25rem 0 0}.divider-field[_ngcontent-%COMP%]{padding:1rem 0;position:relative}.divider-field[_ngcontent-%COMP%]   .divider-label[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);background:#fff;padding:0 1rem;color:#666;font-size:.875rem}.toggle-field[_ngcontent-%COMP%], .yes-no-field[_ngcontent-%COMP%]{padding:.5rem 0}.yes-no-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}.rating-field[_ngcontent-%COMP%]{padding:.5rem 0}.star-rating[_ngcontent-%COMP%]{display:flex;gap:.25rem}.star-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer;color:#ffc107;font-size:28px;width:28px;height:28px;transition:transform .1s ease}.star-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover:not(.readonly){transform:scale(1.1)}.star-rating[_ngcontent-%COMP%]   mat-icon.readonly[_ngcontent-%COMP%]{cursor:default}.star-rating[_ngcontent-%COMP%]   mat-icon.filled[_ngcontent-%COMP%]{color:#ffc107}.slider-field[_ngcontent-%COMP%]{padding:.5rem 0}.slider-field[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{width:100%}.color-field[_ngcontent-%COMP%]{padding:.5rem 0}.color-field[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%]{width:60px;height:40px;border:1px solid #ccc;border-radius:4px;cursor:pointer;padding:4px}.image-field[_ngcontent-%COMP%]{padding:.5rem 0}.image-upload-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:.5rem}.image-preview[_ngcontent-%COMP%]{max-width:200px;max-height:150px;margin-top:.5rem;border-radius:4px;border:1px solid #ddd}.signature-field[_ngcontent-%COMP%], .rich-text-field[_ngcontent-%COMP%], .icon-field[_ngcontent-%COMP%], .barcode-field[_ngcontent-%COMP%], .location-field[_ngcontent-%COMP%], .table-field[_ngcontent-%COMP%]{padding:.5rem 0}.signature-pad-container[_ngcontent-%COMP%]{position:relative;border:1px solid #ddd;border-radius:4px;background:#fff}.signature-canvas[_ngcontent-%COMP%]{width:100%;height:150px;cursor:crosshair;display:block;touch-action:none}.signature-actions[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px}.signature-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#ffffffe6}.rich-text-editor[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;overflow:hidden}.rich-text-toolbar[_ngcontent-%COMP%]{display:flex;gap:.25rem;padding:.5rem;background:#f5f5f5;border-bottom:1px solid #ddd;flex-wrap:wrap}.rich-text-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:36px;width:36px;height:36px}.toolbar-divider[_ngcontent-%COMP%]{width:1px;background:#ddd;margin:0 .25rem}.rich-text-content[_ngcontent-%COMP%]{min-height:120px;padding:.75rem;outline:none;font-size:.875rem;line-height:1.5}.rich-text-content[_ngcontent-%COMP%]:focus{background:#fafafa}.rich-text-content[contenteditable=false][_ngcontent-%COMP%]{background:#f5f5f5;cursor:not-allowed}.icon-selector[_ngcontent-%COMP%]{position:relative}.selected-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:60px;height:60px;border:2px solid #ddd;border-radius:8px;cursor:pointer;transition:all .2s;background:#fff}.selected-icon[_ngcontent-%COMP%]:hover:not(.disabled){border-color:#1976d2;background:#e3f2fd}.selected-icon.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.6}.selected-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:#333}.icon-picker-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;z-index:1000;background:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 12px #00000026;padding:.75rem;width:320px;max-height:350px;overflow:hidden;display:flex;flex-direction:column}.icon-search[_ngcontent-%COMP%]{margin-bottom:.5rem}.icon-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ddd;border-radius:4px;font-size:.875rem}.icon-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(8,1fr);gap:.25rem;overflow-y:auto;max-height:250px;padding:.25rem}.icon-option[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:4px;cursor:pointer;transition:all .15s}.icon-option[_ngcontent-%COMP%]:hover{background:#e3f2fd}.icon-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#666}.icon-option[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{color:#1976d2}.barcode-input[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:flex-start}.barcode-input[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.location-inputs[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:flex-start}.location-inputs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.location-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.5rem}.location-display[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.75rem;color:#666}.table-container[_ngcontent-%COMP%]{overflow-x:auto;border:1px solid #ddd;border-radius:4px}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f5f5f5;padding:.5rem;text-align:left;font-weight:500;font-size:.875rem;border-bottom:1px solid #ddd}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.25rem;border-bottom:1px solid #eee}.data-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid transparent;border-radius:4px;font-size:.875rem}.data-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#1976d2;outline:none}.data-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background:#f5f5f5;cursor:not-allowed}.data-table[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]{width:50px;text-align:center}.data-table[_ngcontent-%COMP%]   .empty-table[_ngcontent-%COMP%]{text-align:center;padding:1rem;color:#999;font-style:italic}.table-actions[_ngcontent-%COMP%]{margin-top:.5rem}.file-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}.attachment-area[_ngcontent-%COMP%]{padding:1rem;border:2px dashed #ddd;border-radius:4px;text-align:center}.attachment-list[_ngcontent-%COMP%]{margin-top:1rem;text-align:left}.attachment-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#f5f5f5;border-radius:4px;margin-bottom:.5rem}.attachment-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.attachment-item[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{flex:0;color:#666;font-size:.75rem}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:1rem}.form-actions.multi-step[_ngcontent-%COMP%]{justify-content:flex-start}.form-actions[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}.step-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.75rem .5rem;margin-bottom:.5rem;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}.step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;cursor:pointer;min-width:60px}.step-circle[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#e0e0e0;color:#666;font-size:.875rem;font-weight:500;font-size:1rem;transition:all .3s ease}.step.active[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{background:#1976d2;color:#fff;box-shadow:0 2px 8px #1976d266}.step.completed[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.step.completed[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.step-label[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.7rem;color:#666;text-align:center;max-width:80px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.step.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:#1976d2;font-weight:500}.step.completed[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:#4caf50}.step-connector[_ngcontent-%COMP%]{flex:1;height:2px;background:#e0e0e0;margin:0 .25rem .75rem;max-width:80px;transition:background .3s ease}.step-connector.completed[_ngcontent-%COMP%]{background:#4caf50}.screen-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;padding:.5rem .75rem;margin-bottom:.5rem;background:#f5f5f5;border-radius:6px;border-left:3px solid #1976d2}.screen-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;font-size:1.25rem;width:1.25rem;height:1.25rem;margin-top:.125rem}.screen-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:500;color:#333}.screen-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.125rem 0 0;font-size:.8rem;color:#666}.user-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.25rem 0}.user-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666}.user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.user-name[_ngcontent-%COMP%]{font-weight:500;font-size:.9rem}.user-email[_ngcontent-%COMP%]{font-size:.75rem;color:#666}.dark-mode[_nghost-%COMP%]   .workflow-form-container[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .workflow-form-container[_ngcontent-%COMP%]{background:#1e1e1e;color:#e0e0e0}.dark-mode[_nghost-%COMP%]   .form-card[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .form-card[_ngcontent-%COMP%]{background:#2d2d2d!important}.dark-mode[_nghost-%COMP%]   .form-header[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .form-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1565c0,#0d47a1)}.dark-mode[_nghost-%COMP%]   .workflow-title[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .workflow-title[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   h3[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   h3[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .field-label[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .field-label[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .group-title[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .group-title[_ngcontent-%COMP%]{color:#e0e0e0!important}.dark-mode[_nghost-%COMP%]   .workflow-description[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .workflow-description[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .field-hint[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .field-hint[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .group-description[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .group-description[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .screen-description[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-description[_ngcontent-%COMP%]{color:#aaa!important}.dark-mode[_nghost-%COMP%]   .required-indicator[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .required-indicator[_ngcontent-%COMP%]{color:#ff6b6b}.dark-mode[_nghost-%COMP%]   .field-group[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .field-group[_ngcontent-%COMP%]{background:#333;border-color:#444}.dark-mode[_nghost-%COMP%]   .group-header[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .group-header[_ngcontent-%COMP%]{background:#3d3d3d;border-color:#444}.dark-mode[_nghost-%COMP%]   .divider-field[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .divider-field[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .label-field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .label-field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]   .file-upload-area[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .file-upload-area[_ngcontent-%COMP%]{border-color:#444;background:#2d2d2d}.dark-mode[_nghost-%COMP%]   .file-upload-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .file-upload-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]   .file-list[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .file-list[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .file-item[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .file-item[_ngcontent-%COMP%]{background:#333;border-color:#444;color:#e0e0e0}.dark-mode[_nghost-%COMP%]   .star-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .star-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffc107}.dark-mode[_nghost-%COMP%]   .slider-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .slider-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#e0e0e0}.dark-mode[_nghost-%COMP%]   .color-preview[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .color-preview[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .signature-pad[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .signature-pad[_ngcontent-%COMP%]{border-color:#444;background:#2d2d2d}.dark-mode[_nghost-%COMP%]   .signature-pad[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .signature-pad[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888}.dark-mode[_nghost-%COMP%]   .image-preview-area[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .image-preview-area[_ngcontent-%COMP%]{border-color:#444;background:#2d2d2d}.dark-mode[_nghost-%COMP%]   .image-preview-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .image-preview-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888}.dark-mode[_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#333;border-color:#444;color:#e0e0e0}.dark-mode[_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .icon-display[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .icon-display[_ngcontent-%COMP%]{border-color:#444;background:#2d2d2d}.dark-mode[_nghost-%COMP%]   .icon-name[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .icon-name[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]   .screen-tabs[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-tabs[_ngcontent-%COMP%]{background:#2d2d2d}.dark-mode[_nghost-%COMP%]   .screen-tab[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-tab[_ngcontent-%COMP%]{background:#333;border-color:#444;color:#aaa}.dark-mode[_nghost-%COMP%]   .screen-tab.active[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-tab.active[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border-color:#1976d2}.dark-mode[_nghost-%COMP%]   .screen-tab.completed[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-tab.completed[_ngcontent-%COMP%]{background:#2e7d32;color:#fff}.dark-mode[_nghost-%COMP%]   .screen-navigation[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-navigation[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .screen-counter[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-counter[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]   .attachments-section[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .attachments-section[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .attachments-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .attachments-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#e0e0e0}.dark-mode[_nghost-%COMP%]   .comments-section[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .comments-section[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .user-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .user-option[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]   .user-email[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .user-email[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]     .mat-mdc-form-field, .dark-mode   [_nghost-%COMP%]     .mat-mdc-form-field{color:#e0e0e0}.dark-mode[_nghost-%COMP%]     .mat-mdc-floating-label, .dark-mode   [_nghost-%COMP%]     .mat-mdc-floating-label{color:#aaa!important}.dark-mode[_nghost-%COMP%]     .mat-mdc-input-element, .dark-mode   [_nghost-%COMP%]     .mat-mdc-input-element{color:#e0e0e0!important}.dark-mode[_nghost-%COMP%]     .mat-mdc-select-value, .dark-mode   [_nghost-%COMP%]     .mat-mdc-select-value{color:#e0e0e0!important}.dark-mode[_nghost-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline__leading, .dark-mode   [_nghost-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline__leading, .dark-mode[_nghost-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline__notch, .dark-mode   [_nghost-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline__notch, .dark-mode[_nghost-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline__trailing, .dark-mode   [_nghost-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline__trailing{border-color:#555!important}.dark-mode[_nghost-%COMP%]     .mat-mdc-form-field-hint, .dark-mode   [_nghost-%COMP%]     .mat-mdc-form-field-hint{color:#888!important}.dark-mode[_nghost-%COMP%]     .mat-expansion-panel, .dark-mode   [_nghost-%COMP%]     .mat-expansion-panel{background:#2d2d2d!important}.dark-mode[_nghost-%COMP%]     .mat-expansion-panel-header-title, .dark-mode   [_nghost-%COMP%]     .mat-expansion-panel-header-title{color:#e0e0e0!important}.dark-mode[_nghost-%COMP%]     .mat-mdc-radio-button .mdc-label, .dark-mode   [_nghost-%COMP%]     .mat-mdc-radio-button .mdc-label{color:#e0e0e0}.dark-mode[_nghost-%COMP%]     .mat-mdc-checkbox .mdc-label, .dark-mode   [_nghost-%COMP%]     .mat-mdc-checkbox .mdc-label{color:#e0e0e0}.dark-mode[_nghost-%COMP%]     .mat-mdc-slide-toggle .mdc-label, .dark-mode   [_nghost-%COMP%]     .mat-mdc-slide-toggle .mdc-label{color:#e0e0e0}.dark-mode[_nghost-%COMP%]     .mat-button-toggle-group, .dark-mode   [_nghost-%COMP%]     .mat-button-toggle-group{border-color:#444}.dark-mode[_nghost-%COMP%]     .mat-button-toggle, .dark-mode   [_nghost-%COMP%]     .mat-button-toggle{color:#e0e0e0;background:#2d2d2d}.dark-mode[_nghost-%COMP%]     .mat-button-toggle-checked, .dark-mode   [_nghost-%COMP%]     .mat-button-toggle-checked{background:#1976d2;color:#fff}.dark-mode[_nghost-%COMP%]     .mat-mdc-card, .dark-mode   [_nghost-%COMP%]     .mat-mdc-card{background:#2d2d2d!important;color:#e0e0e0}"]})}return n})();export{l_ as WorkflowFormComponent};
