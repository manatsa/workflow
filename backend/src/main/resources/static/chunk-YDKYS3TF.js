import{a as Qn,b as Yn,c as Xn,d as Kn,e as Jn,f as Zn,g as ei,h as ti,i as ni}from"./chunk-QFPR6THL.js";import{a as qn,b as jn,c as $n}from"./chunk-ZMVFBH4E.js";import{a as Nn,b as An,c as Ln,d as Bn}from"./chunk-MSROSKVG.js";import{a as nt,b as Vn,c as Un,d as Gn,e as zn,f as Hn}from"./chunk-E7Q73I3P.js";import{a as Wn,b as Dn}from"./chunk-6OSA477V.js";import{a as Rn}from"./chunk-WXX6UXQ6.js";import{a as et,b as tt}from"./chunk-67L4UISH.js";import{b as Tn,c as In,d as Fn}from"./chunk-YNJRABZA.js";import"./chunk-F5X5MWHG.js";import{a as En,b as kn}from"./chunk-26MIDNQT.js";import{a as On}from"./chunk-KHA6H2VC.js";import{c as on}from"./chunk-EC7BDYIR.js";import"./chunk-J43BGVIN.js";import"./chunk-MS4AQ6UA.js";import{a as qe,b as je}from"./chunk-DCGWK6OW.js";import{d as we}from"./chunk-WNUHNPS4.js";import{a as Qe,b as Ye,c as Xe,d as Ke,e as Mn,f as Je}from"./chunk-3QZG32TM.js";import{a as Sn,c as Ze}from"./chunk-INV3KQYA.js";import{a as hn,b as vn,c as yn,f as wn,g as bn,h as $e}from"./chunk-ZLEDUOR5.js";import{b as Cn,c as xn}from"./chunk-C5XODKZL.js";import{b as fn,e as un,f as gn}from"./chunk-LU6VCXUA.js";import"./chunk-AGZT6V36.js";import{b as Le,c as pn,d as Be,e as _n,f as Ve,i as Ue,j as Ge,l as ze,m as He}from"./chunk-ZS434AQM.js";import{b as ye,d as be,f as fe,g as an,i as Me,j as Se,m as rn,n as Pe,o as Oe,q as Ee,r as ke,s as ln,t as dn,u as Te,v as sn,w as Ie}from"./chunk-M3VCE5SG.js";import{a as De,b as cn,c as Ne,f as mn,h as Ae}from"./chunk-BTSRKJZZ.js";import{a as Pn}from"./chunk-2UBRB5ZZ.js";import"./chunk-MNRHFUYD.js";import"./chunk-UF7Y5AYJ.js";import"./chunk-PMYQJTBZ.js";import{a as Vt,c as Ut,d as Gt,g as zt}from"./chunk-M6HZK7Y7.js";import{Aa as We,C as Ht,F as qt,K as jt,M as $t,N as Qt,X as Yt,Y as Xt,_ as Kt,ea as Jt,fa as Zt,ga as pt,ha as en,i as Lt,j as _e,o as Bt,q as ve,sa as tn,ta as nn,va as oe,wa as ae,xa as Fe,ya as Re}from"./chunk-37H25STD.js";import{$b as ce,Aa as Ce,Cb as Ft,Cc as ne,Da as re,Db as ee,Eb as _,Fa as Et,Fb as X,Fc as ie,Ga as le,Gb as S,Gc as At,Hb as st,Ib as Rt,Jb as m,Kb as Wt,La as kt,Lb as z,Mb as v,Nb as y,Ob as a,Pb as o,Qb as E,Tb as A,Ub as P,V as Y,W as wt,X as B,Yb as h,Zb as c,_b as se,a as R,aa as bt,ac as U,b as W,ba as ge,bc as me,cc as D,d as ht,da as Mt,dc as N,eb as r,ga as T,gb as Z,gc as L,ha as St,hc as l,i as K,ia as Pt,ib as Tt,ic as g,jb as I,jc as x,kc as j,lb as It,lc as w,mc as b,na as Ot,nc as M,o as vt,oa as f,pa as u,pc as ct,qb as V,qc as te,rb as xe,rc as pe,s as yt,sa as dt,sb as q,sc as mt,tc as Dt,ub as de,uc as Nt,wb as p,xc as he,za as J}from"./chunk-UYCZSUYP.js";var mi=["*"];function pi(t,d){t&1&&ce(0)}var ft=(()=>{class t{_elementRef=T(re);constructor(){}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=q({type:t,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]})}return t})(),ut=(()=>{class t{template=T(Z);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=q({type:t,selectors:[["","cdkStepLabel",""]]})}return t})();var H={NUMBER:"number",EDIT:"edit",DONE:"done",ERROR:"error"},_i=new Mt("STEPPER_GLOBAL_OPTIONS"),it=(()=>{class t{_stepperOptions;_stepper=T(ot);_displayDefaultIndicatorType;stepLabel;_childForms;content;stepControl;interacted=!1;interactedStream=new J;label;errorMessage;ariaLabel;ariaLabelledby;state;editable=!0;optional=!1;get completed(){return this._completedOverride==null?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=e}_completedOverride=null;_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError==null?this._getDefaultError():this._customError}set hasError(e){this._customError=e}_customError=null;_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(){let e=T(_i,{optional:!0});this._stepperOptions=e||{},this._displayDefaultIndicatorType=this._stepperOptions.displayDefaultIndicatorType!==!1}select(){this._stepper.selected=this}reset(){this.interacted=!1,this._completedOverride!=null&&(this._completedOverride=!1),this._customError!=null&&(this._customError=!1),this.stepControl&&(this._childForms?.forEach(e=>e.resetForm?.()),this.stepControl.reset())}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??this._customError!=null}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=V({type:t,selectors:[["cdk-step"]],contentQueries:function(n,i,s){if(n&1&&(U(s,ut,5),U(s,an,5)),n&2){let C;D(C=N())&&(i.stepLabel=C.first),D(C=N())&&(i._childForms=C)}},viewQuery:function(n,i){if(n&1&&me(Z,7),n&2){let s;D(s=N())&&(i.content=s.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],state:"state",editable:[2,"editable","editable",ie],optional:[2,"optional","optional",ie],completed:[2,"completed","completed",ie],hasError:[2,"hasError","hasError",ie]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[Ot],ngContentSelectors:mi,decls:1,vars:0,template:function(n,i){n&1&&(se(),p(0,pi,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return t})(),ot=(()=>{class t{_dir=T(Jt,{optional:!0});_changeDetectorRef=T(ne);_elementRef=T(re);_destroyed=new K;_keyManager;_steps;steps=new le;_stepHeader;_sortedHeaders=new le;linear=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._steps?(this._isValidIndex(e),this._selectedIndex!==e&&(this.selected?._markAsInteracted(),!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(e))):this._selectedIndex=e}_selectedIndex=0;get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}selectionChange=new J;selectedIndexChange=new J;_groupId=T(Yt).getId("cdk-stepper-");get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation(e==="vertical")}_orientation="horizontal";constructor(){}ngAfterContentInit(){this._steps.changes.pipe(Y(this._steps),B(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(n=>n._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){if(this._stepHeader.changes.pipe(Y(this._stepHeader),B(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((n,i)=>n._elementRef.nativeElement.compareDocumentPosition(i._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new Kt(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation==="vertical"),this._keyManager.updateActiveItem(this.selectedIndex),(this._dir?this._dir.change:vt()).pipe(Y(this._layoutDirection()),B(this._destroyed)).subscribe(e=>this._keyManager?.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0),this.linear&&this._selectedIndex>0){let e=this.steps.toArray().slice(0,this._selectedIndex);for(let n of e)n._markAsInteracted()}}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`${this._groupId}-label-${e}`}_getStepContentId(e){return`${this._groupId}-content-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){let n=e-this._selectedIndex;return n<0?this._layoutDirection()==="rtl"?"next":"previous":n>0?this._layoutDirection()==="rtl"?"previous":"next":"current"}_getIndicatorType(e,n=H.NUMBER){let i=this.steps.toArray()[e],s=this._isCurrentStep(e);return i._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(i,s):this._getGuidelineLogic(i,s,n)}_getDefaultIndicatorLogic(e,n){return e._showError()&&e.hasError&&!n?H.ERROR:!e.completed||n?H.NUMBER:e.editable?H.EDIT:H.DONE}_getGuidelineLogic(e,n,i=H.NUMBER){return e._showError()&&e.hasError&&!n?H.ERROR:e.completed&&!n?H.DONE:e.completed&&n?i:e.editable&&n?H.EDIT:i}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){let n=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:n[e],previouslySelectedStep:n[this._selectedIndex]}),this._keyManager&&(this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e)),this._selectedIndex=e,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(e){let n=Xt(e),i=e.keyCode,s=this._keyManager;s?.activeItemIndex!=null&&!n&&(i===32||i===13)?(this.selectedIndex=s.activeItemIndex,e.preventDefault()):s?.setFocusOrigin("keyboard").onKeydown(e)}_anyControlsInvalidOrPending(e){return this.linear&&e>=0?this.steps.toArray().slice(0,e).some(n=>{let i=n.stepControl;return(i?i.invalid||i.pending||!n.interacted:!n.completed)&&!n.optional&&!n._completedOverride}):!1}_layoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_containsFocus(){let e=this._elementRef.nativeElement,n=Ht();return e===n||e.contains(n)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=q({type:t,selectors:[["","cdkStepper",""]],contentQueries:function(n,i,s){if(n&1&&(U(s,it,5),U(s,ft,5)),n&2){let C;D(C=N())&&(i._steps=C),D(C=N())&&(i._stepHeader=C)}},inputs:{linear:[2,"linear","linear",ie],selectedIndex:[2,"selectedIndex","selectedIndex",At],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"]})}return t})();var ii=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=xe({type:t});static \u0275inj=ge({imports:[Zt]})}return t})();function fi(t,d){if(t&1&&A(0,2),t&2){let e=c();_("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function ui(t,d){if(t&1&&(a(0,"span",7),l(1),o()),t&2){let e=c(2);r(),g(e._getDefaultTextForState(e.state))}}function gi(t,d){if(t&1&&(a(0,"span",8),l(1),o()),t&2){let e=c(3);r(),g(e._intl.completedLabel)}}function Ci(t,d){if(t&1&&(a(0,"span",8),l(1),o()),t&2){let e=c(3);r(),g(e._intl.editableLabel)}}function xi(t,d){if(t&1&&(p(0,gi,2,1,"span",8)(1,Ci,2,1,"span",8),a(2,"mat-icon",7),l(3),o()),t&2){let e=c(2);m(e.state==="done"?0:e.state==="edit"?1:-1),r(3),g(e._getDefaultTextForState(e.state))}}function hi(t,d){if(t&1&&p(0,ui,2,1,"span",7)(1,xi,4,2),t&2){let e,n=c();m((e=n.state)==="number"?0:1)}}function vi(t,d){t&1&&(a(0,"div",4),A(1,9),o()),t&2&&(r(),_("ngTemplateOutlet",d.template))}function yi(t,d){if(t&1&&(a(0,"div",4),l(1),o()),t&2){let e=c();r(),g(e.label)}}function wi(t,d){if(t&1&&(a(0,"div",5),l(1),o()),t&2){let e=c();r(),g(e._intl.optionalLabel)}}function bi(t,d){if(t&1&&(a(0,"div",6),l(1),o()),t&2){let e=c();r(),g(e.errorMessage)}}var oi=["*"];function Mi(t,d){}function Si(t,d){if(t&1&&(ce(0),p(1,Mi,0,0,"ng-template",0)),t&2){let e=c();r(),_("cdkPortalOutlet",e._portal)}}var Pi=["animatedContainer"],ai=(t,d)=>({step:t,i:d});function Oi(t,d){t&1&&ce(0)}function Ei(t,d){t&1&&E(0,"div",7)}function ki(t,d){if(t&1&&(A(0,6),p(1,Ei,1,0,"div",7)),t&2){let e=d.$implicit,n=d.$index,i=d.$index,s=d.$count;c(2);let C=L(4);_("ngTemplateOutlet",C)("ngTemplateOutletContext",mt(3,ai,e,n)),r(),m(i!==s-1?1:-1)}}function Ti(t,d){if(t&1&&(a(0,"div",8,1),A(2,9),o()),t&2){let e=d.$implicit,n=d.$index,i=c(2);st("mat-horizontal-stepper-content-"+i._getAnimationDirection(n)),_("id",i._getStepContentId(n)),ee("aria-labelledby",i._getStepLabelId(n))("inert",i.selectedIndex===n?null:""),r(2),_("ngTemplateOutlet",e.content)}}function Ii(t,d){if(t&1&&(a(0,"div",2)(1,"div",3),v(2,ki,2,6,null,null,z),o(),a(4,"div",4),v(5,Ti,3,6,"div",5,z),o()()),t&2){let e=c();r(2),y(e.steps),r(3),y(e.steps)}}function Fi(t,d){if(t&1&&(a(0,"div",10),A(1,6),a(2,"div",11,1)(4,"div",12)(5,"div",13),A(6,9),o()()()()),t&2){let e=d.$implicit,n=d.$index,i=d.$index,s=d.$count,C=c(2),O=L(4);r(),_("ngTemplateOutlet",O)("ngTemplateOutletContext",mt(10,ai,e,n)),r(),S("mat-stepper-vertical-line",i!==s-1)("mat-vertical-content-container-active",C.selectedIndex===n),ee("inert",C.selectedIndex===n?null:""),r(2),_("id",C._getStepContentId(n)),ee("aria-labelledby",C._getStepLabelId(n)),r(2),_("ngTemplateOutlet",e.content)}}function Ri(t,d){if(t&1&&v(0,Fi,7,13,"div",10,z),t&2){let e=c();y(e.steps)}}function Wi(t,d){if(t&1){let e=P();a(0,"mat-step-header",14),h("click",function(){let i=f(e).step;return u(i.select())})("keydown",function(i){f(e);let s=c();return u(s._onKeydown(i))}),o()}if(t&2){let e=d.step,n=d.i,i=c();S("mat-horizontal-stepper-header",i.orientation==="horizontal")("mat-vertical-stepper-header",i.orientation==="vertical"),_("tabIndex",i._getFocusIndex()===n?0:-1)("id",i._getStepLabelId(n))("index",n)("state",i._getIndicatorType(n,e.state))("label",e.stepLabel||e.label)("selected",i.selectedIndex===n)("active",i._stepIsNavigable(n,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",i._iconOverrides)("disableRipple",i.disableRipple||!i._stepIsNavigable(n,e))("color",e.color||i.color),ee("aria-posinset",n+1)("aria-setsize",i.steps.length)("aria-controls",i._getStepContentId(n))("aria-selected",i.selectedIndex==n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",i._stepIsNavigable(n,e)?null:!0)}}var gt=(()=>{class t extends ut{static \u0275fac=(()=>{let e;return function(i){return(e||(e=dt(t)))(i||t)}})();static \u0275dir=q({type:t,selectors:[["","matStepLabel",""]],features:[de]})}return t})(),at=(()=>{class t{changes=new K;optionalLabel="Optional";completedLabel="Completed";editableLabel="Editable";static \u0275fac=function(n){return new(n||t)};static \u0275prov=bt({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Di(t){return t||new at}var Ni={provide:at,deps:[[new St,new Pt,at]],useFactory:Di},Ct=(()=>{class t extends ft{_intl=T(at);_focusMonitor=T(jt);_intlSubscription;state;label;errorMessage;iconOverrides;index;selected;active;optional;disableRipple;color;constructor(){super();let e=T($t);e.load(en),e.load(Qt);let n=T(ne);this._intlSubscription=this._intl.changes.subscribe(()=>n.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,n){e?this._focusMonitor.focusVia(this._elementRef,e,n):this._elementRef.nativeElement.focus(n)}_stringLabel(){return this.label instanceof gt?null:this.label}_templateLabel(){return this.label instanceof gt?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return e=="number"?`${this.index+1}`:e=="edit"?"create":e=="error"?"warning":e}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=V({type:t,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(n,i){n&2&&st("mat-"+(i.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},features:[de],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(n,i){if(n&1&&(E(0,"div",0),a(1,"div")(2,"div",1),p(3,fi,1,2,"ng-container",2)(4,hi,2,1),o()(),a(5,"div",3),p(6,vi,2,1,"div",4)(7,yi,2,1,"div",4)(8,wi,2,1,"div",5)(9,bi,2,1,"div",6),o()),n&2){let s;_("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disableRipple),r(),Rt("mat-step-icon-state-",i.state," mat-step-icon"),S("mat-step-icon-selected",i.selected),r(2),m(i.iconOverrides&&i.iconOverrides[i.state]?3:4),r(2),S("mat-step-label-active",i.active)("mat-step-label-selected",i.selected)("mat-step-label-error",i.state=="error"),r(),m((s=i._templateLabel())?6:i._stringLabel()?7:-1,s),r(2),m(i.optional&&i.state!="error"?8:-1),r(),m(i.state==="error"?9:-1)}},dependencies:[tn,_e,oe],styles:[`.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-inverse-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent));border-radius:var(--mat-stepper-header-hover-state-layer-shape, var(--mat-sys-corner-medium))}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-inverse-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));border-radius:var(--mat-stepper-header-focus-state-layer-shape, var(--mat-sys-corner-medium))}@media(hover: none){.mat-step-header:hover{background:none}}@media(forced-colors: active){.mat-step-header{outline:solid 1px}.mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.mat-step-header[aria-disabled=true]{outline-color:GrayText}.mat-step-header[aria-disabled=true] .mat-step-label,.mat-step-header[aria-disabled=true] .mat-step-icon,.mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color, var(--mat-sys-surface));background-color:var(--mat-stepper-header-icon-background-color, var(--mat-sys-on-surface-variant))}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color, transparent);color:var(--mat-stepper-header-error-state-icon-foreground-color, var(--mat-sys-error))}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-stepper-header-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-stepper-header-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-stepper-header-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color, var(--mat-sys-on-surface-variant))}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color, var(--mat-sys-error));font-size:var(--mat-stepper-header-error-state-label-text-size, var(--mat-sys-title-small-size))}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-stepper-header-selected-state-label-text-weight, var(--mat-sys-title-small-weight))}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-selected-state-icon-foreground-color, var(--mat-sys-on-primary))}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color, var(--mat-sys-primary));color:var(--mat-stepper-header-edit-state-icon-foreground-color, var(--mat-sys-on-primary))}
`],encapsulation:2,changeDetection:0})}return t})(),Ai=(()=>{class t{templateRef=T(Z);name;constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=q({type:t,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[0,"matStepperIcon","name"]}})}return t})(),Li=(()=>{class t{_template=T(Z);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=q({type:t,selectors:[["ng-template","matStepContent",""]]})}return t})(),Bi=(()=>{class t extends it{_errorStateMatcher=T(ye,{skipSelf:!0});_viewContainerRef=T(It);_isSelected=ht.EMPTY;stepLabel=void 0;color;_lazyContent;_portal;ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(wt(()=>this._stepper.selectionChange.pipe(yt(e=>e.selectedStep===this),Y(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new fn(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,n){let i=this._errorStateMatcher.isErrorState(e,n),s=!!(e&&e.invalid&&this.interacted);return i||s}static \u0275fac=(()=>{let e;return function(i){return(e||(e=dt(t)))(i||t)}})();static \u0275cmp=V({type:t,selectors:[["mat-step"]],contentQueries:function(n,i,s){if(n&1&&(U(s,gt,5),U(s,Li,5)),n&2){let C;D(C=N())&&(i.stepLabel=C.first),D(C=N())&&(i._lazyContent=C.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],features:[ct([{provide:ye,useExisting:t},{provide:it,useExisting:t}]),de],ngContentSelectors:oi,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(n,i){n&1&&(se(),p(0,Si,2,1,"ng-template"))},dependencies:[un],encapsulation:2,changeDetection:0})}return t})(),Vi=(()=>{class t extends ot{_ngZone=T(Ce);_renderer=T(Tt);_animationsModule=T(kt,{optional:!0});_cleanupTransition;_isAnimating=Et(!1);_stepHeader=void 0;_animatedContainers;_steps=void 0;steps=new le;_icons;animationDone=new J;disableRipple;color;labelPosition="end";headerPosition="top";_iconOverrides={};get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}_animationDuration="";_isServer=!T(qt).isBrowser;constructor(){super();let n=T(re).nativeElement.nodeName.toLowerCase();this.orientation=n==="mat-vertical-stepper"?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:n})=>this._iconOverrides[e]=n),this.steps.changes.pipe(B(this._destroyed)).subscribe(()=>this._stateChanged()),this.selectedIndexChange.pipe(B(this._destroyed)).subscribe(()=>{let e=this._getAnimationDuration();e==="0ms"||e==="0s"?this._onAnimationDone():this._isAnimating.set(!0)}),this._ngZone.runOutsideAngular(()=>{this._animationsModule!=="NoopAnimations"&&setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-stepper-animations-enabled"),this._cleanupTransition=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionend)},200)})}ngAfterViewInit(){if(super.ngAfterViewInit(),typeof queueMicrotask=="function"){let e=!1;this._animatedContainers.changes.pipe(Y(null),B(this._destroyed)).subscribe(()=>queueMicrotask(()=>{e||(e=!0,this.animationDone.emit()),this._stateChanged()}))}}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransition?.()}_stepIsNavigable(e,n){return n.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this._animationsModule==="NoopAnimations"?"0ms":this.animationDuration?this.animationDuration:this.orientation==="horizontal"?"500ms":"225ms"}_handleTransitionend=e=>{let n=e.target;if(!n)return;let i=this.orientation==="horizontal"&&e.propertyName==="transform"&&n.classList.contains("mat-horizontal-stepper-content-current"),s=this.orientation==="vertical"&&e.propertyName==="grid-template-rows"&&n.classList.contains("mat-vertical-content-container-active");(i||s)&&this._animatedContainers.find(O=>O.nativeElement===n)&&this._onAnimationDone()};_onAnimationDone(){this._isAnimating.set(!1),this.animationDone.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=V({type:t,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(n,i,s){if(n&1&&(U(s,Bi,5),U(s,Ai,5)),n&2){let C;D(C=N())&&(i._steps=C),D(C=N())&&(i._icons=C)}},viewQuery:function(n,i){if(n&1&&(me(Ct,5),me(Pi,5)),n&2){let s;D(s=N())&&(i._stepHeader=s),D(s=N())&&(i._animatedContainers=s)}},hostAttrs:["role","tablist"],hostVars:15,hostBindings:function(n,i){n&2&&(ee("aria-orientation",i.orientation),X("--mat-stepper-animation-duration",i._getAnimationDuration()),S("mat-stepper-horizontal",i.orientation==="horizontal")("mat-stepper-vertical",i.orientation==="vertical")("mat-stepper-label-position-end",i.orientation==="horizontal"&&i.labelPosition=="end")("mat-stepper-label-position-bottom",i.orientation==="horizontal"&&i.labelPosition=="bottom")("mat-stepper-header-position-bottom",i.headerPosition==="bottom")("mat-stepper-animating",i._isAnimating()))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[ct([{provide:ot,useExisting:t}]),de],ngContentSelectors:oi,decls:5,vars:2,consts:[["stepTemplate",""],["animatedContainer",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","class"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(n,i){if(n&1&&(se(),p(0,Oi,1,0)(1,Ii,7,0,"div",2)(2,Ri,2,0)(3,Wi,1,23,"ng-template",null,0,he)),n&2){let s;m(i._isServer?0:-1),r(),m((s=i.orientation)==="horizontal"?1:s==="vertical"?2:-1)}},dependencies:[_e,Ct],styles:[`.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font, var(--mat-sys-body-medium-font));background:var(--mat-stepper-container-color, var(--mat-sys-surface))}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color, var(--mat-sys-outline))}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height, 72px)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color, var(--mat-sys-outline))}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height, 72px) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{visibility:hidden;overflow:hidden;outline:0;height:0}.mat-stepper-animations-enabled .mat-horizontal-stepper-content{transition:transform var(--mat-stepper-animation-duration, 0) cubic-bezier(0.35, 0, 0.25, 1)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-previous{transform:translate3d(-100%, 0, 0)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-next{transform:translate3d(100%, 0, 0)}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-current{visibility:visible;transform:none;height:auto}.mat-stepper-horizontal:not(.mat-stepper-animating) .mat-horizontal-stepper-content.mat-horizontal-stepper-content-current{overflow:visible}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}@media(forced-colors: active){.mat-horizontal-content-container{outline:solid 1px}}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{display:grid;grid-template-rows:0fr;grid-template-columns:100%;margin-left:36px;border:0;position:relative}.mat-stepper-animations-enabled .mat-vertical-content-container{transition:grid-template-rows var(--mat-stepper-animation-duration, 0) cubic-bezier(0.4, 0, 0.2, 1)}.mat-vertical-content-container.mat-vertical-content-container-active{grid-template-rows:1fr}.mat-step:last-child .mat-vertical-content-container{border:none}@media(forced-colors: active){.mat-vertical-content-container{outline:solid 1px}}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}@supports not (grid-template-rows: 0fr){.mat-vertical-content-container{height:0}.mat-vertical-content-container.mat-vertical-content-container-active{height:auto}}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color, var(--mat-sys-outline));top:calc(8px - calc((var(--mat-stepper-header-height, 72px) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height, 72px) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0;visibility:hidden}.mat-stepper-animations-enabled .mat-vertical-stepper-content{transition:visibility var(--mat-stepper-animation-duration, 0) linear}.mat-vertical-content-container-active>.mat-vertical-stepper-content{visibility:visible}.mat-vertical-content{padding:0 24px 24px 24px}
`],encapsulation:2,changeDetection:0})}return t})();var ri=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=xe({type:t});static \u0275inj=ge({providers:[Ni,ye],imports:[pt,gn,ii,ae,nn,Vi,Ct,pt]})}return t})();var rt=t=>({field:t}),ue=()=>[],xt=(t,d)=>d.id,lt=(t,d)=>d.name,$=(t,d)=>d.value;function Ji(t,d){t&1&&(a(0,"div",8)(1,"mat-icon"),l(2,"inbox"),o(),a(3,"p"),l(4,"No fields have been added to this workflow yet."),o(),a(5,"p",12),l(6,'Add fields in the "Form Fields" tab to see them here.'),o()())}function Zi(t,d){t&1&&(a(0,"mat-icon"),l(1,"check"),o())}function eo(t,d){if(t&1&&l(0),t&2){let e=c().$index;x(" ",e+1," ")}}function to(t,d){if(t&1&&E(0,"div",24),t&2){let e=c().$index,n=c(3);S("completed",e<n.currentScreenIndex)}}function no(t,d){if(t&1){let e=P();a(0,"div",20),h("click",function(){let i=f(e).$index,s=c(3);return u(s.goToScreen(i))}),a(1,"div",21),p(2,Zi,2,0,"mat-icon")(3,eo,1,1),o(),a(4,"span",22),l(5),o()(),p(6,to,1,2,"div",23)}if(t&2){let e=d.$implicit,n=d.$index,i=c(3);S("active",n===i.currentScreenIndex)("completed",n<i.currentScreenIndex),r(2),m(n<i.currentScreenIndex?2:3),r(3),g(e.title||"Step "+(n+1)),r(),m(n<i.sortedScreens.length-1?6:-1)}}function io(t,d){if(t&1&&(a(0,"p",26),l(1),o()),t&2){let e=c(4);r(),g(e.currentScreen.description)}}function oo(t,d){if(t&1&&(a(0,"div",30),A(1,31),o()),t&2){let e=d.$implicit;c(5);let n=L(21);X("grid-column","span "+(e.columnSpan||2)),r(),_("ngTemplateOutlet",n)("ngTemplateOutletContext",pe(4,rt,e))}}function ao(t,d){if(t&1&&(a(0,"mat-card",27)(1,"mat-card-content")(2,"div",28),v(3,oo,2,6,"div",29,lt),o()()()),t&2){let e=c(4);r(3),y(e.getUngroupedFieldsOnScreen(e.currentScreen.id))}}function ro(t,d){if(t&1&&(a(0,"mat-panel-description"),l(1),o()),t&2){let e=c(2).$implicit;r(),g(e.description)}}function lo(t,d){if(t&1&&(a(0,"div",30),A(1,31),o()),t&2){let e=d.$implicit;c(6);let n=L(21);X("grid-column","span "+(e.columnSpan||2)),r(),_("ngTemplateOutlet",n)("ngTemplateOutletContext",pe(4,rt,e))}}function so(t,d){if(t&1){let e=P();a(0,"mat-card",32)(1,"mat-expansion-panel",33),h("opened",function(){f(e);let i=c().$implicit,s=c(4);return u(s.onPanelOpened(i.id))})("closed",function(){f(e);let i=c().$implicit,s=c(4);return u(s.onPanelClosed(i.id))}),a(2,"mat-expansion-panel-header",34)(3,"mat-panel-title"),l(4),o(),p(5,ro,2,1,"mat-panel-description"),o(),a(6,"div",28),v(7,lo,2,6,"div",29,lt),o()()()}if(t&2){let e=c().$implicit,n=c(4);r(),_("expanded",n.isPanelExpanded(e.id))("disabled",!e.collapsible),r(),_("collapsedHeight","48px")("expandedHeight","48px"),r(2),g(e.title||e.name),r(),m(e.description?5:-1),r(2),y(n.getFieldsInGroupOnScreen(e.id,n.currentScreen.id))}}function co(t,d){if(t&1&&p(0,so,9,6,"mat-card",32),t&2){let e=d.$implicit,n=c(4);m(n.getFieldsInGroupOnScreen(e.id,n.currentScreen.id).length>0?0:-1)}}function mo(t,d){if(t&1&&(a(0,"div",25)(1,"mat-icon"),l(2),o(),a(3,"div")(4,"h3"),l(5),o(),p(6,io,2,1,"p",26),o()(),p(7,ao,5,0,"mat-card",27),v(8,co,1,1,null,null,xt)),t&2){let e=c(3);r(2),g(e.currentScreen.icon||"view_carousel"),r(3),g(e.currentScreen.title||"Step "+(e.currentScreenIndex+1)),r(),m(e.currentScreen.description?6:-1),r(),m(e.getUngroupedFieldsOnScreen(e.currentScreen.id).length>0?7:-1),r(),y(e.getGroupsOnScreen(e.currentScreen.id))}}function po(t,d){if(t&1){let e=P();a(0,"button",35),h("click",function(){f(e);let i=c(3);return u(i.nextScreen())}),l(1," Next "),a(2,"mat-icon",36),l(3,"chevron_right"),o()()}}function _o(t,d){t&1&&(a(0,"button",19)(1,"mat-icon"),l(2,"send"),o(),l(3," Submit for Approval "),o())}function fo(t,d){if(t&1){let e=P();a(0,"div",13)(1,"div",14),v(2,no,7,7,null,null,xt),o()(),p(4,mo,10,4),a(5,"div",15)(6,"button",16),h("click",function(){f(e);let i=c(2);return u(i.prevScreen())}),a(7,"mat-icon"),l(8,"chevron_left"),o(),l(9," Previous "),o(),a(10,"span",17),l(11),o(),p(12,po,4,0,"button",18)(13,_o,4,0,"button",19),o()}if(t&2){let e=c(2);r(2),y(e.sortedScreens),r(2),m(e.currentScreen?4:-1),r(2),_("disabled",e.currentScreenIndex===0),r(5),j("Step ",e.currentScreenIndex+1," of ",e.sortedScreens.length,""),r(),m(e.currentScreenIndex<e.sortedScreens.length-1?12:13)}}function uo(t,d){if(t&1&&(a(0,"div",30),A(1,31),o()),t&2){let e=d.$implicit;c(4);let n=L(21);X("grid-column","span "+(e.columnSpan||2)),r(),_("ngTemplateOutlet",n)("ngTemplateOutletContext",pe(4,rt,e))}}function go(t,d){if(t&1&&(a(0,"mat-card",27)(1,"mat-card-content")(2,"div",28),v(3,uo,2,6,"div",29,lt),o()()()),t&2){let e=c(3);r(3),y(e.getUngroupedFields())}}function Co(t,d){if(t&1&&(a(0,"mat-panel-description"),l(1),o()),t&2){let e=c(2).$implicit;r(),g(e.description)}}function xo(t,d){if(t&1&&(a(0,"div",30),A(1,31),o()),t&2){let e=d.$implicit;c(5);let n=L(21);X("grid-column","span "+(e.columnSpan||2)),r(),_("ngTemplateOutlet",n)("ngTemplateOutletContext",pe(4,rt,e))}}function ho(t,d){if(t&1){let e=P();a(0,"mat-card",32)(1,"mat-expansion-panel",33),h("opened",function(){f(e);let i=c().$implicit,s=c(3);return u(s.onPanelOpened(i.id))})("closed",function(){f(e);let i=c().$implicit,s=c(3);return u(s.onPanelClosed(i.id))}),a(2,"mat-expansion-panel-header",34)(3,"mat-panel-title"),l(4),o(),p(5,Co,2,1,"mat-panel-description"),o(),a(6,"div",28),v(7,xo,2,6,"div",29,lt),o()()()}if(t&2){let e=c().$implicit,n=c(3);r(),_("expanded",n.isPanelExpanded(e.id))("disabled",!e.collapsible),r(),_("collapsedHeight","48px")("expandedHeight","48px"),r(2),g(e.title||e.name),r(),m(e.description?5:-1),r(2),y(n.getFieldsInGroup(e.id))}}function vo(t,d){if(t&1&&p(0,ho,9,6,"mat-card",32),t&2){let e=d.$implicit,n=c(3);m(n.getFieldsInGroup(e.id).length>0?0:-1)}}function yo(t,d){if(t&1&&(p(0,go,5,0,"mat-card",27),v(1,vo,1,1,null,null,xt),a(3,"mat-card",27)(4,"mat-card-content")(5,"mat-form-field",37)(6,"mat-label"),l(7,"Comments (Optional)"),o(),E(8,"textarea",38),o()()(),a(9,"mat-card",27)(10,"mat-card-content")(11,"div",39)(12,"label",40),l(13,"Attachments (Optional)"),o(),a(14,"div",41)(15,"mat-icon"),l(16,"cloud_upload"),o(),a(17,"p"),l(18,"Drag and drop files here or click to browse"),o(),E(19,"input",42),o()()()(),a(20,"div",43)(21,"button",44)(22,"mat-icon"),l(23,"drafts"),o(),l(24," Save as Draft "),o(),a(25,"button",19)(26,"mat-icon"),l(27,"send"),o(),l(28," Submit for Approval "),o()()),t&2){let e=c(2);m(e.getUngroupedFields().length>0?0:-1),r(),y(e.data.fieldGroups)}}function wo(t,d){if(t&1&&(a(0,"form",9),p(1,fo,14,5)(2,yo,29,1),o()),t&2){let e=c();_("formGroup",e.previewForm),r(),m(e.hasMultipleScreens()?1:2)}}function bo(t,d){t&1&&l(0," * ")}function Mo(t,d){t&1&&l(0," (Read Only) ")}function So(t,d){if(t&1&&(a(0,"mat-hint"),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function Po(t,d){if(t&1&&(a(0,"mat-form-field",37)(1,"mat-label"),l(2),p(3,bo,1,0)(4,Mo,1,0),o(),E(5,"input",62),p(6,So,2,1,"mat-hint"),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),m(n.isFieldReadonly(e)?4:-1),r(),_("formControlName",e.name)("placeholder",e.placeholder||"")("readonly",n.isFieldReadonly(e)),r(),m(e.helpText?6:-1)}}function Oo(t,d){t&1&&l(0," * ")}function Eo(t,d){t&1&&l(0," (Read Only) ")}function ko(t,d){if(t&1&&(a(0,"mat-hint"),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function To(t,d){if(t&1&&(a(0,"mat-form-field",37)(1,"mat-label"),l(2),p(3,Oo,1,0)(4,Eo,1,0),o(),E(5,"textarea",63),p(6,ko,2,1,"mat-hint"),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),m(n.isFieldReadonly(e)?4:-1),r(),_("formControlName",e.name)("placeholder",e.placeholder||"")("readonly",n.isFieldReadonly(e)),r(),m(e.helpText?6:-1)}}function Io(t,d){t&1&&l(0," * ")}function Fo(t,d){t&1&&l(0," (Read Only) ")}function Ro(t,d){if(t&1&&(a(0,"mat-hint"),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function Wo(t,d){if(t&1&&(a(0,"mat-form-field",37)(1,"mat-label"),l(2),p(3,Io,1,0)(4,Fo,1,0),o(),E(5,"input",64),p(6,Ro,2,1,"mat-hint"),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),m(n.isFieldReadonly(e)?4:-1),r(),_("formControlName",e.name)("placeholder",e.placeholder||"")("readonly",n.isFieldReadonly(e)),r(),m(e.helpText?6:-1)}}function Do(t,d){t&1&&l(0," * ")}function No(t,d){t&1&&l(0," (Read Only) ")}function Ao(t,d){if(t&1&&(a(0,"mat-hint"),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function Lo(t,d){if(t&1&&(a(0,"mat-form-field",37)(1,"mat-label"),l(2),p(3,Do,1,0)(4,No,1,0),o(),a(5,"span",65),l(6,"$\xA0"),o(),E(7,"input",64),p(8,Ao,2,1,"mat-hint"),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),m(n.isFieldReadonly(e)?4:-1),r(3),_("formControlName",e.name)("placeholder",e.placeholder||"")("readonly",n.isFieldReadonly(e)),r(),m(e.helpText?8:-1)}}function Bo(t,d){t&1&&l(0," * ")}function Vo(t,d){t&1&&l(0," (Read Only) ")}function Uo(t,d){if(t&1&&(a(0,"mat-hint"),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function Go(t,d){if(t&1&&(a(0,"mat-form-field",37)(1,"mat-label"),l(2),p(3,Bo,1,0)(4,Vo,1,0),o(),E(5,"input",66),p(6,Uo,2,1,"mat-hint"),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),m(n.isFieldReadonly(e)?4:-1),r(),_("formControlName",e.name)("placeholder",e.placeholder||"")("readonly",n.isFieldReadonly(e)),r(),m(e.helpText?6:-1)}}function zo(t,d){t&1&&l(0," * ")}function Ho(t,d){t&1&&l(0," (Read Only) ")}function qo(t,d){if(t&1&&(a(0,"mat-hint"),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function jo(t,d){if(t&1&&(a(0,"mat-form-field",37)(1,"mat-label"),l(2),p(3,zo,1,0)(4,Ho,1,0),o(),E(5,"input",67),p(6,qo,2,1,"mat-hint"),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),m(n.isFieldReadonly(e)?4:-1),r(),_("formControlName",e.name)("placeholder",e.placeholder||"")("readonly",n.isFieldReadonly(e)),r(),m(e.helpText?6:-1)}}function $o(t,d){t&1&&l(0," * ")}function Qo(t,d){t&1&&l(0," (Read Only) ")}function Yo(t,d){if(t&1&&(a(0,"mat-hint"),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function Xo(t,d){if(t&1&&(a(0,"mat-form-field",37)(1,"mat-label"),l(2),p(3,$o,1,0)(4,Qo,1,0),o(),E(5,"input",68)(6,"mat-datepicker-toggle",69)(7,"mat-datepicker",70,1),p(9,Yo,2,1,"mat-hint"),o()),t&2){let e=L(8),n=c().field,i=c();S("readonly-field",i.isFieldReadonly(n)),r(2),x("",n.label," "),r(),m(n.isMandatory?3:-1),r(),m(i.isFieldReadonly(n)?4:-1),r(),_("matDatepicker",e)("formControlName",n.name)("readonly",i.isFieldReadonly(n)),r(),_("for",e)("disabled",i.isFieldReadonly(n)),r(),_("disabled",i.isFieldReadonly(n)),r(2),m(n.helpText?9:-1)}}function Ko(t,d){t&1&&l(0," * ")}function Jo(t,d){t&1&&l(0," (Read Only) ")}function Zo(t,d){if(t&1&&(a(0,"mat-option",72),l(1),o()),t&2){let e=d.$implicit;_("value",e.value),r(),g(e.label)}}function ea(t,d){if(t&1&&(a(0,"mat-hint"),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function ta(t,d){if(t&1&&(a(0,"mat-form-field",37)(1,"mat-label"),l(2),p(3,Ko,1,0)(4,Jo,1,0),o(),a(5,"mat-select",71),v(6,Zo,2,2,"mat-option",72,$),o(),p(8,ea,2,1,"mat-hint"),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),m(n.isFieldReadonly(e)?4:-1),r(),_("formControlName",e.name)("placeholder",e.placeholder||"Select an option")("disabled",n.isFieldReadonly(e)),r(),y(n.getFieldOptions(e)),r(2),m(e.helpText?8:-1)}}function na(t,d){t&1&&(a(0,"span",74),l(1,"*"),o())}function ia(t,d){t&1&&(a(0,"span",75),l(1,"(Read Only)"),o())}function oa(t,d){if(t&1&&(a(0,"mat-radio-button",77),l(1),o()),t&2){let e=d.$implicit,n=c(2).field,i=c();_("value",e.value)("disabled",i.isFieldReadonly(n)),r(),g(e.label)}}function aa(t,d){if(t&1&&(a(0,"p",78),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function ra(t,d){if(t&1&&(a(0,"div",73)(1,"label",40),l(2),p(3,na,2,0,"span",74)(4,ia,2,0,"span",75),o(),a(5,"mat-radio-group",76),v(6,oa,2,3,"mat-radio-button",77,$),o(),p(8,aa,2,1,"p",78),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),m(n.isFieldReadonly(e)?4:-1),r(),S("horizontal-layout",e.optionsLayout==="horizontal"),_("formControlName",e.name)("disabled",n.isFieldReadonly(e)),r(),y(n.getFieldOptions(e)),r(2),m(e.helpText?8:-1)}}function la(t,d){t&1&&l(0," (Read Only) ")}function da(t,d){if(t&1&&(a(0,"p",78),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function sa(t,d){if(t&1&&(a(0,"div",79)(1,"mat-checkbox",76),l(2),p(3,la,1,0),o(),p(4,da,2,1,"p",78),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(),_("formControlName",e.name)("disabled",n.isFieldReadonly(e)),r(),x("",e.label," "),r(),m(n.isFieldReadonly(e)?3:-1),r(),m(e.helpText?4:-1)}}function ca(t,d){t&1&&(a(0,"span",74),l(1,"*"),o())}function ma(t,d){t&1&&(a(0,"span",75),l(1,"(Read Only)"),o())}function pa(t,d){if(t&1&&(a(0,"mat-checkbox",70),l(1),o()),t&2){let e=d.$implicit,n=c(2).field,i=c();_("disabled",i.isFieldReadonly(n)),r(),g(e.label)}}function _a(t,d){if(t&1&&(a(0,"p",78),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function fa(t,d){if(t&1&&(a(0,"div",80)(1,"label",40),l(2),p(3,ca,2,0,"span",74)(4,ma,2,0,"span",75),o(),a(5,"div",81),v(6,pa,2,2,"mat-checkbox",70,$),o(),p(8,_a,2,1,"p",78),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),m(n.isFieldReadonly(e)?4:-1),r(),S("horizontal-layout",e.optionsLayout==="horizontal"),r(),y(n.getFieldOptions(e)),r(2),m(e.helpText?8:-1)}}function ua(t,d){t&1&&(a(0,"span",74),l(1,"*"),o())}function ga(t,d){t&1&&(a(0,"span",75),l(1,"(Read Only)"),o())}function Ca(t,d){if(t&1&&(a(0,"p",78),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function xa(t,d){if(t&1&&(a(0,"div",82)(1,"label",40),l(2),p(3,ua,2,0,"span",74)(4,ga,2,0,"span",75),o(),a(5,"div",83)(6,"button",84)(7,"mat-icon"),l(8,"attach_file"),o(),l(9," Choose File "),o(),a(10,"span",85),l(11,"No file chosen"),o()(),p(12,Ca,2,1,"p",78),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),m(n.isFieldReadonly(e)?4:-1),r(2),_("disabled",n.isFieldReadonly(e)),r(6),m(e.helpText?12:-1)}}function ha(t,d){t&1&&l(0," * ")}function va(t,d){t&1&&l(0," (Read Only) ")}function ya(t,d){if(t&1&&(a(0,"mat-hint"),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function wa(t,d){if(t&1&&(a(0,"mat-form-field",37)(1,"mat-label"),l(2),p(3,ha,1,0)(4,va,1,0),o(),E(5,"input",86),p(6,ya,2,1,"mat-hint"),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),m(n.isFieldReadonly(e)?4:-1),r(),_("formControlName",e.name)("placeholder",e.placeholder||"https://")("readonly",n.isFieldReadonly(e)),r(),m(e.helpText?6:-1)}}function ba(t,d){t&1&&(a(0,"span",74),l(1,"*"),o())}function Ma(t,d){if(t&1&&(a(0,"p",78),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function Sa(t,d){if(t&1&&(a(0,"div",50)(1,"mat-slide-toggle",76),l(2),p(3,ba,2,0,"span",74),o(),p(4,Ma,2,1,"p",78),o()),t&2){let e=c().field,n=c();r(),_("formControlName",e.name)("disabled",n.isFieldReadonly(e)),r(),x(" ",e.label," "),r(),m(e.isMandatory?3:-1),r(),m(e.helpText?4:-1)}}function Pa(t,d){t&1&&(a(0,"span",74),l(1,"*"),o())}function Oa(t,d){if(t&1&&(a(0,"p",78),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function Ea(t,d){if(t&1&&(a(0,"div",87)(1,"label",40),l(2),p(3,Pa,2,0,"span",74),o(),a(4,"mat-button-toggle-group",76)(5,"mat-button-toggle",88),l(6,"Yes"),o(),a(7,"mat-button-toggle",89),l(8,"No"),o()(),p(9,Oa,2,1,"p",78),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),_("formControlName",e.name)("disabled",n.isFieldReadonly(e)),r(5),m(e.helpText?9:-1)}}function ka(t,d){t&1&&(a(0,"span",74),l(1,"*"),o())}function Ta(t,d){if(t&1){let e=P();a(0,"mat-icon",93),h("click",function(){let i=f(e).$implicit,s=c(2).field,C=c();return u(C.setRating(s,i))}),l(1),o()}if(t&2){let e=d.$implicit,n=c(2).field,i=c();S("filled",i.getRatingValue(n)>=e)("readonly",i.isFieldReadonly(n)),r(),x(" ",i.getRatingValue(n)>=e?"star":"star_border"," ")}}function Ia(t,d){if(t&1&&(a(0,"p",78),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function Fa(t,d){if(t&1&&(a(0,"div",90)(1,"label",40),l(2),p(3,ka,2,0,"span",74),o(),a(4,"div",91),v(5,Ta,2,5,"mat-icon",92,z),o(),p(7,Ia,2,1,"p",78),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(2),y(n.getStarArray(e)),r(2),m(e.helpText?7:-1)}}function Ra(t,d){t&1&&l(0," * ")}function Wa(t,d){t&1&&l(0," (Read Only) ")}function Da(t,d){if(t&1&&(a(0,"mat-hint"),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function Na(t,d){if(t&1&&(a(0,"mat-form-field",37)(1,"mat-label"),l(2),p(3,Ra,1,0)(4,Wa,1,0),o(),E(5,"input",94),p(6,Da,2,1,"mat-hint"),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),m(n.isFieldReadonly(e)?4:-1),r(),_("formControlName",e.name)("readonly",n.isFieldReadonly(e)),r(),m(e.helpText?6:-1)}}function Aa(t,d){t&1&&(a(0,"span",74),l(1,"*"),o())}function La(t,d){if(t&1&&(a(0,"p",78),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function Ba(t,d){if(t&1&&(a(0,"div",95)(1,"label",40),l(2),p(3,Aa,2,0,"span",74),o(),a(4,"mat-slider",96),E(5,"input",97),o(),p(6,La,2,1,"p",78),o()),t&2){let e,n=c().field,i=c();S("readonly-field",i.isFieldReadonly(n)),r(2),j("",n.label,": ",((e=i.previewForm.get(n.name))==null?null:e.value)||0," "),r(),m(n.isMandatory?3:-1),r(),_("min",n.sliderMin||0)("max",n.sliderMax||100)("step",n.sliderStep||1)("discrete",!0)("disabled",i.isFieldReadonly(n)),r(),_("formControlName",n.name),r(),m(n.helpText?6:-1)}}function Va(t,d){t&1&&(a(0,"span",74),l(1,"*"),o())}function Ua(t,d){if(t&1&&(a(0,"p",78),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function Ga(t,d){if(t&1&&(a(0,"div",98)(1,"label",40),l(2),p(3,Va,2,0,"span",74),o(),E(4,"input",99),p(5,Ua,2,1,"p",78),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),_("formControlName",e.name)("disabled",n.isFieldReadonly(e)),r(),m(e.helpText?5:-1)}}function za(t,d){t&1&&(a(0,"span",74),l(1,"*"),o())}function Ha(t,d){if(t&1&&(a(0,"p",78),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function qa(t,d){if(t&1&&(a(0,"div",100)(1,"label",40),l(2),p(3,za,2,0,"span",74),o(),a(4,"div",101)(5,"mat-icon"),l(6,"image"),o(),a(7,"p"),l(8,"Image Upload Field"),o()(),p(9,Ha,2,1,"p",78),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(6),m(e.helpText?9:-1)}}function ja(t,d){t&1&&(a(0,"span",74),l(1,"*"),o())}function $a(t,d){if(t&1&&(a(0,"p",78),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function Qa(t,d){if(t&1&&(a(0,"div",102)(1,"label",40),l(2),p(3,ja,2,0,"span",74),o(),a(4,"div",103)(5,"div",104)(6,"span",105),l(7,"Sign here"),o()(),a(8,"button",106)(9,"mat-icon"),l(10,"clear"),o()()(),p(11,$a,2,1,"p",78),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(5),_("disabled",n.isFieldReadonly(e)),r(3),m(e.helpText?11:-1)}}function Ya(t,d){t&1&&(a(0,"span",74),l(1,"*"),o())}function Xa(t,d){if(t&1&&(a(0,"p",78),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function Ka(t,d){if(t&1&&(a(0,"div",107)(1,"label",40),l(2),p(3,Ya,2,0,"span",74),o(),a(4,"div",108)(5,"div",109)(6,"button",110)(7,"mat-icon"),l(8,"format_bold"),o()(),a(9,"button",110)(10,"mat-icon"),l(11,"format_italic"),o()(),a(12,"button",110)(13,"mat-icon"),l(14,"format_underlined"),o()(),E(15,"span",111),a(16,"button",110)(17,"mat-icon"),l(18,"format_list_bulleted"),o()(),a(19,"button",110)(20,"mat-icon"),l(21,"format_list_numbered"),o()()(),a(22,"div",112)(23,"p"),l(24,"Rich text content area..."),o()()(),p(25,Xa,2,1,"p",78),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(22),m(e.helpText?25:-1)}}function Ja(t,d){t&1&&(a(0,"span",74),l(1,"*"),o())}function Za(t,d){if(t&1&&(a(0,"p",78),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function er(t,d){if(t&1&&(a(0,"div",113)(1,"label",40),l(2),p(3,Ja,2,0,"span",74),o(),a(4,"div",114)(5,"div",115)(6,"mat-icon"),l(7,"help_outline"),o()(),a(8,"span",116),l(9,"Click to select icon"),o()(),p(10,Za,2,1,"p",78),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(7),m(e.helpText?10:-1)}}function tr(t,d){t&1&&(a(0,"span",74),l(1,"*"),o())}function nr(t,d){if(t&1&&(a(0,"p",78),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function ir(t,d){if(t&1&&(a(0,"div",117)(1,"label",40),l(2),p(3,tr,2,0,"span",74),o(),a(4,"div",118)(5,"mat-form-field",119)(6,"mat-label"),l(7,"Barcode/QR Code"),o(),E(8,"input",62),a(9,"button",120)(10,"mat-icon"),l(11,"qr_code_scanner"),o()()()(),p(12,nr,2,1,"p",78),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(5),_("formControlName",e.name)("placeholder",e.placeholder||"Enter or scan code")("readonly",n.isFieldReadonly(e)),r(),_("disabled",n.isFieldReadonly(e)),r(3),m(e.helpText?12:-1)}}function or(t,d){t&1&&(a(0,"span",74),l(1,"*"),o())}function ar(t,d){if(t&1&&(a(0,"p",78),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function rr(t,d){if(t&1&&(a(0,"div",121)(1,"label",40),l(2),p(3,or,2,0,"span",74),o(),a(4,"div",122)(5,"mat-form-field",123)(6,"mat-label"),l(7,"Latitude"),o(),E(8,"input",124),o(),a(9,"mat-form-field",123)(10,"mat-label"),l(11,"Longitude"),o(),E(12,"input",124),o(),a(13,"button",125)(14,"mat-icon"),l(15,"my_location"),o()()(),p(16,ar,2,1,"p",78),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(5),_("readonly",n.isFieldReadonly(e)),r(4),_("readonly",n.isFieldReadonly(e)),r(),_("disabled",n.isFieldReadonly(e)),r(3),m(e.helpText?16:-1)}}function lr(t,d){t&1&&(a(0,"span",74),l(1,"*"),o())}function dr(t,d){if(t&1&&(a(0,"p",78),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function sr(t,d){if(t&1&&(a(0,"div",126)(1,"label",40),l(2),p(3,lr,2,0,"span",74),o(),a(4,"div",127)(5,"table",128)(6,"thead")(7,"tr")(8,"th"),l(9,"Column 1"),o(),a(10,"th"),l(11,"Column 2"),o(),a(12,"th"),l(13,"Column 3"),o(),E(14,"th"),o()(),a(15,"tbody")(16,"tr")(17,"td",129),l(18,'Click "Add Row" to add data'),o()()()(),a(19,"button",130)(20,"mat-icon"),l(21,"add"),o(),l(22," Add Row "),o()(),p(23,dr,2,1,"p",78),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(16),_("disabled",n.isFieldReadonly(e)),r(4),m(e.helpText?23:-1)}}function cr(t,d){t&1&&l(0," * ")}function mr(t,d){t&1&&l(0," (Read Only) ")}function pr(t,d){if(t&1&&(a(0,"mat-option",72),l(1),o()),t&2){let e=d.$implicit;_("value",e.value),r(),g(e.label)}}function _r(t,d){if(t&1&&(a(0,"mat-hint"),l(1),o()),t&2){let e=c(3).field;r(),g(e.helpText)}}function fr(t,d){if(t&1&&(a(0,"mat-form-field",37)(1,"mat-label"),l(2),p(3,cr,1,0)(4,mr,1,0),o(),a(5,"mat-select",76),v(6,pr,2,2,"mat-option",72,$),o(),p(8,_r,2,1,"mat-hint"),o()),t&2){let e=c(2).field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),m(n.isFieldReadonly(e)?4:-1),r(),_("formControlName",e.name)("disabled",n.isFieldReadonly(e)),r(),y(e.options||te(8,ue)),r(2),m(e.helpText?8:-1)}}function ur(t,d){t&1&&l(0," * ")}function gr(t,d){t&1&&l(0," (Read Only) ")}function Cr(t,d){if(t&1&&(a(0,"mat-option",72),l(1),o()),t&2){let e=d.$implicit;_("value",e.value),r(),g(e.label)}}function xr(t,d){if(t&1&&(a(0,"mat-hint"),l(1),o()),t&2){let e=c(3).field;r(),g(e.helpText)}}function hr(t,d){if(t&1&&(a(0,"mat-form-field",37)(1,"mat-label"),l(2),p(3,ur,1,0)(4,gr,1,0),o(),a(5,"mat-select",131),v(6,Cr,2,2,"mat-option",72,$),o(),p(8,xr,2,1,"mat-hint"),o()),t&2){let e=c(2).field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),m(n.isFieldReadonly(e)?4:-1),r(),_("formControlName",e.name)("disabled",n.isFieldReadonly(e)),r(),y(e.options||te(8,ue)),r(2),m(e.helpText?8:-1)}}function vr(t,d){t&1&&(a(0,"span",74),l(1,"*"),o())}function yr(t,d){if(t&1&&(a(0,"mat-radio-button",72),l(1),o()),t&2){let e=d.$implicit;_("value",e.value),r(),g(e.label)}}function wr(t,d){if(t&1&&(a(0,"div",73)(1,"label",40),l(2),p(3,vr,2,0,"span",74),o(),a(4,"mat-radio-group",76),v(5,yr,2,2,"mat-radio-button",72,$),o()()),t&2){let e=c(2).field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),S("horizontal-layout",e.optionsLayout==="horizontal"),_("formControlName",e.name)("disabled",n.isFieldReadonly(e)),r(),y(e.options||te(8,ue))}}function br(t,d){t&1&&(a(0,"span",74),l(1,"*"),o())}function Mr(t,d){if(t&1&&(a(0,"mat-checkbox",70),l(1),o()),t&2){let e=d.$implicit,n=c(3).field,i=c();_("disabled",i.isFieldReadonly(n)),r(),g(e.label)}}function Sr(t,d){if(t&1&&(a(0,"div",80)(1,"label",40),l(2),p(3,br,2,0,"span",74),o(),a(4,"div",132),v(5,Mr,2,2,"mat-checkbox",70,$),o()()),t&2){let e=c(2).field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),S("horizontal-layout",e.optionsLayout==="horizontal"),r(),y(e.options||te(6,ue))}}function Pr(t,d){t&1&&l(0," * ")}function Or(t,d){t&1&&l(0," (Read Only) ")}function Er(t,d){if(t&1&&(a(0,"mat-option",72),l(1),o()),t&2){let e=d.$implicit;_("value",e.value),r(),g(e.label)}}function kr(t,d){if(t&1&&(a(0,"mat-hint"),l(1),o()),t&2){let e=c(3).field;r(),g(e.helpText)}}function Tr(t,d){if(t&1&&(a(0,"mat-form-field",37)(1,"mat-label"),l(2),p(3,Pr,1,0)(4,Or,1,0),o(),a(5,"mat-select",76),v(6,Er,2,2,"mat-option",72,$),o(),p(8,kr,2,1,"mat-hint"),o()),t&2){let e=c(2).field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),m(n.isFieldReadonly(e)?4:-1),r(),_("formControlName",e.name)("disabled",n.isFieldReadonly(e)),r(),y(e.options||te(8,ue)),r(2),m(e.helpText?8:-1)}}function Ir(t,d){if(t&1&&p(0,fr,9,9,"mat-form-field",45)(1,hr,9,9,"mat-form-field",45)(2,wr,7,9,"div",46)(3,Sr,7,7,"div",48)(4,Tr,9,9,"mat-form-field",45),t&2){let e,n=c().field;m((e=n.viewType)==="SELECT"?0:e==="MULTISELECT"?1:e==="RADIO"?2:e==="CHECKBOX_GROUP"?3:4)}}function Fr(t,d){t&1&&l(0," * ")}function Rr(t,d){t&1&&l(0," (Read Only) ")}function Wr(t,d){if(t&1&&(a(0,"mat-hint"),l(1),o()),t&2){let e=c(2).field;r(),g(e.helpText)}}function Dr(t,d){if(t&1&&(a(0,"mat-form-field",37)(1,"mat-label"),l(2),p(3,Fr,1,0)(4,Rr,1,0),o(),E(5,"input",62),p(6,Wr,2,1,"mat-hint"),o()),t&2){let e=c().field,n=c();S("readonly-field",n.isFieldReadonly(e)),r(2),x("",e.label," "),r(),m(e.isMandatory?3:-1),r(),m(n.isFieldReadonly(e)?4:-1),r(),_("formControlName",e.name)("placeholder",e.placeholder||"")("readonly",n.isFieldReadonly(e)),r(),m(e.helpText?6:-1)}}function Nr(t,d){if(t&1&&p(0,Po,7,9,"mat-form-field",45)(1,To,7,9,"mat-form-field",45)(2,Wo,7,9,"mat-form-field",45)(3,Lo,9,9,"mat-form-field",45)(4,Go,7,9,"mat-form-field",45)(5,jo,7,9,"mat-form-field",45)(6,Xo,10,12,"mat-form-field",45)(7,ta,9,9,"mat-form-field",45)(8,ra,9,10,"div",46)(9,sa,5,7,"div",47)(10,fa,9,8,"div",48)(11,xa,13,7,"div",49)(12,wa,7,9,"mat-form-field",45)(13,Sa,5,5,"div",50)(14,Ea,10,7,"div",51)(15,Fa,8,5,"div",52)(16,Na,7,8,"mat-form-field",45)(17,Ba,7,12,"div",53)(18,Ga,6,7,"div",54)(19,qa,10,5,"div",55)(20,Qa,12,6,"div",56)(21,Ka,26,5,"div",57)(22,er,11,5,"div",58)(23,ir,13,9,"div",59)(24,rr,17,8,"div",60)(25,sr,24,6,"div",61)(26,Ir,5,1)(27,Dr,7,9,"mat-form-field",45),t&2){let e,n=d.field;m((e=n.fieldType||n.type)==="TEXT"?0:e==="TEXTAREA"?1:e==="NUMBER"?2:e==="CURRENCY"?3:e==="EMAIL"?4:e==="PHONE"?5:e==="DATE"?6:e==="SELECT"?7:e==="RADIO"?8:e==="CHECKBOX"?9:e==="CHECKBOX_GROUP"?10:e==="FILE"?11:e==="URL"?12:e==="TOGGLE"?13:e==="YES_NO"?14:e==="RATING"?15:e==="TIME"?16:e==="SLIDER"?17:e==="COLOR"?18:e==="IMAGE"?19:e==="SIGNATURE"?20:e==="RICH_TEXT"?21:e==="ICON"?22:e==="BARCODE"?23:e==="LOCATION"?24:e==="TABLE"?25:e==="SQL_OBJECT"?26:27)}}var li=(()=>{class t{fb;dialogRef;cdr;ngZone;appRef;data;previewForm;processedFields=[];isReady=!1;currentScreenIndex=0;sortedScreens=[];panelExpandedState=new Map;constructor(e,n,i,s,C,O){this.fb=e,this.dialogRef=n,this.cdr=i,this.ngZone=s,this.appRef=C,this.data=O,this.previewForm=this.fb.group({})}ngOnInit(){this.processedFields=this.processFields(this.data.fields||[]),this.previewForm=this.buildForm(),this.sortedScreens=[...this.data.screens||[]].sort((e,n)=>(e.displayOrder||0)-(n.displayOrder||0)),(this.data.fieldGroups||[]).forEach(e=>{this.panelExpandedState.set(e.id,!e.collapsed)}),this.cdr.detectChanges()}isPanelExpanded(e){return this.panelExpandedState.get(e)!==!1}onPanelOpened(e){this.panelExpandedState.set(e,!0),this.cdr.detectChanges()}onPanelClosed(e){this.panelExpandedState.set(e,!1),this.cdr.detectChanges()}get currentScreen(){return this.sortedScreens.length>0&&this.currentScreenIndex<this.sortedScreens.length?this.sortedScreens[this.currentScreenIndex]:null}hasMultipleScreens(){return this.sortedScreens.length>=2}nextScreen(){this.currentScreenIndex<this.sortedScreens.length-1&&(this.currentScreenIndex++,this.cdr.detectChanges())}prevScreen(){this.currentScreenIndex>0&&(this.currentScreenIndex--,this.cdr.detectChanges())}goToScreen(e){e>=0&&e<this.sortedScreens.length&&(this.currentScreenIndex=e,this.cdr.detectChanges())}getUngroupedFieldsOnScreen(e){return this.processedFields.filter(n=>!n.fieldGroupId&&n.screenId===e)}getGroupsOnScreen(e){return(this.data.fieldGroups||[]).filter(n=>n.screenId===e)}getFieldsInGroupOnScreen(e,n){return this.processedFields.filter(i=>i.fieldGroupId===e&&(i.screenId===n||!i.screenId))}ngAfterViewInit(){this.ngZone.run(()=>{this.isReady=!0,this.cdr.detectChanges(),setTimeout(()=>{this.cdr.detectChanges(),this.appRef.tick()},0),setTimeout(()=>{this.cdr.detectChanges()},100),setTimeout(()=>{this.cdr.detectChanges(),this.appRef.tick()},250)})}processFields(e){return e.map(n=>{let i=n.optionsText?.split(`
`).filter(s=>s.trim()).map((s,C)=>({value:s.trim(),label:s.trim(),displayOrder:C}))||n.options||[];return W(R({},n),{options:i})})}buildForm(){let e={};return this.processedFields.forEach(n=>{let i=[];n.isMandatory&&i.push(fe.required),(n.fieldType==="EMAIL"||n.type==="EMAIL")&&i.push(fe.email),e[n.name]=["",i]}),this.fb.group(e)}getUngroupedFields(){return this.processedFields.filter(e=>!e.fieldGroupId)}getFieldsInGroup(e){return this.processedFields.filter(n=>n.fieldGroupId===e)}getFieldOptions(e){return e.options&&Array.isArray(e.options)?e.options:e.optionsText?e.optionsText.split(`
`).filter(n=>n.trim()).map(n=>({value:n.trim(),label:n.trim()})):[]}isFieldReadonly(e){return e.readOnly||e.isReadonly||!1}getStarArray(e){let n=e.ratingMax||5;return Array.from({length:n},(i,s)=>s+1)}getRatingValue(e){let n=this.previewForm.get(e.name)?.value;return n?parseInt(n,10):0}setRating(e,n){this.isFieldReadonly(e)||this.previewForm.get(e.name)?.setValue(n)}close(){this.dialogRef.close()}static \u0275fac=function(n){return new(n||t)(I(Te),I(hn),I(ne),I(Ce),I(Ft),I(vn))};static \u0275cmp=V({type:t,selectors:[["app-workflow-preview-dialog"]],decls:22,vars:4,consts:[["fieldTemplate",""],["picker",""],[1,"preview-dialog"],[1,"dialog-header"],[1,"header-content"],[1,"workflow-icon"],[1,"description"],[1,"preview-badge"],[1,"empty-state"],[3,"formGroup"],["align","end"],["mat-button","",3,"click"],[1,"hint"],[1,"stepper-container"],[1,"step-indicator"],[1,"screen-navigation"],["mat-button","",3,"click","disabled"],[1,"screen-counter"],["mat-raised-button","","color","primary"],["mat-raised-button","","color","primary","type","button","disabled",""],[1,"step",3,"click"],[1,"step-number"],[1,"step-label"],[1,"step-connector",3,"completed"],[1,"step-connector"],[1,"screen-header"],[1,"screen-description"],[1,"form-card"],[1,"fields-grid"],[1,"field-wrapper",3,"grid-column"],[1,"field-wrapper"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"form-card","group-card"],[3,"opened","closed","expanded","disabled"],[3,"collapsedHeight","expandedHeight"],["mat-raised-button","","color","primary",3,"click"],["iconPositionEnd",""],["appearance","outline",1,"full-width"],["matInput","","rows","3","placeholder","Add any additional comments..."],[1,"attachments-section"],[1,"field-label"],[1,"file-upload-area"],["type","file","multiple","","disabled",""],[1,"form-actions"],["mat-button","","type","button","disabled",""],["appearance","outline",1,"full-width",3,"readonly-field"],[1,"radio-field",3,"readonly-field"],[1,"checkbox-field",3,"readonly-field"],[1,"checkbox-group-field",3,"readonly-field"],[1,"file-field",3,"readonly-field"],[1,"toggle-field"],[1,"yes-no-field",3,"readonly-field"],[1,"rating-field",3,"readonly-field"],[1,"slider-field",3,"readonly-field"],[1,"color-field",3,"readonly-field"],[1,"image-field",3,"readonly-field"],[1,"signature-field",3,"readonly-field"],[1,"rich-text-field",3,"readonly-field"],[1,"icon-field",3,"readonly-field"],[1,"barcode-field",3,"readonly-field"],[1,"location-field",3,"readonly-field"],[1,"table-field",3,"readonly-field"],["matInput","",3,"formControlName","placeholder","readonly"],["matInput","","rows","4",3,"formControlName","placeholder","readonly"],["matInput","","type","number",3,"formControlName","placeholder","readonly"],["matPrefix",""],["matInput","","type","email",3,"formControlName","placeholder","readonly"],["matInput","","type","tel",3,"formControlName","placeholder","readonly"],["matInput","",3,"matDatepicker","formControlName","readonly"],["matIconSuffix","",3,"for","disabled"],[3,"disabled"],[3,"formControlName","placeholder","disabled"],[3,"value"],[1,"radio-field"],[1,"required"],[1,"readonly-badge"],[3,"formControlName","disabled"],[3,"value","disabled"],[1,"hint-text"],[1,"checkbox-field"],[1,"checkbox-group-field"],[1,"checkbox-options"],[1,"file-field"],[1,"file-input-wrapper"],["mat-stroked-button","","type","button",3,"disabled"],[1,"file-hint"],["matInput","","type","url",3,"formControlName","placeholder","readonly"],[1,"yes-no-field"],["value","yes"],["value","no"],[1,"rating-field"],[1,"star-rating"],[3,"filled","readonly"],[3,"click"],["matInput","","type","time",3,"formControlName","readonly"],[1,"slider-field"],[3,"min","max","step","discrete","disabled"],["matSliderThumb","",3,"formControlName"],[1,"color-field"],["type","color",1,"color-input",3,"formControlName","disabled"],[1,"image-field"],[1,"placeholder-box"],[1,"signature-field"],[1,"signature-pad-preview"],[1,"signature-canvas-preview"],[1,"signature-placeholder-text"],["mat-icon-button","","type","button",1,"clear-btn",3,"disabled"],[1,"rich-text-field"],[1,"rich-text-preview"],[1,"rich-text-toolbar-preview"],["mat-icon-button","","type","button","disabled",""],[1,"toolbar-divider"],["contenteditable","false",1,"rich-text-content-preview"],[1,"icon-field"],[1,"icon-selector-preview"],[1,"selected-icon-preview"],[1,"icon-hint"],[1,"barcode-field"],[1,"barcode-input-preview"],["appearance","outline",1,"barcode-form-field"],["mat-icon-button","","matSuffix","","type","button",3,"disabled"],[1,"location-field"],[1,"location-inputs-preview"],["appearance","outline",1,"location-form-field"],["matInput","","type","number","placeholder","0.000000",3,"readonly"],["mat-icon-button","","type","button",3,"disabled"],[1,"table-field"],[1,"table-preview"],[1,"data-table-preview"],["colspan","4",1,"empty-table-preview"],["mat-stroked-button","","type","button",1,"add-row-btn",3,"disabled"],["multiple","",3,"formControlName","disabled"],[1,"checkbox-group"]],template:function(n,i){if(n&1){let s=P();a(0,"div",2)(1,"div",3)(2,"div",4)(3,"mat-icon",5),l(4),o(),a(5,"div")(6,"h2"),l(7),o(),a(8,"p",6),l(9),o()()(),a(10,"div",7)(11,"mat-icon"),l(12,"visibility"),o(),l(13," Preview Mode "),o()(),a(14,"mat-dialog-content"),p(15,Ji,7,0,"div",8)(16,wo,3,2,"form",9),o(),a(17,"mat-dialog-actions",10)(18,"button",11),h("click",function(){return f(s),u(i.close())}),l(19,"Close Preview"),o()()(),p(20,Nr,28,1,"ng-template",null,0,he)}n&2&&(r(4),g(i.data.workflowIcon||"description"),r(3),g(i.data.workflowName||"Untitled Workflow"),r(2),g(i.data.workflowDescription||"No description"),r(6),m(i.processedFields.length===0?15:16))},dependencies:[ve,_e,Ie,Pe,be,Oe,Me,Se,Ee,ke,$e,bn,wn,Ae,De,Ne,Ge,Ue,Le,Be,_n,Ve,He,ze,je,qe,we,We,Re,Fe,ae,oe,tt,et,Xn,Qn,Yn,Bn,Nn,An,Ln,on,Je,Qe,Ye,Ke,Xe,Ze,ri,Dn,Wn,Zn,Kn,Jn,ni,ei,ti],styles:["[_nghost-%COMP%]{display:block;overflow-x:hidden}.preview-dialog[_ngcontent-%COMP%]{min-width:850px;max-width:1000px;overflow-x:hidden}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 2rem;background:linear-gradient(135deg,#1976d2,#1565c0);color:#fff;margin:0 -24px;min-height:70px;flex-wrap:nowrap;gap:1.5rem}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1;min-width:0;overflow:hidden}.header-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-width:0;flex:1;overflow:hidden}.workflow-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px;opacity:.9;flex-shrink:0}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.35rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.dialog-header[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin:.25rem 0 0;opacity:.9;font-size:.8rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.preview-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;background:#ffffff40;padding:.5rem 1.25rem;border-radius:20px;font-size:.875rem;font-weight:500;white-space:nowrap;box-shadow:0 2px 4px #0000001a;flex-shrink:0;margin-right:.5rem}.preview-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}mat-dialog-content[_ngcontent-%COMP%]{padding:1.5rem!important;margin-top:1.5rem;max-height:60vh;overflow-x:hidden!important;overflow-y:auto!important;box-sizing:border-box}mat-dialog-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}mat-dialog-content[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}.form-card[_ngcontent-%COMP%]{margin-bottom:1rem;overflow-x:hidden;overflow-y:visible}.fields-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;max-width:100%;overflow-x:hidden;overflow-y:visible;padding-top:.5rem}.field-wrapper[_ngcontent-%COMP%]{min-width:0;max-width:100%;overflow:visible}.full-width[_ngcontent-%COMP%]{width:100%;max-width:100%}.radio-field[_ngcontent-%COMP%], .checkbox-field[_ngcontent-%COMP%], .checkbox-group-field[_ngcontent-%COMP%], .file-field[_ngcontent-%COMP%]{padding:.5rem 0}.field-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;color:#0009;margin-bottom:.5rem}.required[_ngcontent-%COMP%]{color:#f44336}.hint-text[_ngcontent-%COMP%]{font-size:.75rem;color:#0009;margin:.25rem 0 0}mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}mat-radio-group.horizontal-layout[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;gap:1rem}.checkbox-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.checkbox-options.horizontal-layout[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap;gap:1rem}.file-input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.file-hint[_ngcontent-%COMP%]{color:#0009;font-size:.875rem}.attachments-section[_ngcontent-%COMP%]{padding:.5rem 0}.file-upload-area[_ngcontent-%COMP%]{border:2px dashed #ccc;border-radius:8px;padding:2rem;text-align:center;color:#666;cursor:not-allowed;opacity:.7}.file-upload-area[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#999}.toggle-field[_ngcontent-%COMP%], .yes-no-field[_ngcontent-%COMP%]{padding:.5rem 0}.yes-no-field[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}.rating-field[_ngcontent-%COMP%]{padding:.5rem 0}.star-rating[_ngcontent-%COMP%]{display:flex;gap:.25rem}.star-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:pointer;color:#ffc107;font-size:28px;width:28px;height:28px;transition:transform .1s ease}.star-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover:not(.readonly){transform:scale(1.1)}.star-rating[_ngcontent-%COMP%]   mat-icon.readonly[_ngcontent-%COMP%]{cursor:default}.star-rating[_ngcontent-%COMP%]   mat-icon.filled[_ngcontent-%COMP%]{color:#ffc107}.slider-field[_ngcontent-%COMP%]{padding:.5rem 0}.slider-field[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{width:100%}.color-field[_ngcontent-%COMP%]{padding:.5rem 0}.color-field[_ngcontent-%COMP%]   .color-input[_ngcontent-%COMP%]{width:60px;height:40px;border:1px solid #ccc;border-radius:4px;cursor:pointer;padding:4px}.image-field[_ngcontent-%COMP%], .signature-field[_ngcontent-%COMP%], .rich-text-field[_ngcontent-%COMP%], .icon-field[_ngcontent-%COMP%], .barcode-field[_ngcontent-%COMP%], .location-field[_ngcontent-%COMP%], .table-field[_ngcontent-%COMP%]{padding:.5rem 0}.placeholder-box[_ngcontent-%COMP%]{border:2px dashed #ddd;border-radius:8px;padding:2rem;text-align:center;background:#fafafa;color:#999}.placeholder-box[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#ccc}.placeholder-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0}.signature-pad-preview[_ngcontent-%COMP%]{position:relative;border:1px solid #ddd;border-radius:4px;background:#fff}.signature-canvas-preview[_ngcontent-%COMP%]{height:120px;display:flex;align-items:center;justify-content:center}.signature-placeholder-text[_ngcontent-%COMP%]{color:#ccc;font-style:italic}.signature-pad-preview[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px}.rich-text-preview[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;overflow:hidden}.rich-text-toolbar-preview[_ngcontent-%COMP%]{display:flex;gap:.25rem;padding:.5rem;background:#f5f5f5;border-bottom:1px solid #ddd}.rich-text-toolbar-preview[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:32px;width:32px;height:32px}.rich-text-toolbar-preview[_ngcontent-%COMP%]   .toolbar-divider[_ngcontent-%COMP%]{width:1px;background:#ddd;margin:0 .25rem}.rich-text-content-preview[_ngcontent-%COMP%]{min-height:80px;padding:.75rem;color:#999}.icon-selector-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.selected-icon-preview[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px;height:50px;border:2px solid #ddd;border-radius:8px;background:#fff}.selected-icon-preview[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;color:#666}.icon-hint[_ngcontent-%COMP%]{color:#999;font-size:.875rem}.barcode-input-preview[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.barcode-form-field[_ngcontent-%COMP%]{flex:1}.location-inputs-preview[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:flex-start}.location-form-field[_ngcontent-%COMP%]{flex:1}.table-preview[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;overflow:hidden}.data-table-preview[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table-preview[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f5f5f5;padding:.5rem;text-align:left;font-weight:500;font-size:.875rem;border-bottom:1px solid #ddd}.data-table-preview[_ngcontent-%COMP%]   .empty-table-preview[_ngcontent-%COMP%]{text-align:center;padding:1rem;color:#999;font-style:italic}.add-row-btn[_ngcontent-%COMP%]{margin:.5rem}.file-upload-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0}.file-upload-area[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;padding:1rem 0;border-top:1px solid #eee;margin-top:1rem}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;color:#666}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;opacity:.5}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1rem 0 0}.empty-state[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:.875rem;opacity:.7}mat-dialog-actions[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-top:1px solid #eee}.group-card[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}.readonly-field[_ngcontent-%COMP%]{opacity:.7;background-color:#f5f5f5;border-radius:4px}.readonly-badge[_ngcontent-%COMP%]{font-size:.75rem;color:#666;font-style:italic}.stepper-container[_ngcontent-%COMP%]{margin-bottom:1.5rem;padding:0 1rem}.step-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:0}.step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;cursor:pointer;padding:.5rem;min-width:80px}.step-number[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:#e0e0e0;color:#0009;display:flex;align-items:center;justify-content:center;font-weight:500;font-size:.875rem;transition:all .3s ease}.step.active[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:#1976d2;color:#fff;box-shadow:0 2px 8px #1976d266}.step.completed[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.step.completed[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.step-label[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.75rem;color:#0009;text-align:center;max-width:100px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.step.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:#1976d2;font-weight:500}.step.completed[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:#4caf50}.step-connector[_ngcontent-%COMP%]{flex:1;height:2px;background:#e0e0e0;margin:0 .25rem;min-width:40px;max-width:80px;margin-top:-20px}.step-connector.completed[_ngcontent-%COMP%]{background:#4caf50}.screen-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;padding:1rem;background:#f5f5f5;border-radius:8px;margin-bottom:1rem}.screen-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px;width:28px;height:28px;color:#1976d2}.screen-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:#333}.screen-description[_ngcontent-%COMP%]{margin:.25rem 0 0;font-size:.875rem;color:#666}.screen-navigation[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 0;border-top:1px solid #eee;margin-top:1rem}.screen-counter[_ngcontent-%COMP%]{color:#666;font-size:.875rem}.dark-mode[_nghost-%COMP%]   .preview-header[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .preview-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1565c0,#0d47a1)}.dark-mode[_nghost-%COMP%]   .preview-content[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .preview-content[_ngcontent-%COMP%]{background:#1e1e1e}.dark-mode[_nghost-%COMP%]   .preview-workflow-title[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .preview-workflow-title[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .preview-section-title[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .preview-section-title[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .screen-title[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-title[_ngcontent-%COMP%]{color:#e0e0e0}.dark-mode[_nghost-%COMP%]   .preview-workflow-desc[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .preview-workflow-desc[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .preview-section-hint[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .preview-section-hint[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .field-hint[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .field-hint[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .screen-description[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-description[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .screen-counter[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-counter[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]   .preview-field-group[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .preview-field-group[_ngcontent-%COMP%]{background:#2d2d2d;border-color:#444}.dark-mode[_nghost-%COMP%]   .preview-group-header[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .preview-group-header[_ngcontent-%COMP%]{background:#333;border-color:#444}.dark-mode[_nghost-%COMP%]   .preview-group-title[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .preview-group-title[_ngcontent-%COMP%]{color:#e0e0e0}.dark-mode[_nghost-%COMP%]   .preview-group-desc[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .preview-group-desc[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]   .field-label[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .field-label[_ngcontent-%COMP%]{color:#e0e0e0}.dark-mode[_nghost-%COMP%]   .required-marker[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .required-marker[_ngcontent-%COMP%]{color:#ff6b6b}.dark-mode[_nghost-%COMP%]   .file-upload-zone[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .file-upload-zone[_ngcontent-%COMP%]{border-color:#444;background:#2d2d2d;color:#aaa}.dark-mode[_nghost-%COMP%]   .star-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .star-rating[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ffc107}.dark-mode[_nghost-%COMP%]   .color-preview[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .color-preview[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .slider-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .slider-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#e0e0e0}.dark-mode[_nghost-%COMP%]   .signature-pad[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .signature-pad[_ngcontent-%COMP%]{border-color:#444;background:#2d2d2d}.dark-mode[_nghost-%COMP%]   .signature-pad[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .signature-pad[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888}.dark-mode[_nghost-%COMP%]   .image-preview-area[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .image-preview-area[_ngcontent-%COMP%]{border-color:#444;background:#2d2d2d}.dark-mode[_nghost-%COMP%]   .image-preview-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .image-preview-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888}.dark-mode[_nghost-%COMP%]   .table-placeholder[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .table-placeholder[_ngcontent-%COMP%]{border-color:#444;background:#2d2d2d}.dark-mode[_nghost-%COMP%]   .table-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .table-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888}.dark-mode[_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#333;border-color:#444;color:#e0e0e0}.dark-mode[_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-color:#444;color:#e0e0e0}.dark-mode[_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   .empty-cell[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .table-field[_ngcontent-%COMP%]   .empty-cell[_ngcontent-%COMP%]{color:#666}.dark-mode[_nghost-%COMP%]   .icon-display[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .icon-display[_ngcontent-%COMP%]{border-color:#444;background:#2d2d2d}.dark-mode[_nghost-%COMP%]   .icon-name[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .icon-name[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]   .preview-divider[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .preview-divider[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]   .preview-label-field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .preview-label-field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]   .screen-navigation[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-navigation[_ngcontent-%COMP%]{border-color:#444}.dark-mode[_nghost-%COMP%]     .mat-mdc-form-field, .dark-mode   [_nghost-%COMP%]     .mat-mdc-form-field{color:#e0e0e0}.dark-mode[_nghost-%COMP%]     .mat-mdc-floating-label, .dark-mode   [_nghost-%COMP%]     .mat-mdc-floating-label{color:#aaa!important}.dark-mode[_nghost-%COMP%]     .mat-mdc-input-element, .dark-mode   [_nghost-%COMP%]     .mat-mdc-input-element{color:#e0e0e0!important}.dark-mode[_nghost-%COMP%]     .mat-mdc-select-value, .dark-mode   [_nghost-%COMP%]     .mat-mdc-select-value{color:#e0e0e0!important}.dark-mode[_nghost-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline__leading, .dark-mode   [_nghost-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline__leading, .dark-mode[_nghost-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline__notch, .dark-mode   [_nghost-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline__notch, .dark-mode[_nghost-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline__trailing, .dark-mode   [_nghost-%COMP%]     .mdc-text-field--outlined .mdc-notched-outline__trailing{border-color:#555!important}.dark-mode[_nghost-%COMP%]     .mat-mdc-form-field-hint, .dark-mode   [_nghost-%COMP%]     .mat-mdc-form-field-hint{color:#888!important}.dark-mode[_nghost-%COMP%]     .mat-expansion-panel, .dark-mode   [_nghost-%COMP%]     .mat-expansion-panel{background:#2d2d2d!important}.dark-mode[_nghost-%COMP%]     .mat-expansion-panel-header-title, .dark-mode   [_nghost-%COMP%]     .mat-expansion-panel-header-title{color:#e0e0e0!important}.dark-mode[_nghost-%COMP%]     .mat-mdc-radio-button .mdc-label, .dark-mode   [_nghost-%COMP%]     .mat-mdc-radio-button .mdc-label{color:#e0e0e0}.dark-mode[_nghost-%COMP%]     .mat-mdc-checkbox .mdc-label, .dark-mode   [_nghost-%COMP%]     .mat-mdc-checkbox .mdc-label{color:#e0e0e0}.dark-mode[_nghost-%COMP%]     .mat-mdc-slide-toggle .mdc-label, .dark-mode   [_nghost-%COMP%]     .mat-mdc-slide-toggle .mdc-label{color:#e0e0e0}.dark-mode[_nghost-%COMP%]     .mat-button-toggle-group, .dark-mode   [_nghost-%COMP%]     .mat-button-toggle-group{border-color:#444}.dark-mode[_nghost-%COMP%]     .mat-button-toggle, .dark-mode   [_nghost-%COMP%]     .mat-button-toggle{color:#e0e0e0;background:#2d2d2d}.dark-mode[_nghost-%COMP%]     .mat-button-toggle-checked, .dark-mode   [_nghost-%COMP%]     .mat-button-toggle-checked{background:#1976d2;color:#fff}"]})}return t})();var F=(t,d)=>d.id,di=(t,d)=>d.value,Q=(t,d)=>d.name;function Ar(t,d){t&1&&(a(0,"mat-error"),l(1,"Name is required"),o())}function Lr(t,d){if(t&1&&(a(0,"mat-option",17)(1,"mat-icon"),l(2),o(),l(3),o()),t&2){let e=d.$implicit;_("value",e),r(2),g(e),r(),x(" ",e," ")}}function Br(t,d){t&1&&(a(0,"div",72)(1,"mat-icon"),l(2,"info"),o(),a(3,"p"),l(4,"Without screens, the form displays as a single page. Add 2+ screens to create a multi-step wizard."),o()())}function Vr(t,d){if(t&1){let e=P();a(0,"mat-expansion-panel",30)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon",73),l(4,"drag_indicator"),o(),a(5,"mat-icon"),l(6),o(),l(7),o(),a(8,"mat-panel-description"),l(9),o()(),a(10,"div",74)(11,"div",10)(12,"mat-form-field",11)(13,"mat-label"),l(14,"Title"),o(),a(15,"input",75),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.title,i)||(s.title=i),u(i)}),o()(),a(16,"mat-form-field",11)(17,"mat-label"),l(18,"Display Order"),o(),a(19,"input",76),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.displayOrder,i)||(s.displayOrder=i),u(i)}),o()()(),a(20,"mat-form-field",14)(21,"mat-label"),l(22,"Description"),o(),a(23,"input",75),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.description,i)||(s.description=i),u(i)}),o()(),a(24,"mat-form-field",11)(25,"mat-label"),l(26,"Icon"),o(),a(27,"mat-select",77),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.icon,i)||(s.icon=i),u(i)}),a(28,"mat-option",78),l(29,"view_carousel"),o(),a(30,"mat-option",79),l(31,"article"),o(),a(32,"mat-option",80),l(33,"assignment"),o(),a(34,"mat-option",81),l(35,"description"),o(),a(36,"mat-option",82),l(37,"info"),o(),a(38,"mat-option",83),l(39,"checklist"),o(),a(40,"mat-option",84),l(41,"fact_check"),o(),a(42,"mat-option",85),l(43,"summarize"),o()()(),a(44,"div",86)(45,"button",87),h("click",function(){let i=f(e).$index,s=c();return u(s.removeScreen(i))}),a(46,"mat-icon"),l(47,"delete"),o(),l(48," Remove Screen "),o()()()()}if(t&2){let e=d.$implicit,n=c();r(6),g(e.icon||"view_carousel"),r(),x(" ",e.title||"Untitled Screen"," "),r(2),j(" ",n.getFieldsInScreen(e.id).length," fields, ",n.getFieldGroupsInScreen(e.id).length," groups "),r(6),w("ngModel",e.title),r(4),w("ngModel",e.displayOrder),r(4),w("ngModel",e.description),r(4),w("ngModel",e.icon)}}function Ur(t,d){t&1&&(a(0,"div",31)(1,"mat-icon"),l(2,"warning"),o(),a(3,"p"),l(4,"Add at least one more screen to enable multi-step navigation."),o()())}function Gr(t,d){if(t&1&&(a(0,"mat-option",17),l(1),o()),t&2){let e=d.$implicit;_("value",e.id),r(),g(e.title||"Untitled Screen")}}function zr(t,d){if(t&1){let e=P();a(0,"mat-form-field",14)(1,"mat-label"),l(2,"Screen"),o(),a(3,"mat-select",77),M("ngModelChange",function(i){f(e);let s=c().$implicit;return b(s.screenId,i)||(s.screenId=i),u(i)}),a(4,"mat-option",17),l(5,"None"),o(),v(6,Gr,2,2,"mat-option",17,F),o(),a(8,"mat-hint"),l(9,"Assign this group to a screen"),o()()}if(t&2){let e=c().$implicit,n=c();r(3),w("ngModel",e.screenId),r(),_("value",null),r(2),y(n.screens)}}function Hr(t,d){if(t&1){let e=P();a(0,"mat-expansion-panel",33)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),l(3),o(),a(4,"mat-panel-description"),l(5),o()(),a(6,"div",88)(7,"div",10)(8,"mat-form-field",11)(9,"mat-label"),l(10,"Title"),o(),a(11,"input",75),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.title,i)||(s.title=i),u(i)}),o()(),a(12,"mat-form-field",11)(13,"mat-label"),l(14,"Display Order"),o(),a(15,"input",76),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.displayOrder,i)||(s.displayOrder=i),u(i)}),o()()(),a(16,"mat-form-field",14)(17,"mat-label"),l(18,"Description"),o(),a(19,"input",75),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.description,i)||(s.description=i),u(i)}),o()(),p(20,zr,10,2,"mat-form-field",14),a(21,"div",21)(22,"mat-checkbox",77),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.collapsible,i)||(s.collapsible=i),u(i)}),l(23,"Collapsible"),o(),a(24,"mat-checkbox",77),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.collapsed,i)||(s.collapsed=i),u(i)}),l(25,"Start Collapsed"),o()(),a(26,"div",89)(27,"button",87),h("click",function(){let i=f(e).$index,s=c();return u(s.removeFieldGroup(i))}),a(28,"mat-icon"),l(29,"delete"),o(),l(30," Remove Group "),o()()()()}if(t&2){let e=d.$implicit,n=c();r(3),g(e.title||"Untitled Group"),r(2),x(" ",n.getFieldsInGroup(e.id).length," fields "),r(6),w("ngModel",e.title),r(4),w("ngModel",e.displayOrder),r(4),w("ngModel",e.description),r(),m(n.screens.length>0?20:-1),r(2),w("ngModel",e.collapsible),r(2),w("ngModel",e.collapsed)}}function qr(t,d){t&1&&(a(0,"div",34)(1,"mat-icon"),l(2,"dashboard"),o(),a(3,"p"),l(4,"No field groups defined. Groups help organize fields into titled sections."),o()())}function jr(t,d){if(t&1){let e=P();a(0,"div",90),h("click",function(){let i=f(e).$implicit,s=c();return u(s.addField(i.value))}),a(1,"mat-icon"),l(2),o(),a(3,"span"),l(4),o()()}if(t&2){let e=d.$implicit;r(2),g(e.icon),r(2),g(e.label)}}function $r(t,d){t&1&&(a(0,"div",94)(1,"p")(2,"strong"),l(3,"1."),o(),l(4," Click a function to copy its syntax to clipboard"),o(),a(5,"p")(6,"strong"),l(7,"2."),o(),l(8," Use functions in field default values or calculated fields"),o(),a(9,"p")(10,"strong"),l(11,"3."),o(),l(12," Replace "),a(13,"code"),l(14,"fieldName"),o(),l(15," with your actual field names"),o(),a(16,"p")(17,"strong"),l(18,"4."),o(),l(19," Functions can be nested: "),a(20,"code"),l(21,"UPPER(TRIM(fieldName))"),o()(),a(22,"p")(23,"strong"),l(24,"Example:"),o()(),a(25,"code",95),l(26,'IF(amount > 1000, "High Value", "Standard")'),o()())}function Qr(t,d){if(t&1){let e=P();a(0,"div",91)(1,"div",92),h("click",function(){f(e);let i=c();return u(i.showUsageGuide=!i.showUsageGuide)}),a(2,"mat-icon"),l(3),o(),a(4,"span"),l(5,"How to use functions"),o()(),p(6,$r,27,0,"div",93),o()}if(t&2){let e=c();r(3),g(e.showUsageGuide?"expand_less":"help_outline"),r(3),_("ngIf",e.showUsageGuide)}}function Yr(t,d){if(t&1){let e=P();a(0,"div",100),h("click",function(){let i=f(e).$implicit,s=c(2);return u(s.insertFunction(i))}),a(1,"div",101),l(2),o(),a(3,"div",102),l(4),o(),a(5,"div",103),l(6),o()()}if(t&2){let e=d.$implicit;r(2),g(e.name),r(2),g(e.description),r(2),g(e.category)}}function Xr(t,d){if(t&1&&(a(0,"div",99)(1,"mat-icon"),l(2,"search_off"),o(),a(3,"p"),l(4),o()()),t&2){let e=c(2);r(4),x('No functions found for "',e.functionSearch,'"')}}function Kr(t,d){if(t&1){let e=P();a(0,"div",52)(1,"div",96)(2,"span"),l(3),o(),a(4,"button",97),h("click",function(){f(e);let i=c();return u(i.functionSearch="")}),a(5,"mat-icon"),l(6,"close"),o()()(),v(7,Yr,7,3,"div",98,Q),p(9,Xr,5,1,"div",99),o()}if(t&2){let e=c();r(3),x("",e.getFilteredFunctions().length," results"),r(4),y(e.getFilteredFunctions()),r(2),m(e.getFilteredFunctions().length===0?9:-1)}}function Jr(t,d){if(t&1){let e=P();a(0,"div",100),h("click",function(){let i=f(e).$implicit,s=c(2);return u(s.insertFunction(i))}),a(1,"div",101),l(2),o(),a(3,"div",102),l(4),o()()}if(t&2){let e=d.$implicit;r(2),g(e.name),r(2),g(e.description)}}function Zr(t,d){if(t&1){let e=P();a(0,"div",100),h("click",function(){let i=f(e).$implicit,s=c(2);return u(s.insertFunction(i))}),a(1,"div",101),l(2),o(),a(3,"div",102),l(4),o()()}if(t&2){let e=d.$implicit;r(2),g(e.name),r(2),g(e.description)}}function el(t,d){if(t&1){let e=P();a(0,"div",100),h("click",function(){let i=f(e).$implicit,s=c(2);return u(s.insertFunction(i))}),a(1,"div",101),l(2),o(),a(3,"div",102),l(4),o()()}if(t&2){let e=d.$implicit;r(2),g(e.name),r(2),g(e.description)}}function tl(t,d){if(t&1){let e=P();a(0,"div",100),h("click",function(){let i=f(e).$implicit,s=c(2);return u(s.insertFunction(i))}),a(1,"div",101),l(2),o(),a(3,"div",102),l(4),o()()}if(t&2){let e=d.$implicit;r(2),g(e.name),r(2),g(e.description)}}function nl(t,d){if(t&1){let e=P();a(0,"div",100),h("click",function(){let i=f(e).$implicit,s=c(2);return u(s.insertFunction(i))}),a(1,"div",101),l(2),o(),a(3,"div",102),l(4),o()()}if(t&2){let e=d.$implicit;r(2),g(e.name),r(2),g(e.description)}}function il(t,d){if(t&1){let e=P();a(0,"div",100),h("click",function(){let i=f(e).$implicit,s=c(2);return u(s.insertFunction(i))}),a(1,"div",101),l(2),o(),a(3,"div",102),l(4),o()()}if(t&2){let e=d.$implicit;r(2),g(e.name),r(2),g(e.description)}}function ol(t,d){if(t&1){let e=P();a(0,"div",100),h("click",function(){let i=f(e).$implicit,s=c(2);return u(s.insertFunction(i))}),a(1,"div",101),l(2),o(),a(3,"div",102),l(4),o()()}if(t&2){let e=d.$implicit;r(2),g(e.name),r(2),g(e.description)}}function al(t,d){if(t&1){let e=P();a(0,"mat-accordion",53)(1,"mat-expansion-panel",104),h("opened",function(){f(e);let i=c();return u(i.expandedCategories.validation=!0)})("closed",function(){f(e);let i=c();return u(i.expandedCategories.validation=!1)}),a(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"mat-icon"),l(5,"rule"),o(),l(6),o()(),a(7,"div",105),v(8,Jr,5,2,"div",98,Q),o()(),a(10,"mat-expansion-panel",104),h("opened",function(){f(e);let i=c();return u(i.expandedCategories.string=!0)})("closed",function(){f(e);let i=c();return u(i.expandedCategories.string=!1)}),a(11,"mat-expansion-panel-header")(12,"mat-panel-title")(13,"mat-icon"),l(14,"text_fields"),o(),l(15),o()(),a(16,"div",105),v(17,Zr,5,2,"div",98,Q),o()(),a(19,"mat-expansion-panel",104),h("opened",function(){f(e);let i=c();return u(i.expandedCategories.number=!0)})("closed",function(){f(e);let i=c();return u(i.expandedCategories.number=!1)}),a(20,"mat-expansion-panel-header")(21,"mat-panel-title")(22,"mat-icon"),l(23,"pin"),o(),l(24),o()(),a(25,"div",105),v(26,el,5,2,"div",98,Q),o()(),a(28,"mat-expansion-panel",104),h("opened",function(){f(e);let i=c();return u(i.expandedCategories.date=!0)})("closed",function(){f(e);let i=c();return u(i.expandedCategories.date=!1)}),a(29,"mat-expansion-panel-header")(30,"mat-panel-title")(31,"mat-icon"),l(32,"calendar_today"),o(),l(33),o()(),a(34,"div",105),v(35,tl,5,2,"div",98,Q),o()(),a(37,"mat-expansion-panel",104),h("opened",function(){f(e);let i=c();return u(i.expandedCategories.boolean=!0)})("closed",function(){f(e);let i=c();return u(i.expandedCategories.boolean=!1)}),a(38,"mat-expansion-panel-header")(39,"mat-panel-title")(40,"mat-icon"),l(41,"toggle_on"),o(),l(42),o()(),a(43,"div",105),v(44,nl,5,2,"div",98,Q),o()(),a(46,"mat-expansion-panel",104),h("opened",function(){f(e);let i=c();return u(i.expandedCategories.utility=!0)})("closed",function(){f(e);let i=c();return u(i.expandedCategories.utility=!1)}),a(47,"mat-expansion-panel-header")(48,"mat-panel-title")(49,"mat-icon"),l(50,"functions"),o(),l(51),o()(),a(52,"div",105),v(53,il,5,2,"div",98,Q),o()(),a(55,"mat-expansion-panel",104),h("opened",function(){f(e);let i=c();return u(i.expandedCategories.other=!0)})("closed",function(){f(e);let i=c();return u(i.expandedCategories.other=!1)}),a(56,"mat-expansion-panel-header")(57,"mat-panel-title")(58,"mat-icon"),l(59,"more_horiz"),o(),l(60),o()(),a(61,"div",105),v(62,ol,5,2,"div",98,Q),o()()()}if(t&2){let e=c();r(),_("expanded",e.expandedCategories.validation),r(5),x(" Validation Functions (",e.validationFunctions.length,")"),r(2),y(e.validationFunctions),r(2),_("expanded",e.expandedCategories.string),r(5),x(" String Functions (",e.stringFunctions.length,")"),r(2),y(e.stringFunctions),r(2),_("expanded",e.expandedCategories.number),r(5),x(" Number Functions (",e.numberFunctions.length,")"),r(2),y(e.numberFunctions),r(2),_("expanded",e.expandedCategories.date),r(5),x(" Date Functions (",e.dateFunctions.length,")"),r(2),y(e.dateFunctions),r(2),_("expanded",e.expandedCategories.boolean),r(5),x(" Boolean/Logic Functions (",e.booleanFunctions.length,")"),r(2),y(e.booleanFunctions),r(2),_("expanded",e.expandedCategories.utility),r(5),x(" Utility Functions (",e.utilityFunctions.length,")"),r(2),y(e.utilityFunctions),r(2),_("expanded",e.expandedCategories.other),r(5),x(" Other Functions (",e.otherFunctions.length,")"),r(2),y(e.otherFunctions)}}function rl(t,d){t&1&&(a(0,"span",55)(1,"mat-icon"),l(2,"info"),o(),l(3," Fields added will be assigned to the active screen tab "),o())}function ll(t,d){if(t&1){let e=P();a(0,"button",5),h("click",function(){let i=f(e).$implicit,s=c(2);return u(s.setActiveScreen(i.id))}),a(1,"mat-icon"),l(2),o(),l(3),o()}if(t&2){let e=d.$implicit,n=c(2);S("active",n.activeScreenId===e.id),r(2),g(e.icon||"view_carousel"),r(),j(" ",e.title||"Untitled"," (",n.getFieldsInScreen(e.id).length,") ")}}function dl(t,d){if(t&1){let e=P();a(0,"div",56)(1,"button",5),h("click",function(){f(e);let i=c();return u(i.setActiveScreen(null))}),a(2,"mat-icon"),l(3,"apps"),o(),l(4),o(),v(5,ll,4,5,"button",106,F),o()}if(t&2){let e=c();r(),S("active",e.activeScreenId===null),r(3),x(" All Fields (",e.fields.length,") "),r(),y(e.screens)}}function sl(t,d){t&1&&(a(0,"mat-chip"),l(1,"Required"),o())}function cl(t,d){if(t&1){let e=P();a(0,"mat-form-field",14)(1,"mat-label"),l(2,"Options (one per line)"),o(),a(3,"textarea",121),M("ngModelChange",function(i){f(e);let s=c(2).$implicit;return b(s.optionsText,i)||(s.optionsText=i),u(i)}),o()()}if(t&2){let e=c(2).$implicit;r(3),w("ngModel",e.optionsText)}}function ml(t,d){if(t&1&&(a(0,"span",123),l(1),o()),t&2){let e=c().$implicit;r(),x("(",e.labelColumn,")")}}function pl(t,d){if(t&1&&(a(0,"mat-option",17),l(1),p(2,ml,2,1,"span",123),o()),t&2){let e=d.$implicit;_("value",e.id),r(),x(" ",e.displayName," "),r(),m(e.valueColumn&&e.labelColumn?2:-1)}}function _l(t,d){t&1&&(a(0,"p",122),l(1,"No SQL Objects available. "),a(2,"a",124),l(3,"Create one"),o()())}function fl(t,d){if(t&1){let e=P();a(0,"mat-form-field",14)(1,"mat-label"),l(2,"SQL Object"),o(),a(3,"mat-select",77),M("ngModelChange",function(i){f(e);let s=c(2).$implicit;return b(s.sqlObjectId,i)||(s.sqlObjectId=i),u(i)}),a(4,"mat-option",17),l(5,"-- Select SQL Object --"),o(),v(6,pl,3,3,"mat-option",17,F),o(),a(8,"mat-hint"),l(9,"Select an SQL Object to populate options dynamically"),o()(),p(10,_l,4,0,"p",122)}if(t&2){let e=c(2).$implicit,n=c();r(3),w("ngModel",e.sqlObjectId),r(),_("value",null),r(2),y(n.sqlObjects),r(4),m(n.sqlObjects.length===0?10:-1)}}function ul(t,d){if(t&1){let e=P();a(0,"mat-form-field",11)(1,"mat-label"),l(2,"Options Source"),o(),a(3,"mat-select",118),M("ngModelChange",function(i){f(e);let s=c().$implicit;return b(s.optionsSource,i)||(s.optionsSource=i),u(i)}),h("selectionChange",function(){f(e);let i=c().$implicit,s=c();return u(s.onOptionsSourceChange(i))}),a(4,"mat-option",119),l(5,"Static Options"),o(),a(6,"mat-option",120),l(7,"SQL Object"),o()(),a(8,"mat-hint"),l(9,"Choose where to get options from"),o()(),p(10,cl,4,1,"mat-form-field",14)(11,fl,11,3)}if(t&2){let e=c().$implicit;r(3),w("ngModel",e.optionsSource),r(7),m(e.optionsSource!=="SQL"?10:-1),r(),m(e.optionsSource==="SQL"?11:-1)}}function gl(t,d){if(t&1){let e=P();a(0,"mat-form-field",11)(1,"mat-label"),l(2,"Options Layout"),o(),a(3,"mat-select",77),M("ngModelChange",function(i){f(e);let s=c().$implicit;return b(s.optionsLayout,i)||(s.optionsLayout=i),u(i)}),a(4,"mat-option",125),l(5,"Vertical"),o(),a(6,"mat-option",126),l(7,"Horizontal"),o()(),a(8,"mat-hint"),l(9,"How to display the options"),o()()}if(t&2){let e=c().$implicit;r(3),w("ngModel",e.optionsLayout)}}function Cl(t,d){if(t&1&&(a(0,"mat-option",17),l(1),o()),t&2){let e=d.$implicit;_("value",e.id),r(),g(e.title||"Untitled Screen")}}function xl(t,d){if(t&1){let e=P();a(0,"div",10)(1,"mat-form-field",11)(2,"mat-label"),l(3,"Screen"),o(),a(4,"mat-select",77),M("ngModelChange",function(i){f(e);let s=c().$implicit;return b(s.screenId,i)||(s.screenId=i),u(i)}),a(5,"mat-option",17),l(6,"None"),o(),v(7,Cl,2,2,"mat-option",17,F),o(),a(9,"mat-hint"),l(10,"Assign field to a screen for multi-step forms"),o()()()}if(t&2){let e=c().$implicit,n=c();r(4),w("ngModel",e.screenId),r(),_("value",null),r(2),y(n.screens)}}function hl(t,d){if(t&1&&(a(0,"mat-option",17),l(1),o()),t&2){let e=d.$implicit;_("value",e.id),r(),g(e.title)}}function vl(t,d){t&1&&(a(0,"mat-hint"),l(1,"Only showing groups for this screen"),o())}function yl(t,d){if(t&1){let e=P();a(0,"mat-checkbox",127),M("ngModelChange",function(i){f(e);let s=c().$implicit;return b(s.isLimited,i)||(s.isLimited=i),u(i)}),h("change",function(){f(e);let i=c().$implicit,s=c();return u(s.onLimitedChange(i))}),l(1," Limited "),o()}if(t&2){let e=c().$implicit,n=c();w("ngModel",e.isLimited),_("disabled",!e.isLimited&&n.hasLimitedField())}}function wl(t,d){if(t&1){let e=P();a(0,"div",10)(1,"mat-form-field",11)(2,"mat-label"),l(3,"Max Rating"),o(),a(4,"mat-select",77),M("ngModelChange",function(i){f(e);let s=c().$implicit;return b(s.ratingMax,i)||(s.ratingMax=i),u(i)}),a(5,"mat-option",17),l(6,"3 Stars"),o(),a(7,"mat-option",17),l(8,"5 Stars"),o(),a(9,"mat-option",17),l(10,"10 Stars"),o()()()()}if(t&2){let e=c().$implicit;r(4),w("ngModel",e.ratingMax),r(),_("value",3),r(2),_("value",5),r(2),_("value",10)}}function bl(t,d){if(t&1){let e=P();a(0,"div",10)(1,"mat-form-field",11)(2,"mat-label"),l(3,"Min Value"),o(),a(4,"input",76),M("ngModelChange",function(i){f(e);let s=c().$implicit;return b(s.sliderMin,i)||(s.sliderMin=i),u(i)}),o()(),a(5,"mat-form-field",11)(6,"mat-label"),l(7,"Max Value"),o(),a(8,"input",76),M("ngModelChange",function(i){f(e);let s=c().$implicit;return b(s.sliderMax,i)||(s.sliderMax=i),u(i)}),o()(),a(9,"mat-form-field",11)(10,"mat-label"),l(11,"Step"),o(),a(12,"input",76),M("ngModelChange",function(i){f(e);let s=c().$implicit;return b(s.sliderStep,i)||(s.sliderStep=i),u(i)}),o()()()}if(t&2){let e=c().$implicit;r(4),w("ngModel",e.sliderMin),r(4),w("ngModel",e.sliderMax),r(4),w("ngModel",e.sliderStep)}}function Ml(t,d){if(t&1&&(a(0,"span",123),l(1),o()),t&2){let e=c().$implicit;r(),x("(",e.labelColumn,")")}}function Sl(t,d){if(t&1&&(a(0,"mat-option",17),l(1),p(2,Ml,2,1,"span",123),o()),t&2){let e=d.$implicit;_("value",e.id),r(),x(" ",e.displayName," "),r(),m(e.valueColumn&&e.labelColumn?2:-1)}}function Pl(t,d){if(t&1&&(a(0,"mat-option",17)(1,"mat-icon"),l(2),o(),l(3),o()),t&2){let e=d.$implicit;_("value",e.value),r(2),g(e.icon),r(),x(" ",e.label," ")}}function Ol(t,d){t&1&&(a(0,"div",129)(1,"mat-icon"),l(2,"warning"),o(),l(3," No SQL Objects available. "),a(4,"a",124),l(5,"Create one first"),o()())}function El(t,d){if(t&1){let e=P();a(0,"mat-form-field",11)(1,"mat-label"),l(2,"Options Layout"),o(),a(3,"mat-select",77),M("ngModelChange",function(i){f(e);let s=c(2).$implicit;return b(s.optionsLayout,i)||(s.optionsLayout=i),u(i)}),a(4,"mat-option",125),l(5,"Vertical"),o(),a(6,"mat-option",126),l(7,"Horizontal"),o()()()}if(t&2){let e=c(2).$implicit;r(3),w("ngModel",e.optionsLayout)}}function kl(t,d){if(t&1){let e=P();a(0,"div",111)(1,"div",10)(2,"mat-form-field",11)(3,"mat-label"),l(4,"SQL Object"),o(),a(5,"mat-select",128),M("ngModelChange",function(i){f(e);let s=c().$implicit;return b(s.sqlObjectId,i)||(s.sqlObjectId=i),u(i)}),a(6,"mat-option",17),l(7,"-- Select SQL Object --"),o(),v(8,Sl,3,3,"mat-option",17,F),o(),a(10,"mat-hint"),l(11,"Select the SQL Object to fetch options from"),o()(),a(12,"mat-form-field",11)(13,"mat-label"),l(14,"View Type"),o(),a(15,"mat-select",128),M("ngModelChange",function(i){f(e);let s=c().$implicit;return b(s.viewType,i)||(s.viewType=i),u(i)}),v(16,Pl,4,3,"mat-option",17,di),o(),a(18,"mat-hint"),l(19,"How to display the options"),o()()(),p(20,Ol,6,0,"div",129)(21,El,8,1,"mat-form-field",11),o()}if(t&2){let e=c().$implicit,n=c();r(5),w("ngModel",e.sqlObjectId),r(),_("value",null),r(2),y(n.sqlObjects),r(7),w("ngModel",e.viewType),r(),y(n.viewTypes),r(4),m(n.sqlObjects.length===0?20:-1),r(),m(e.viewType==="RADIO"||e.viewType==="CHECKBOX_GROUP"?21:-1)}}function Tl(t,d){if(t&1){let e=P();a(0,"mat-expansion-panel",58)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon",73),l(4,"drag_indicator"),o(),a(5,"mat-icon"),l(6),o(),l(7),o(),a(8,"mat-panel-description"),l(9),p(10,sl,2,0,"mat-chip"),o()(),a(11,"div",107)(12,"div",10)(13,"mat-form-field",11)(14,"mat-label"),l(15,"Label"),o(),a(16,"input",75),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.label,i)||(s.label=i),u(i)}),o()(),a(17,"mat-form-field",11)(18,"mat-label"),l(19,"Name"),o(),a(20,"input",75),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.name,i)||(s.name=i),u(i)}),o()()(),a(21,"mat-form-field",14)(22,"mat-label"),l(23,"Placeholder"),o(),a(24,"input",75),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.placeholder,i)||(s.placeholder=i),u(i)}),o()(),a(25,"mat-form-field",14)(26,"mat-label"),l(27,"Value"),o(),a(28,"input",108),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.value,i)||(s.value=i),u(i)}),o(),a(29,"mat-hint"),l(30,"Enter a preset value or use a function (click Functions tab to copy syntax)"),o()(),p(31,ul,12,3)(32,gl,10,1,"mat-form-field",11)(33,xl,11,2,"div",10),a(34,"div",10)(35,"mat-form-field",11)(36,"mat-label"),l(37,"Field Group"),o(),a(38,"mat-select",77),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.fieldGroupId,i)||(s.fieldGroupId=i),u(i)}),a(39,"mat-option",17),l(40,"None"),o(),v(41,hl,2,2,"mat-option",17,F),o(),p(43,vl,2,0,"mat-hint"),o(),a(44,"mat-form-field",11)(45,"mat-label"),l(46,"Column Span"),o(),a(47,"mat-select",77),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.columnSpan,i)||(s.columnSpan=i),u(i)}),a(48,"mat-option",17),l(49,"1 Column"),o(),a(50,"mat-option",17),l(51,"2 Columns"),o(),a(52,"mat-option",17),l(53,"3 Columns"),o(),a(54,"mat-option",17),l(55,"Full Width"),o()()()(),a(56,"div",21)(57,"mat-checkbox",77),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.required,i)||(s.required=i),u(i)}),l(58,"Required"),o(),a(59,"mat-checkbox",77),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.readOnly,i)||(s.readOnly=i),u(i)}),l(60,"Read Only"),o(),a(61,"mat-checkbox",77),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.hidden,i)||(s.hidden=i),u(i)}),l(62,"Hidden"),o(),a(63,"mat-checkbox",77),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.isUnique,i)||(s.isUnique=i),u(i)}),l(64,"Unique"),o(),a(65,"mat-checkbox",77),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.isTitle,i)||(s.isTitle=i),u(i)}),l(66,"Make Title"),o(),a(67,"mat-checkbox",109),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.inSummary,i)||(s.inSummary=i),u(i)}),l(68,"Summary"),o(),p(69,yl,2,2,"mat-checkbox",110),o(),p(70,wl,11,4,"div",10)(71,bl,13,3,"div",10)(72,kl,22,5,"div",111),a(73,"mat-expansion-panel",112)(74,"mat-expansion-panel-header")(75,"mat-panel-title")(76,"mat-icon"),l(77,"rule"),o(),l(78," Validation & Transformation "),o()(),a(79,"mat-form-field",14)(80,"mat-label"),l(81,"Validation Expression"),o(),a(82,"textarea",113),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.validation,i)||(s.validation=i),u(i)}),o(),a(83,"mat-hint"),l(84,"Required(), MinLength(n), MaxLength(n), Min(n), Max(n), Range(min,max), Email(), Phone(), URL(), Pattern(/regex/), Unique(), Digits(), Alpha(), AlphaNumeric(), CreditCard(), ValidWhen(expr), InvalidWhen(expr). Combine with AND."),o()(),a(85,"mat-form-field",14)(86,"mat-label"),l(87,"Transform Expression"),o(),a(88,"textarea",114),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.customValidationRule,i)||(s.customValidationRule=i),u(i)}),o(),a(89,"mat-hint"),l(90,"Transform value: UPPER(), LOWER(), TRIM(), ROUND(decimals), PAD_LEFT(len, char), SUBSTRING(start, end)"),o()(),a(91,"mat-form-field",14)(92,"mat-label"),l(93,"Custom Error Message"),o(),a(94,"input",115),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.validationMessage,i)||(s.validationMessage=i),u(i)}),o()(),a(95,"mat-form-field",14)(96,"mat-label"),l(97,"Visibility Expression"),o(),a(98,"textarea",116),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.visibilityExpression,i)||(s.visibilityExpression=i),u(i)}),o(),a(99,"mat-hint"),l(100),o()()(),a(101,"div",117)(102,"button",87),h("click",function(){let i=f(e).$index,s=c();return u(s.removeField(i))}),a(103,"mat-icon"),l(104,"delete"),o(),l(105," Remove "),o()()()()}if(t&2){let e=d.$implicit,n=c();r(6),g(n.getFieldIcon(e.type)),r(),x(" ",e.label||"Untitled Field"," "),r(2),x(" ",e.type," "),r(),m(e.required?10:-1),r(6),w("ngModel",e.label),r(4),w("ngModel",e.name),r(4),w("ngModel",e.placeholder),r(4),w("ngModel",e.value),r(3),m(e.type==="SELECT"||e.type==="MULTISELECT"||e.type==="RADIO"||e.type==="CHECKBOX_GROUP"?31:-1),r(),m(e.type==="RADIO"||e.type==="CHECKBOX_GROUP"?32:-1),r(),m(n.screens.length>0?33:-1),r(5),w("ngModel",e.fieldGroupId),r(),_("value",null),r(2),y(n.getAvailableFieldGroups(e)),r(2),m(n.screens.length>0&&n.activeScreenId?43:-1),r(4),w("ngModel",e.columnSpan),r(),_("value",1),r(2),_("value",2),r(2),_("value",3),r(2),_("value",4),r(3),w("ngModel",e.required),r(2),w("ngModel",e.readOnly),r(2),w("ngModel",e.hidden),r(2),w("ngModel",e.isUnique),r(2),w("ngModel",e.isTitle),r(2),w("ngModel",e.inSummary),r(2),m(n.isFinancialWorkflow()&&n.isAmountField(e.type)?69:-1),r(),m(e.type==="RATING"?70:-1),r(),m(e.type==="SLIDER"?71:-1),r(),m(e.type==="SQL_OBJECT"?72:-1),r(10),w("ngModel",e.validation),r(6),w("ngModel",e.customValidationRule),r(6),w("ngModel",e.validationMessage),r(4),w("ngModel",e.visibilityExpression),r(2),j("Expression to control visibility. Use @","{","fieldName","}"," to reference other fields. Default: true")}}function Il(t,d){if(t&1&&(a(0,"p"),l(1),o()),t&2){let e=c(2);r(),x('No fields in this screen. Click on field types to add fields to "',e.getScreenTitle(e.activeScreenId),'"')}}function Fl(t,d){t&1&&(a(0,"p"),l(1,"Click on field types to add them to your form"),o())}function Rl(t,d){if(t&1&&(a(0,"div",59)(1,"mat-icon"),l(2,"touch_app"),o(),p(3,Il,2,1,"p")(4,Fl,2,0,"p"),o()),t&2){let e=c();r(3),m(e.activeScreenId?3:4)}}function Wl(t,d){if(t&1&&(l(0),Dt(1,"currency")),t&2){let e=c().$implicit;x(" - Up to ",Nt(1,1,e.amountLimit)," ")}}function Dl(t,d){if(t&1&&(a(0,"mat-option",17)(1,"span",139)(2,"strong"),l(3),o(),a(4,"small"),l(5),o()()()),t&2){let e=d.$implicit;_("value",e.id),r(3),g(e.fullName),r(2),g(e.email)}}function Nl(t,d){t&1&&(a(0,"mat-option",138),l(1,"No users found"),o())}function Al(t,d){if(t&1){let e=P();a(0,"mat-form-field",14)(1,"mat-label"),l(2,"Select User"),o(),a(3,"input",136),M("ngModelChange",function(i){f(e);let s=c().$implicit;return b(s.userSearchText,i)||(s.userSearchText=i),u(i)}),h("ngModelChange",function(i){f(e);let s=c().$implicit,C=c();return u(C.filterUsers(s,i))}),o(),a(4,"mat-autocomplete",137,0),h("optionSelected",function(i){f(e);let s=c().$implicit,C=c();return u(C.onUserAutoSelected(s,i))}),v(6,Dl,6,3,"mat-option",17,F),p(8,Nl,2,0,"mat-option",138),o(),a(9,"mat-icon",50),l(10,"search"),o(),a(11,"mat-hint"),l(12,"Type to search for a user"),o()()}if(t&2){let e=L(5),n=c().$implicit,i=c();r(3),_("matAutocomplete",e),w("ngModel",n.userSearchText),r(),_("displayWith",i.displayUserFn.bind(i)),r(2),y(n.filteredUsers||i.users),r(2),m((n.filteredUsers||i.users).length===0?8:-1)}}function Ll(t,d){if(t&1&&(a(0,"mat-option",17),l(1),o()),t&2){let e=d.$implicit;_("value",e.id),r(),g(e.name)}}function Bl(t,d){if(t&1){let e=P();a(0,"mat-form-field",14)(1,"mat-label"),l(2,"Select Role"),o(),a(3,"mat-select",77),M("ngModelChange",function(i){f(e);let s=c().$implicit;return b(s.roleId,i)||(s.roleId=i),u(i)}),v(4,Ll,2,2,"mat-option",17,F),o()()}if(t&2){let e=c().$implicit,n=c();r(3),w("ngModel",e.roleId),r(),y(n.roles)}}function Vl(t,d){if(t&1){let e=P();a(0,"mat-expansion-panel",62)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon",73),l(4,"drag_indicator"),o(),l(5),o(),a(6,"mat-panel-description"),l(7),p(8,Wl,2,3),o()(),a(9,"div",130)(10,"div",10)(11,"mat-form-field",11)(12,"mat-label"),l(13,"Level"),o(),a(14,"input",131),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.level,i)||(s.level=i),u(i)}),o(),a(15,"mat-hint"),l(16,"Same level = parallel approval"),o()(),a(17,"mat-form-field",11)(18,"mat-label"),l(19,"Approver Type"),o(),a(20,"mat-select",118),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.approverType,i)||(s.approverType=i),u(i)}),h("selectionChange",function(){let i=f(e).$implicit,s=c();return u(s.onApproverTypeChange(i))}),a(21,"mat-option",132),l(22,"Specific User"),o(),a(23,"mat-option",133),l(24,"Role"),o()()()(),p(25,Al,13,4,"mat-form-field",14)(26,Bl,6,1,"mat-form-field",14),a(27,"div",10)(28,"mat-form-field",11)(29,"mat-label"),l(30,"Amount Limit"),o(),a(31,"input",76),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.amountLimit,i)||(s.amountLimit=i),u(i)}),o(),a(32,"mat-hint"),l(33,"Leave blank for no limit"),o()(),a(34,"mat-form-field",11)(35,"mat-label"),l(36,"Email"),o(),a(37,"input",134),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.email,i)||(s.email=i),u(i)}),o(),a(38,"mat-hint"),l(39),o()()(),a(40,"div",21)(41,"mat-checkbox",77),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.canEscalate,i)||(s.canEscalate=i),u(i)}),l(42,"Can Escalate"),o(),a(43,"mat-checkbox",77),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.requireComment,i)||(s.requireComment=i),u(i)}),l(44,"Require Comment"),o(),a(45,"mat-checkbox",77),M("ngModelChange",function(i){let s=f(e).$implicit;return b(s.emailNotification,i)||(s.emailNotification=i),u(i)}),l(46,"Email Notification"),o()(),a(47,"div",135)(48,"button",87),h("click",function(){let i=f(e).$index,s=c();return u(s.removeApprover(i))}),a(49,"mat-icon"),l(50,"delete"),o(),l(51," Remove Level "),o()()()()}if(t&2){let e=d.$implicit,n=c();r(5),j(" Level ",e.level,": ",n.getApproverDisplayName(e)||"Approver"," "),r(2),x(" ",e.approverType," "),r(),m(e.amountLimit?8:-1),r(6),w("ngModel",e.level),r(6),w("ngModel",e.approverType),r(5),m(e.approverType==="USER"?25:-1),r(),m(e.approverType==="ROLE"?26:-1),r(5),w("ngModel",e.amountLimit),r(6),w("ngModel",e.email),_("readonly",e.approverType==="USER"),r(2),g(e.approverType==="USER"?"Auto-populated from user":"For email notifications"),r(2),w("ngModel",e.canEscalate),r(2),w("ngModel",e.requireComment),r(2),w("ngModel",e.emailNotification)}}function Ul(t,d){t&1&&(a(0,"div",34)(1,"mat-icon"),l(2,"approval"),o(),a(3,"p"),l(4,"No approval levels defined. Add levels to create an approval chain."),o()())}function Gl(t,d){if(t&1&&(a(0,"mat-option",17),l(1),o()),t&2){let e=d.$implicit;_("value",e.id),r(),g(e.name)}}function zl(t,d){if(t&1&&l(0),t&2){let e=c().$implicit;x(" (",e.corporateName,") ")}}function Hl(t,d){if(t&1&&(a(0,"mat-option",17),l(1),p(2,zl,1,1),o()),t&2){let e=d.$implicit;_("value",e.id),r(),x("",e.name," "),r(),m(e.corporateName?2:-1)}}function ql(t,d){if(t&1&&l(0),t&2){let e=c().$implicit;x(" (",e.sbuName,") ")}}function jl(t,d){if(t&1&&(a(0,"mat-option",17),l(1),p(2,ql,1,1),o()),t&2){let e=d.$implicit;_("value",e.id),r(),x("",e.name," "),r(),m(e.sbuName?2:-1)}}function $l(t,d){if(t&1&&l(0),t&2){let e=c().$implicit;x(" (",e.corporateName,") ")}}function Ql(t,d){if(t&1&&(a(0,"mat-option",17),l(1),p(2,$l,1,1),o()),t&2){let e=d.$implicit;_("value",e.id),r(),x("",e.name," "),r(),m(e.corporateName?2:-1)}}function Yl(t,d){t&1&&(a(0,"p",70),l(1,"No restrictions - All users can access this workflow"),o())}function Xl(t,d){if(t&1&&(a(0,"mat-chip"),l(1),o()),t&2){let e=d.$implicit;r(),g(e)}}function Kl(t,d){if(t&1&&(a(0,"div",71),v(1,Xl,2,1,"mat-chip",null,z),o()),t&2){let e=c();r(),y(e.getAccessSummary())}}var Zs=(()=>{class t{fb;workflowService;userService;departmentService;sqlObjectService;router;route;snackBar;dialog;isEdit=!1;loading=!1;workflowId=null;workflowName="";formId=null;destroy$=new K;basicForm;fields=[];fieldGroups=[];screens=[];approvers=[];workflowTypes=[];users=[];roles=[];corporates=[];sbus=[];filteredSbus=[];branches=[];filteredBranches=[];departments=[];filteredDepartments=[];sqlObjects=[];activeScreenId=null;functionSearch="";showUsageGuide=!1;icons=["description","assignment","receipt","request_quote","shopping_cart","account_balance","attach_money","credit_card","flight","hotel","directions_car","inventory","local_shipping","build","engineering"];fieldTypes=[{value:"TEXT",label:"Text",icon:"text_fields"},{value:"TEXTAREA",label:"Text Area",icon:"notes"},{value:"NUMBER",label:"Number",icon:"pin"},{value:"EMAIL",label:"Email",icon:"email"},{value:"PHONE",label:"Phone",icon:"phone"},{value:"PASSWORD",label:"Password",icon:"password"},{value:"DATE",label:"Date",icon:"calendar_today"},{value:"DATETIME",label:"Date & Time",icon:"schedule"},{value:"TIME",label:"Time",icon:"access_time"},{value:"SELECT",label:"Dropdown",icon:"arrow_drop_down_circle"},{value:"MULTISELECT",label:"Multi-Select",icon:"checklist_rtl"},{value:"RADIO",label:"Radio Buttons",icon:"radio_button_checked"},{value:"CHECKBOX",label:"Checkbox",icon:"check_box"},{value:"CHECKBOX_GROUP",label:"Checkbox Group",icon:"checklist"},{value:"TOGGLE",label:"Toggle Switch",icon:"toggle_on"},{value:"YES_NO",label:"Yes/No",icon:"thumbs_up_down"},{value:"FILE",label:"File Upload",icon:"attach_file"},{value:"IMAGE",label:"Image Upload",icon:"image"},{value:"CURRENCY",label:"Currency",icon:"attach_money"},{value:"URL",label:"URL",icon:"link"},{value:"COLOR",label:"Color Picker",icon:"palette"},{value:"RATING",label:"Star Rating",icon:"star"},{value:"SLIDER",label:"Slider",icon:"linear_scale"},{value:"SIGNATURE",label:"Signature",icon:"draw"},{value:"RICH_TEXT",label:"Rich Text",icon:"format_quote"},{value:"ICON",label:"Icon Picker",icon:"emoji_symbols"},{value:"BARCODE",label:"Barcode/QR",icon:"qr_code_scanner"},{value:"LOCATION",label:"Location",icon:"location_on"},{value:"TABLE",label:"Table/Grid",icon:"table_chart"},{value:"USER",label:"User Select",icon:"person_search"},{value:"SQL_OBJECT",label:"SQL Object",icon:"storage",description:"Dynamic options from SQL Object tables"},{value:"HIDDEN",label:"Hidden Field",icon:"visibility_off"},{value:"LABEL",label:"Label/Text",icon:"label"},{value:"DIVIDER",label:"Divider",icon:"horizontal_rule"}];viewTypes=[{value:"SELECT",label:"Dropdown",icon:"arrow_drop_down_circle"},{value:"MULTISELECT",label:"Multi-Select",icon:"checklist_rtl"},{value:"RADIO",label:"Radio Buttons",icon:"radio_button_checked"},{value:"CHECKBOX_GROUP",label:"Checkbox Group",icon:"checklist"}];expandedCategories={validation:!0,string:!1,number:!1,date:!1,boolean:!1,utility:!1,other:!1};validationFunctions=[{name:"ValidWhen(condition, message?)",description:"Field is valid when condition is true",syntax:'ValidWhen(@{amount} > 0, "Amount must be positive")'},{name:"InvalidWhen(condition, message?)",description:"Field is invalid when condition is true",syntax:'InvalidWhen(@{status} == "CLOSED", "Cannot modify closed items")'},{name:"CheckValid(condition, message?)",description:"Validate field value against condition",syntax:'CheckValid(LENGTH(@{code}) == 6, "Code must be 6 characters")'},{name:"VisibleWhen(condition)",description:"Show field when condition is true, hide otherwise",syntax:"VisibleWhen(@{showDetails} == true)"},{name:"MandatoryWhen(condition, message?)",description:"Field is required when condition is true",syntax:'MandatoryWhen(@{type} == "EXTERNAL", "Required for external requests")'},{name:"ReadOnlyWhen(condition)",description:"Field is readonly when condition is true",syntax:'ReadOnlyWhen(@{status} != "DRAFT")'},{name:"HiddenWhen(condition)",description:"Hide field when condition is true",syntax:'HiddenWhen(@{userType} == "GUEST")'},{name:"RegexWhen(condition, pattern, message?)",description:"Validate against regex when condition is true",syntax:'RegexWhen(@{country} == "US", "^\\d{5}$", "Invalid US ZIP code")'}];stringFunctions=[{name:"UPPER(field)",description:"Convert text to uppercase",syntax:"UPPER(fieldName)"},{name:"LOWER(field)",description:"Convert text to lowercase",syntax:"LOWER(fieldName)"},{name:"TRIM(field)",description:"Remove leading/trailing spaces",syntax:"TRIM(fieldName)"},{name:"LTRIM(field)",description:"Remove leading spaces",syntax:"LTRIM(fieldName)"},{name:"RTRIM(field)",description:"Remove trailing spaces",syntax:"RTRIM(fieldName)"},{name:"CONCAT(a, b)",description:"Join two or more text values",syntax:"CONCAT(field1, field2)"},{name:"CONCAT_WS(sep, a, b)",description:"Join with separator",syntax:'CONCAT_WS("-", field1, field2)'},{name:"LEFT(field, n)",description:"Get first n characters",syntax:"LEFT(fieldName, 5)"},{name:"RIGHT(field, n)",description:"Get last n characters",syntax:"RIGHT(fieldName, 5)"},{name:"SUBSTRING(field, start, len)",description:"Extract part of text",syntax:"SUBSTRING(fieldName, 1, 5)"},{name:"LENGTH(field)",description:"Get text length",syntax:"LENGTH(fieldName)"},{name:"REPLACE(field, old, new)",description:"Replace text",syntax:'REPLACE(fieldName, "old", "new")'},{name:"REPLACE_ALL(field, old, new)",description:"Replace all occurrences",syntax:'REPLACE_ALL(fieldName, "old", "new")'},{name:"CONTAINS(field, text)",description:"Check if text contains value",syntax:'CONTAINS(fieldName, "search")'},{name:"STARTS_WITH(field, text)",description:"Check if text starts with value",syntax:'STARTS_WITH(fieldName, "prefix")'},{name:"ENDS_WITH(field, text)",description:"Check if text ends with value",syntax:'ENDS_WITH(fieldName, "suffix")'},{name:"REVERSE(field)",description:"Reverse text string",syntax:"REVERSE(fieldName)"},{name:"REPEAT(field, n)",description:"Repeat text n times",syntax:"REPEAT(fieldName, 3)"},{name:"PAD_LEFT(field, len, char)",description:"Pad text on left",syntax:'PAD_LEFT(fieldName, 10, "0")'},{name:"PAD_RIGHT(field, len, char)",description:"Pad text on right",syntax:'PAD_RIGHT(fieldName, 10, " ")'},{name:"CAPITALIZE(field)",description:"Capitalize first letter",syntax:"CAPITALIZE(fieldName)"},{name:"TITLE_CASE(field)",description:"Title case all words",syntax:"TITLE_CASE(fieldName)"},{name:"SPLIT(field, sep)",description:"Split text by separator",syntax:'SPLIT(fieldName, ",")'},{name:"JOIN(array, sep)",description:"Join array with separator",syntax:'JOIN(arrayField, ", ")'},{name:"INDEX_OF(field, text)",description:"Find position of text",syntax:'INDEX_OF(fieldName, "search")'},{name:"REGEX_MATCH(field, pattern)",description:"Match regex pattern",syntax:'REGEX_MATCH(fieldName, "\\\\d+")'},{name:"REGEX_REPLACE(field, pattern, rep)",description:"Replace with regex",syntax:'REGEX_REPLACE(fieldName, "\\\\d+", "#")'}];numberFunctions=[{name:"SUM(a, b, ...)",description:"Add numbers together",syntax:"SUM(field1, field2, field3)"},{name:"SUBTRACT(a, b)",description:"Subtract b from a",syntax:"SUBTRACT(field1, field2)"},{name:"MULTIPLY(a, b)",description:"Multiply numbers",syntax:"MULTIPLY(field1, field2)"},{name:"DIVIDE(a, b)",description:"Divide a by b",syntax:"DIVIDE(field1, field2)"},{name:"ROUND(field, decimals)",description:"Round to decimal places",syntax:"ROUND(fieldName, 2)"},{name:"FLOOR(field)",description:"Round down to integer",syntax:"FLOOR(fieldName)"},{name:"CEIL(field)",description:"Round up to integer",syntax:"CEIL(fieldName)"},{name:"TRUNC(field)",description:"Truncate decimal part",syntax:"TRUNC(fieldName)"},{name:"ABS(field)",description:"Get absolute value",syntax:"ABS(fieldName)"},{name:"SIGN(field)",description:"Get sign (-1, 0, 1)",syntax:"SIGN(fieldName)"},{name:"MIN(a, b, ...)",description:"Get minimum value",syntax:"MIN(field1, field2)"},{name:"MAX(a, b, ...)",description:"Get maximum value",syntax:"MAX(field1, field2)"},{name:"AVERAGE(a, b, ...)",description:"Calculate average",syntax:"AVERAGE(field1, field2, field3)"},{name:"MEDIAN(a, b, ...)",description:"Calculate median",syntax:"MEDIAN(field1, field2, field3)"},{name:"COUNT(a, b, ...)",description:"Count non-empty values",syntax:"COUNT(field1, field2, field3)"},{name:"PERCENTAGE(value, total)",description:"Calculate percentage",syntax:"PERCENTAGE(part, total)"},{name:"MOD(a, b)",description:"Get remainder of division",syntax:"MOD(field1, field2)"},{name:"POWER(base, exp)",description:"Raise to power",syntax:"POWER(fieldName, 2)"},{name:"SQRT(field)",description:"Square root",syntax:"SQRT(fieldName)"},{name:"LOG(field)",description:"Natural logarithm",syntax:"LOG(fieldName)"},{name:"LOG10(field)",description:"Base 10 logarithm",syntax:"LOG10(fieldName)"},{name:"EXP(field)",description:"e raised to power",syntax:"EXP(fieldName)"},{name:"CLAMP(field, min, max)",description:"Limit to range",syntax:"CLAMP(fieldName, 0, 100)"},{name:"IS_NUMBER(field)",description:"Check if value is number",syntax:"IS_NUMBER(fieldName)"}];dateFunctions=[{name:"TODAY()",description:"Get current date",syntax:"TODAY()"},{name:"NOW()",description:"Get current date and time",syntax:"NOW()"},{name:"DATE(y, m, d)",description:"Create date from parts",syntax:"DATE(2024, 12, 25)"},{name:"TIME(h, m, s)",description:"Create time from parts",syntax:"TIME(14, 30, 0)"},{name:"DATE_FORMAT(field, format)",description:"Format date",syntax:'DATE_FORMAT(fieldName, "DD/MM/YYYY")'},{name:"DATE_PARSE(text, format)",description:"Parse date from text",syntax:'DATE_PARSE(fieldName, "DD/MM/YYYY")'},{name:"DATE_ADD(field, n, unit)",description:"Add time to date",syntax:'DATE_ADD(fieldName, 7, "days")'},{name:"DATE_SUBTRACT(field, n, unit)",description:"Subtract time from date",syntax:'DATE_SUBTRACT(fieldName, 1, "month")'},{name:"DATE_DIFF(a, b, unit)",description:"Difference between dates",syntax:'DATE_DIFF(startDate, endDate, "days")'},{name:"YEAR(field)",description:"Extract year from date",syntax:"YEAR(fieldName)"},{name:"MONTH(field)",description:"Extract month from date",syntax:"MONTH(fieldName)"},{name:"DAY(field)",description:"Extract day from date",syntax:"DAY(fieldName)"},{name:"HOUR(field)",description:"Extract hour from datetime",syntax:"HOUR(fieldName)"},{name:"MINUTE(field)",description:"Extract minute from datetime",syntax:"MINUTE(fieldName)"},{name:"SECOND(field)",description:"Extract second from datetime",syntax:"SECOND(fieldName)"},{name:"WEEKDAY(field)",description:"Get day of week (1-7)",syntax:"WEEKDAY(fieldName)"},{name:"WEEK_OF_YEAR(field)",description:"Get week number",syntax:"WEEK_OF_YEAR(fieldName)"},{name:"QUARTER(field)",description:"Get quarter (1-4)",syntax:"QUARTER(fieldName)"},{name:"START_OF_MONTH(field)",description:"Get first day of month",syntax:"START_OF_MONTH(fieldName)"},{name:"END_OF_MONTH(field)",description:"Get last day of month",syntax:"END_OF_MONTH(fieldName)"},{name:"START_OF_YEAR(field)",description:"Get first day of year",syntax:"START_OF_YEAR(fieldName)"},{name:"END_OF_YEAR(field)",description:"Get last day of year",syntax:"END_OF_YEAR(fieldName)"},{name:"START_OF_WEEK(field)",description:"Get first day of week",syntax:"START_OF_WEEK(fieldName)"},{name:"IS_WEEKEND(field)",description:"Check if date is weekend",syntax:"IS_WEEKEND(fieldName)"},{name:"IS_WORKDAY(field)",description:"Check if date is workday",syntax:"IS_WORKDAY(fieldName)"},{name:"IS_PAST(field)",description:"Check if date is in past",syntax:"IS_PAST(fieldName)"},{name:"IS_FUTURE(field)",description:"Check if date is in future",syntax:"IS_FUTURE(fieldName)"},{name:"BUSINESS_DAYS(a, b)",description:"Count business days between dates",syntax:"BUSINESS_DAYS(startDate, endDate)"},{name:"ADD_BUSINESS_DAYS(field, n)",description:"Add business days",syntax:"ADD_BUSINESS_DAYS(fieldName, 5)"},{name:"AGE(birthDate)",description:"Calculate age in years",syntax:"AGE(birthDateField)"}];booleanFunctions=[{name:"IF(condition, then, else)",description:"Conditional logic",syntax:'IF(field > 100, "High", "Low")'},{name:"IFS(cond1, val1, ...)",description:"Multiple conditions",syntax:'IFS(field > 100, "High", field > 50, "Medium", true, "Low")'},{name:"AND(a, b, ...)",description:"All conditions must be true",syntax:"AND(condition1, condition2)"},{name:"OR(a, b, ...)",description:"Any condition must be true",syntax:"OR(condition1, condition2)"},{name:"XOR(a, b)",description:"Exclusive OR",syntax:"XOR(condition1, condition2)"},{name:"NOT(condition)",description:"Reverse boolean value",syntax:"NOT(fieldName)"},{name:"TRUE()",description:"Returns true value",syntax:"TRUE()"},{name:"FALSE()",description:"Returns false value",syntax:"FALSE()"},{name:"IS_EMPTY(field)",description:"Check if field is empty",syntax:"IS_EMPTY(fieldName)"},{name:"IS_NOT_EMPTY(field)",description:"Check if field has value",syntax:"IS_NOT_EMPTY(fieldName)"},{name:"IS_NULL(field)",description:"Check if field is null",syntax:"IS_NULL(fieldName)"},{name:"IS_BLANK(field)",description:"Check if empty or whitespace",syntax:"IS_BLANK(fieldName)"},{name:"EQUALS(a, b)",description:"Check if values are equal",syntax:"EQUALS(field1, field2)"},{name:"NOT_EQUALS(a, b)",description:"Check if values differ",syntax:"NOT_EQUALS(field1, field2)"},{name:"GREATER_THAN(a, b)",description:"Check if a > b",syntax:"GREATER_THAN(field1, field2)"},{name:"GREATER_OR_EQUAL(a, b)",description:"Check if a >= b",syntax:"GREATER_OR_EQUAL(field1, field2)"},{name:"LESS_THAN(a, b)",description:"Check if a < b",syntax:"LESS_THAN(field1, field2)"},{name:"LESS_OR_EQUAL(a, b)",description:"Check if a <= b",syntax:"LESS_OR_EQUAL(field1, field2)"},{name:"BETWEEN(field, min, max)",description:"Check if value is in range",syntax:"BETWEEN(fieldName, 10, 100)"},{name:"IN(field, list)",description:"Check if value is in list",syntax:'IN(fieldName, ["A", "B", "C"])'},{name:"NOT_IN(field, list)",description:"Check if value not in list",syntax:'NOT_IN(fieldName, ["X", "Y", "Z"])'},{name:"IS_VALID_EMAIL(field)",description:"Validate email format",syntax:"IS_VALID_EMAIL(emailField)"},{name:"IS_VALID_PHONE(field)",description:"Validate phone format",syntax:"IS_VALID_PHONE(phoneField)"},{name:"IS_VALID_URL(field)",description:"Validate URL format",syntax:"IS_VALID_URL(urlField)"}];utilityFunctions=[{name:"COALESCE(a, b, ...)",description:"Return first non-empty value",syntax:'COALESCE(field1, field2, "default")'},{name:"DEFAULT(field, value)",description:"Set default if empty",syntax:'DEFAULT(fieldName, "N/A")'},{name:"FORMAT_CURRENCY(field, currency)",description:"Format as currency",syntax:'FORMAT_CURRENCY(amount, "USD")'},{name:"FORMAT_NUMBER(field, decimals)",description:"Format number with decimals",syntax:"FORMAT_NUMBER(fieldName, 2)"},{name:"FORMAT_PERCENT(field)",description:"Format as percentage",syntax:"FORMAT_PERCENT(fieldName)"},{name:"TO_NUMBER(field)",description:"Convert text to number",syntax:"TO_NUMBER(fieldName)"},{name:"TO_TEXT(field)",description:"Convert value to text",syntax:"TO_TEXT(fieldName)"},{name:"TO_BOOLEAN(field)",description:"Convert value to boolean",syntax:"TO_BOOLEAN(fieldName)"},{name:"TO_DATE(field)",description:"Convert text to date",syntax:"TO_DATE(fieldName)"},{name:"UUID()",description:"Generate unique identifier",syntax:"UUID()"},{name:"SEQUENCE(prefix)",description:"Generate sequential number",syntax:'SEQUENCE("INV-")'},{name:"CURRENT_USER()",description:"Get current user name",syntax:"CURRENT_USER()"},{name:"CURRENT_USER_EMAIL()",description:"Get current user email",syntax:"CURRENT_USER_EMAIL()"},{name:"CURRENT_USER_ID()",description:"Get current user ID",syntax:"CURRENT_USER_ID()"},{name:"CURRENT_USER_DEPT()",description:"Get current user department",syntax:"CURRENT_USER_DEPT()"},{name:"CURRENT_USER_SBU()",description:"Get current user SBU",syntax:"CURRENT_USER_SBU()"},{name:"FIELD_VALUE(name)",description:"Get value of another field",syntax:'FIELD_VALUE("otherFieldName")'},{name:"LOOKUP(field, source)",description:"Lookup value from data source",syntax:'LOOKUP(fieldName, "employees")'},{name:"TYPE_OF(field)",description:"Get type of value",syntax:"TYPE_OF(fieldName)"},{name:"HASH(field)",description:"Generate hash of value",syntax:"HASH(fieldName)"}];otherFunctions=[{name:"ARRAY_LENGTH(field)",description:"Get length of array",syntax:"ARRAY_LENGTH(arrayField)"},{name:"ARRAY_FIRST(field)",description:"Get first element of array",syntax:"ARRAY_FIRST(arrayField)"},{name:"ARRAY_LAST(field)",description:"Get last element of array",syntax:"ARRAY_LAST(arrayField)"},{name:"ARRAY_CONTAINS(field, val)",description:"Check if array contains value",syntax:'ARRAY_CONTAINS(arrayField, "value")'},{name:"ARRAY_UNIQUE(field)",description:"Remove duplicates from array",syntax:"ARRAY_UNIQUE(arrayField)"},{name:"ARRAY_SORT(field)",description:"Sort array values",syntax:"ARRAY_SORT(arrayField)"},{name:"JSON_GET(field, path)",description:"Get value from JSON path",syntax:'JSON_GET(jsonField, "data.name")'},{name:"JSON_SET(field, path, val)",description:"Set value in JSON",syntax:'JSON_SET(jsonField, "data.name", "value")'},{name:"ENCODE_BASE64(field)",description:"Encode to Base64",syntax:"ENCODE_BASE64(fieldName)"},{name:"DECODE_BASE64(field)",description:"Decode from Base64",syntax:"DECODE_BASE64(fieldName)"},{name:"ENCODE_URL(field)",description:"URL encode text",syntax:"ENCODE_URL(fieldName)"},{name:"DECODE_URL(field)",description:"URL decode text",syntax:"DECODE_URL(fieldName)"},{name:"RANDOM()",description:"Generate random number 0-1",syntax:"RANDOM()"},{name:"RANDOM_INT(min, max)",description:"Generate random integer",syntax:"RANDOM_INT(1, 100)"},{name:"SWITCH(field, cases)",description:"Multi-case conditional",syntax:'SWITCH(status, "A", "Active", "I", "Inactive", "Unknown")'},{name:"TEMPLATE(str, vars)",description:"String template with variables",syntax:'TEMPLATE("Hello {name}", {"name": fieldName})'}];constructor(e,n,i,s,C,O,k,G,si){this.fb=e,this.workflowService=n,this.userService=i,this.departmentService=s,this.sqlObjectService=C,this.router=O,this.route=k,this.snackBar=G,this.dialog=si,this.basicForm=this.fb.group({name:["",fe.required],code:[""],description:[""],icon:["description"],workflowTypeId:[null],workflowCategory:["NON_FINANCIAL"],isActive:[!0],commentsMandatory:[!1],commentsMandatoryOnReject:[!0],commentsMandatoryOnEscalate:[!0],corporateIds:[[]],sbuIds:[[]],branchIds:[[]],departmentIds:[[]]})}ngOnInit(){this.loadWorkflowTypes(),this.loadUsers(),this.loadRoles(),this.loadCorporates(),this.loadSbus(),this.loadBranches(),this.loadDepartments(),this.loadSqlObjects(),this.route.params.pipe(B(this.destroy$)).subscribe(e=>{let n=e.id||null;n!==this.workflowId&&(this.workflowId=n,this.resetForm(),this.workflowId&&this.workflowId!=="new"?(this.isEdit=!0,this.loadWorkflow()):this.isEdit=!1)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}resetForm(){this.formId=null,this.workflowName="",this.fields=[],this.fieldGroups=[],this.screens=[],this.approvers=[],this.basicForm.reset({name:"",code:"",description:"",icon:"description",workflowTypeId:"",workflowCategory:"NON_FINANCIAL",isActive:!0,commentsMandatory:!1,commentsMandatoryOnReject:!0,commentsMandatoryOnEscalate:!0,corporateIds:[],sbuIds:[],branchIds:[],departmentIds:[]}),this.filteredSbus=[...this.sbus],this.filteredBranches=[...this.branches],this.filteredDepartments=[...this.departments]}loadWorkflowTypes(){this.workflowService.getWorkflowTypes().subscribe(e=>{e.success&&(this.workflowTypes=e.data)})}loadUsers(){this.userService.getUsers().subscribe(e=>{e.success&&(this.users=e.data,this.approvers.forEach(n=>{if(n.filteredUsers=this.users,n.approverType==="USER"&&n.approverId){let i=this.users.find(s=>s.id===n.approverId);i&&(n.userSearchText=i.fullName)}}))})}loadRoles(){this.userService.getRoles().subscribe(e=>{e.success&&(this.roles=e.data)})}loadCorporates(){this.userService.getActiveCorporates().subscribe(e=>{e.success&&(this.corporates=e.data)})}loadSbus(){this.userService.getSbus().subscribe(e=>{e.success&&(this.sbus=e.data,this.filteredSbus=[...this.sbus])})}loadBranches(){this.userService.getActiveBranches().subscribe(e=>{e.success&&(this.branches=e.data,this.filteredBranches=[...this.branches])})}loadDepartments(){this.departmentService.getActiveDepartments().subscribe(e=>{e.success&&(this.departments=e.data,this.filteredDepartments=[...this.departments])})}loadSqlObjects(){this.sqlObjectService.getActiveSqlObjects().subscribe(e=>{this.sqlObjects=e})}onOptionsSourceChange(e){e.optionsSource==="STATIC"?e.sqlObjectId=null:(!e.options||e.options.length===0)&&(e.options=[])}onCorporateChange(){let e=this.basicForm.get("corporateIds")?.value||[];e.length>0?(this.filteredSbus=this.sbus.filter(O=>!O.corporateId||e.includes(O.corporateId)),this.filteredDepartments=this.departments.filter(O=>!O.corporateId||e.includes(O.corporateId))):(this.filteredSbus=[...this.sbus],this.filteredDepartments=[...this.departments]);let n=this.basicForm.get("sbuIds")?.value||[],i=n.filter(O=>this.filteredSbus.some(k=>k.id===O));i.length!==n.length&&this.basicForm.patchValue({sbuIds:i});let s=this.basicForm.get("departmentIds")?.value||[],C=s.filter(O=>this.filteredDepartments.some(k=>k.id===O));C.length!==s.length&&this.basicForm.patchValue({departmentIds:C}),this.onSbuChange()}onSbuChange(){let e=this.basicForm.get("sbuIds")?.value||[],n=this.basicForm.get("corporateIds")?.value||[],i=this.sbus.filter(O=>!O.corporateId).map(O=>O.id);if(e.length>0)this.filteredBranches=this.branches.filter(O=>e.includes(O.sbuId)||i.includes(O.sbuId));else if(n.length>0){let O=this.sbus.filter(k=>!k.corporateId||n.includes(k.corporateId)).map(k=>k.id);this.filteredBranches=this.branches.filter(k=>O.includes(k.sbuId))}else this.filteredBranches=[...this.branches];let s=this.basicForm.get("branchIds")?.value||[],C=s.filter(O=>this.filteredBranches.some(k=>k.id===O));C.length!==s.length&&this.basicForm.patchValue({branchIds:C})}loadWorkflow(){this.workflowId&&this.workflowService.getWorkflow(this.workflowId).subscribe(e=>{if(e.success){let n=e.data;this.workflowName=n.name||"",this.basicForm.patchValue({name:n.name,code:n.code,description:n.description,icon:n.icon,workflowTypeId:n.workflowTypeId||n.workflowType?.id,isActive:n.active??n.isActive??!0,commentsMandatory:n.commentsMandatory??!1,commentsMandatoryOnReject:n.commentsMandatoryOnReject??!0,commentsMandatoryOnEscalate:n.commentsMandatoryOnEscalate??!0,workflowCategory:n.workflowCategory||"NON_FINANCIAL",corporateIds:n.corporateIds||[],sbuIds:n.sbuIds||[],branchIds:n.branchIds||[],departmentIds:n.departmentIds||[]}),setTimeout(()=>{this.onCorporateChange()},100),n.forms?.[0]&&(this.formId=n.forms[0].id,this.fields=n.forms[0].fields?.map(i=>W(R({},i),{type:i.fieldType||i.type,value:i.value||i.defaultValue||"",required:i.isMandatory??i.required??!1,readOnly:i.isReadonly??i.readOnly??!1,hidden:i.isHidden??i.hidden??!1,isUnique:i.isUnique??!1,isTitle:i.isTitle??!1,isLimited:i.isLimited??!1,inSummary:i.inSummary??!1,optionsText:i.options?.map(s=>s.value).join(`
`)||"",optionsLayout:i.optionsLayout||"vertical"}))||[],this.fieldGroups=n.forms[0].fieldGroups||[],this.screens=n.forms[0].screens||[]),this.approvers=(n.approvers||[]).map(i=>W(R({},i),{approverId:i.userId||i.approverId||null,approverType:i.approverType||(i.userId?"USER":i.roleId?"ROLE":"USER")}))}})}getFieldIcon(e){return this.fieldTypes.find(i=>i.value===e)?.icon||"text_fields"}addField(e){let n=this.activeScreenId;n===null&&this.screens.length>0&&(n=this.screens[0].id);let i={id:"temp_"+Date.now(),type:e,name:"",label:"",placeholder:"",value:"",required:!1,readOnly:!1,hidden:!1,isUnique:!1,isTitle:!1,isLimited:!1,inSummary:!1,columnSpan:2,displayOrder:this.fields.length,fieldGroupId:null,screenId:n,optionsText:"",optionsLayout:"vertical",validation:"",validationMessage:"",customValidationRule:"",visibilityExpression:"true",ratingMax:e==="RATING"?5:void 0,sliderMin:e==="SLIDER"?0:void 0,sliderMax:e==="SLIDER"?100:void 0,sliderStep:e==="SLIDER"?1:void 0,sqlObjectId:e==="SQL_OBJECT"?null:void 0,viewType:e==="SQL_OBJECT"?"SELECT":void 0,optionsSource:e==="SQL_OBJECT"?"SQL":"STATIC"};this.fields.push(i)}removeField(e){this.fields.splice(e,1)}dropField(e){nt(this.fields,e.previousIndex,e.currentIndex),this.fields.forEach((n,i)=>n.displayOrder=i)}addFieldGroup(){let e={id:"temp_"+Date.now(),title:"",description:"",displayOrder:this.fieldGroups.length,collapsible:!1,collapsed:!1};this.fieldGroups.push(e)}removeFieldGroup(e){let n=this.fieldGroups[e].id;this.fields.forEach(i=>{i.fieldGroupId===n&&(i.fieldGroupId=null)}),this.fieldGroups.splice(e,1)}getFieldsInGroup(e){return this.fields.filter(n=>n.fieldGroupId===e)}addScreen(){let e={id:"temp_"+Date.now(),title:"",description:"",displayOrder:this.screens.length,icon:"view_carousel"};this.screens.push(e)}removeScreen(e){let n=this.screens[e].id;this.fields.forEach(i=>{i.screenId===n&&(i.screenId=null)}),this.fieldGroups.forEach(i=>{i.screenId===n&&(i.screenId=null)}),this.screens.splice(e,1)}dropScreen(e){nt(this.screens,e.previousIndex,e.currentIndex),this.screens.forEach((n,i)=>n.displayOrder=i)}getFieldsInScreen(e){return this.fields.filter(n=>n.screenId===e)}getFieldGroupsInScreen(e){return this.fieldGroups.filter(n=>n.screenId===e)}setActiveScreen(e){this.activeScreenId=e}getFilteredFields(){return this.activeScreenId===null?this.fields:this.fields.filter(e=>e.screenId===this.activeScreenId)}getAvailableFieldGroups(e){if(this.screens.length===0)return this.fieldGroups;let n=e.screenId||this.activeScreenId;return n?this.fieldGroups.filter(i=>!i.screenId||i.screenId===n):this.fieldGroups}getScreenTitle(e){return this.screens.find(i=>i.id===e)?.title||"Untitled Screen"}insertFunction(e){navigator.clipboard.writeText(e.syntax).then(()=>{this.snackBar.open(`Copied: ${e.syntax}`,"Close",{duration:3e3})}).catch(()=>{this.snackBar.open(`Function: ${e.syntax}`,"Close",{duration:5e3})})}getFilteredFunctions(){if(!this.functionSearch)return[];let e=this.functionSearch.toLowerCase();return[...this.validationFunctions.map(i=>W(R({},i),{category:"Validation"})),...this.stringFunctions.map(i=>W(R({},i),{category:"String"})),...this.numberFunctions.map(i=>W(R({},i),{category:"Number"})),...this.dateFunctions.map(i=>W(R({},i),{category:"Date"})),...this.booleanFunctions.map(i=>W(R({},i),{category:"Boolean/Logic"})),...this.utilityFunctions.map(i=>W(R({},i),{category:"Utility"})),...this.otherFunctions.map(i=>W(R({},i),{category:"Other"}))].filter(i=>i.name.toLowerCase().includes(e)||i.description.toLowerCase().includes(e)||i.category.toLowerCase().includes(e))}getAccessSummary(){let e=[],n=this.basicForm.get("corporateIds")?.value||[],i=this.basicForm.get("sbuIds")?.value||[],s=this.basicForm.get("branchIds")?.value||[],C=this.basicForm.get("departmentIds")?.value||[];return n.forEach(O=>{let k=this.corporates.find(G=>G.id===O);k&&e.push(`Corporate: ${k.name}`)}),i.forEach(O=>{let k=this.sbus.find(G=>G.id===O);k&&e.push(`SBU: ${k.name}`)}),s.forEach(O=>{let k=this.branches.find(G=>G.id===O);k&&e.push(`Branch: ${k.name}`)}),C.forEach(O=>{let k=this.departments.find(G=>G.id===O);k&&e.push(`Department: ${k.name}`)}),e}isFinancialWorkflow(){return this.basicForm.get("workflowCategory")?.value==="FINANCIAL"}isAmountField(e){return e==="NUMBER"||e==="CURRENCY"}hasLimitedField(){return this.fields.some(e=>e.isLimited)}onLimitedChange(e){e.isLimited&&this.fields.forEach(n=>{n.id!==e.id&&(n.isLimited=!1)})}addApprover(){let n={level:(this.approvers.length>0?Math.max(...this.approvers.map(i=>i.level)):0)+1,approverType:"USER",approverId:null,roleId:null,email:"",amountLimit:null,canEscalate:!0,requireComment:!1,emailNotification:!0,userSearchText:"",filteredUsers:this.users};this.approvers.push(n)}onApproverTypeChange(e){e.approverId=null,e.roleId=null,e.userSearchText="",e.filteredUsers=this.users,e.approverType!=="USER"&&(e.email="")}onUserSelected(e){if(e.approverId){let n=this.users.find(i=>i.id===e.approverId);n&&(e.email=n.email||"")}else e.email=""}filterUsers(e,n){if(!n||typeof n!="string"){e.filteredUsers=this.users;return}let i=n.toLowerCase();e.filteredUsers=this.users.filter(s=>s.fullName?.toLowerCase().includes(i)||s.email?.toLowerCase().includes(i))}onUserAutoSelected(e,n){let i=n.option.value;e.approverId=i;let s=this.users.find(C=>C.id===i);s&&(e.email=s.email||"",e.userSearchText=s.fullName)}displayUserFn(e){if(!e)return"";let n=this.users.find(i=>i.id===e);return n&&n.fullName||""}getApproverDisplayName(e){if(e.approverType==="USER"){let n=e.approverId||e.userId;if(n){let i=this.users.find(s=>s.id===n);if(i?.fullName)return i.fullName}if(e.approverName)return e.approverName}if(e.approverType==="ROLE"&&e.roleId){let n=this.roles.find(i=>i.id===e.roleId);if(n?.name)return n.name;if(e.approverName)return e.approverName}return e.approverName||""}removeApprover(e){this.approvers.splice(e,1)}dropApprover(e){nt(this.approvers,e.previousIndex,e.currentIndex)}preview(){this.dialog.open(li,{width:"1100px",maxWidth:"95vw",maxHeight:"90vh",panelClass:"preview-dialog-container",data:{workflowName:this.basicForm.get("name")?.value||"Untitled Workflow",workflowDescription:this.basicForm.get("description")?.value||"",workflowIcon:this.basicForm.get("icon")?.value||"description",fields:this.fields,fieldGroups:this.fieldGroups,screens:this.screens}})}saveWorkflow(){if(this.basicForm.invalid){this.snackBar.open("Please fill in all required fields","Close",{duration:3e3});return}this.loading=!0;let e=this.fields.map(s=>W(R({},s),{fieldType:s.type||s.fieldType,defaultValue:s.value||s.defaultValue||"",isMandatory:s.required??s.isMandatory??!1,isReadonly:s.readOnly??s.isReadonly??!1,isHidden:s.hidden??s.isHidden??!1,isUnique:s.isUnique??!1,isTitle:s.isTitle??!1,isLimited:s.isLimited??!1,inSummary:s.inSummary??!1,options:s.optionsText?.split(`
`).filter(C=>C.trim()).map((C,O)=>({value:C.trim(),label:C.trim(),displayOrder:O}))||[]})),n=W(R({},this.basicForm.value),{forms:[{id:this.formId,name:"Main Form",fields:e,fieldGroups:this.fieldGroups,screens:this.screens}],approvers:this.approvers});(this.isEdit?this.workflowService.updateWorkflow(this.workflowId,n):this.workflowService.createWorkflow(n)).subscribe({next:s=>{this.loading=!1,s.success&&(this.snackBar.open(this.isEdit?"Workflow updated successfully":"Workflow created successfully","Close",{duration:3e3}),this.router.navigate(["/workflows"]))},error:s=>{this.loading=!1,this.snackBar.open(s.error?.message||"Failed to save workflow","Close",{duration:3e3})}})}static \u0275fac=function(n){return new(n||t)(I(Te),I(Pn),I(On),I(Rn),I(Hn),I(Ut),I(Vt),I(Cn),I(yn))};static \u0275cmp=V({type:t,selectors:[["app-workflow-builder"]],decls:206,vars:18,consts:[["userAuto","matAutocomplete"],[1,"workflow-builder-container"],[1,"header"],["mat-icon-button","","routerLink","/workflows"],[1,"header-actions"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],["label","Basic Info"],[1,"tab-content"],[3,"formGroup"],[1,"form-row"],["appearance","outline",1,"form-field"],["matInput","","formControlName","name"],["matInput","","formControlName","code",3,"readonly"],["appearance","outline",1,"form-field","full-width"],["matInput","","formControlName","description","rows","3"],["formControlName","icon"],[3,"value"],["formControlName","workflowCategory"],["value","NON_FINANCIAL"],["value","FINANCIAL"],[1,"checkbox-row"],["formControlName","isActive"],["formControlName","commentsMandatory"],["formControlName","commentsMandatoryOnReject"],["formControlName","commentsMandatoryOnEscalate"],["label","Screens"],["mat-raised-button","","color","primary",3,"click"],["class","screen-info",4,"ngIf"],["cdkDropList","",1,"screen-list",3,"cdkDropListDropped"],["cdkDrag","",1,"screen-panel"],[1,"screen-warning"],["label","Field Groups"],[1,"group-panel"],[1,"empty-state"],["label","Form Builder"],[1,"builder-layout"],[1,"field-palette"],[1,"palette-content"],[1,"palette-tabs"],["label","Field Types"],[1,"palette-tab-content"],[1,"field-types"],[1,"field-type-item"],[1,"palette-section"],["mat-stroked-button","",3,"click"],["label","Functions"],[1,"function-search"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Search by name or category...",3,"ngModelChange","ngModel"],["matSuffix",""],["class","function-usage-guide",4,"ngIf"],[1,"search-results"],["multi","",1,"function-accordion"],[1,"form-canvas"],[1,"screen-info-badge"],[1,"screen-tabs"],["cdkDropList","",1,"field-list",3,"cdkDropListDropped"],["cdkDrag","",1,"field-panel"],[1,"empty-canvas"],["label","Approvers"],["cdkDropList","",1,"approver-list",3,"cdkDropListDropped"],["cdkDrag","",1,"approver-panel"],["label","Access Restrictions"],[1,"access-info"],["formControlName","corporateIds","multiple","",3,"selectionChange"],["formControlName","sbuIds","multiple","",3,"selectionChange"],["formControlName","branchIds","multiple",""],["formControlName","departmentIds","multiple",""],[1,"access-summary"],[1,"no-restrictions"],[1,"restriction-chips"],[1,"screen-info"],["cdkDragHandle",""],[1,"screen-config"],["matInput","",3,"ngModelChange","ngModel"],["matInput","","type","number",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","view_carousel"],["value","article"],["value","assignment"],["value","description"],["value","info"],["value","checklist"],["value","fact_check"],["value","summarize"],[1,"screen-actions"],["mat-button","","color","warn",3,"click"],[1,"group-config"],[1,"group-actions"],[1,"field-type-item",3,"click"],[1,"function-usage-guide"],[1,"guide-header",3,"click"],["class","guide-content",4,"ngIf"],[1,"guide-content"],[1,"example"],[1,"search-results-header"],["mat-icon-button","",3,"click"],[1,"function-item"],[1,"no-results"],[1,"function-item",3,"click"],[1,"function-name"],[1,"function-desc"],[1,"function-category-tag"],[3,"opened","closed","expanded"],[1,"function-list"],["mat-button","",3,"active"],[1,"field-config"],["matInput","","placeholder","Static value or function e.g. TODAY(), CURRENT_USER()",3,"ngModelChange","ngModel"],["matTooltip","Include this field in approval email summary",3,"ngModelChange","ngModel"],["matTooltip","Mark this field as the amount to check against approver limits for auto-escalation",3,"ngModel","disabled"],[1,"sql-object-config"],[1,"validation-panel"],["matInput","","rows","2","placeholder","e.g., Required() AND MinLength(5)",3,"ngModelChange","ngModel"],["matInput","","rows","2","placeholder","e.g., UPPER() or TRIM()",3,"ngModelChange","ngModel"],["matInput","","placeholder","Custom message when validation fails",3,"ngModelChange","ngModel"],["matInput","","rows","2","placeholder","e.g., true or @{otherField} == 'Yes'",3,"ngModelChange","ngModel"],[1,"field-actions"],[3,"ngModelChange","selectionChange","ngModel"],["value","STATIC"],["value","SQL"],["matInput","","rows","4","placeholder",`Option 1
Option 2
Option 3`,3,"ngModelChange","ngModel"],[1,"sql-hint"],[1,"sql-obj-hint"],["routerLink","/sql-objects"],["value","vertical"],["value","horizontal"],["matTooltip","Mark this field as the amount to check against approver limits for auto-escalation",3,"ngModelChange","change","ngModel","disabled"],["required","",3,"ngModelChange","ngModel"],[1,"sql-hint","warning"],[1,"approver-config"],["matInput","","type","number","min","1",3,"ngModelChange","ngModel"],["value","USER"],["value","ROLE"],["matInput","","type","email",3,"ngModelChange","ngModel","readonly"],[1,"approver-actions"],["matInput","","type","text","placeholder","Search by name or email...",3,"ngModelChange","matAutocomplete","ngModel"],[3,"optionSelected","displayWith"],["disabled",""],[1,"user-option"]],template:function(n,i){if(n&1&&(a(0,"div",1)(1,"div",2)(2,"button",3)(3,"mat-icon"),l(4,"arrow_back"),o()(),a(5,"h1"),l(6),o(),a(7,"div",4)(8,"button",5),h("click",function(){return i.preview()}),a(9,"mat-icon"),l(10,"visibility"),o(),l(11," Preview "),o(),a(12,"button",6),h("click",function(){return i.saveWorkflow()}),a(13,"mat-icon"),l(14,"save"),o(),l(15),o()()(),a(16,"mat-tab-group")(17,"mat-tab",7)(18,"div",8)(19,"mat-card")(20,"mat-card-content")(21,"form",9)(22,"div",10)(23,"mat-form-field",11)(24,"mat-label"),l(25,"Workflow Name"),o(),E(26,"input",12),p(27,Ar,2,0,"mat-error"),o(),a(28,"mat-form-field",11)(29,"mat-label"),l(30,"Code"),o(),E(31,"input",13),a(32,"mat-hint"),l(33,"Unique identifier (auto-generated if blank)"),o()()(),a(34,"mat-form-field",14)(35,"mat-label"),l(36,"Description"),o(),E(37,"textarea",15),o(),a(38,"div",10)(39,"mat-form-field",11)(40,"mat-label"),l(41,"Icon"),o(),a(42,"mat-select",16),v(43,Lr,4,3,"mat-option",17,z),o()(),a(45,"mat-form-field",11)(46,"mat-label"),l(47,"Workflow Category"),o(),a(48,"mat-select",18)(49,"mat-option",19),l(50,"Non-Financial"),o(),a(51,"mat-option",20),l(52,"Financial"),o()(),a(53,"mat-hint"),l(54,"Financial workflows enable amount-based approval limits"),o()()(),a(55,"div",21)(56,"mat-checkbox",22),l(57,"Active"),o(),a(58,"mat-checkbox",23),l(59,"Comments Mandatory on Approval"),o(),a(60,"mat-checkbox",24),l(61,"Comments Mandatory on Reject"),o(),a(62,"mat-checkbox",25),l(63,"Comments Mandatory on Escalate"),o()()()()()()(),a(64,"mat-tab",26)(65,"div",8)(66,"mat-card")(67,"mat-card-header")(68,"mat-card-title"),l(69,"Form Screens"),o(),a(70,"button",27),h("click",function(){return i.addScreen()}),a(71,"mat-icon"),l(72,"add"),o(),l(73," Add Screen "),o()(),a(74,"mat-card-content"),p(75,Br,5,0,"div",28),a(76,"div",29),h("cdkDropListDropped",function(C){return i.dropScreen(C)}),v(77,Vr,49,8,"mat-expansion-panel",30,F),o(),p(79,Ur,5,0,"div",31),o()()()(),a(80,"mat-tab",32)(81,"div",8)(82,"mat-card")(83,"mat-card-header")(84,"mat-card-title"),l(85,"Field Groups"),o(),a(86,"button",27),h("click",function(){return i.addFieldGroup()}),a(87,"mat-icon"),l(88,"add"),o(),l(89," Add Group "),o()(),a(90,"mat-card-content"),v(91,Hr,31,8,"mat-expansion-panel",33,F),p(93,qr,5,0,"div",34),o()()()(),a(94,"mat-tab",35)(95,"div",8)(96,"div",36)(97,"div",37)(98,"mat-card")(99,"mat-card-content",38)(100,"mat-tab-group",39)(101,"mat-tab",40)(102,"div",41)(103,"div",42),v(104,jr,5,2,"div",43,di),o(),a(106,"div",44)(107,"h4"),l(108,"Groups"),o(),a(109,"button",45),h("click",function(){return i.addFieldGroup()}),a(110,"mat-icon"),l(111,"dashboard"),o(),l(112," Add Field Group "),o()()()(),a(113,"mat-tab",46)(114,"div",41)(115,"div",47)(116,"mat-form-field",48)(117,"mat-label"),l(118,"Search functions"),o(),a(119,"input",49),M("ngModelChange",function(C){return b(i.functionSearch,C)||(i.functionSearch=C),C}),o(),a(120,"mat-icon",50),l(121,"search"),o()()(),p(122,Qr,7,2,"div",51)(123,Kr,10,2,"div",52)(124,al,64,14,"mat-accordion",53),o()()()()()(),a(125,"div",54)(126,"mat-card")(127,"mat-card-header")(128,"mat-card-title"),l(129,"Form Layout"),o(),p(130,rl,4,0,"span",55),o(),a(131,"mat-card-content"),p(132,dl,7,3,"div",56),a(133,"div",57),h("cdkDropListDropped",function(C){return i.dropField(C)}),v(134,Tl,106,35,"mat-expansion-panel",58,F),p(136,Rl,5,1,"div",59),o()()()()()()(),a(137,"mat-tab",60)(138,"div",8)(139,"mat-card")(140,"mat-card-header")(141,"mat-card-title"),l(142,"Approval Levels"),o(),a(143,"button",27),h("click",function(){return i.addApprover()}),a(144,"mat-icon"),l(145,"add"),o(),l(146," Add Approver "),o()(),a(147,"mat-card-content")(148,"div",61),h("cdkDropListDropped",function(C){return i.dropApprover(C)}),v(149,Vl,52,15,"mat-expansion-panel",62,Wt),o(),p(151,Ul,5,0,"div",34),o()()()(),a(152,"mat-tab",63)(153,"div",8)(154,"mat-card")(155,"mat-card-header")(156,"mat-card-title")(157,"mat-icon"),l(158,"lock"),o(),l(159," Access Restrictions "),o()(),a(160,"mat-card-content")(161,"div",64)(162,"mat-icon"),l(163,"info"),o(),a(164,"p"),l(165,"Leave all fields empty to make this workflow visible to all users. Select specific corporates, SBUs, branches, or departments to restrict access."),o()(),a(166,"form",9)(167,"div",10)(168,"mat-form-field",11)(169,"mat-label"),l(170,"Corporates"),o(),a(171,"mat-select",65),h("selectionChange",function(){return i.onCorporateChange()}),v(172,Gl,2,2,"mat-option",17,F),o(),a(174,"mat-hint"),l(175,"Users from selected corporates can access this workflow"),o()(),a(176,"mat-form-field",11)(177,"mat-label"),l(178,"SBUs"),o(),a(179,"mat-select",66),h("selectionChange",function(){return i.onSbuChange()}),v(180,Hl,3,3,"mat-option",17,F),o(),a(182,"mat-hint"),l(183,"Filter by corporate first for relevant SBUs"),o()()(),a(184,"div",10)(185,"mat-form-field",11)(186,"mat-label"),l(187,"Branches"),o(),a(188,"mat-select",67),v(189,jl,3,3,"mat-option",17,F),o(),a(191,"mat-hint"),l(192,"Filter by SBU first for relevant branches"),o()(),a(193,"mat-form-field",11)(194,"mat-label"),l(195,"Departments"),o(),a(196,"mat-select",68),v(197,Ql,3,3,"mat-option",17,F),o(),a(199,"mat-hint"),l(200,"Filter by corporate first for relevant departments"),o()()()(),a(201,"div",69)(202,"h4"),l(203,"Current Access Summary"),o(),p(204,Yl,2,0,"p",70)(205,Kl,3,0,"div",71),o()()()()()()()),n&2){let s;r(6),g(i.isEdit?"Editing: "+i.workflowName:"Create Workflow"),r(6),_("disabled",i.loading),r(3),x(" ",i.loading?"Saving...":"Save Workflow"," "),r(6),_("formGroup",i.basicForm),r(6),m((s=i.basicForm.get("name"))!=null&&s.hasError("required")?27:-1),r(4),_("readonly",i.isEdit),r(12),y(i.icons),r(32),_("ngIf",i.screens.length===0),r(2),y(i.screens),r(2),m(i.screens.length===1?79:-1),r(12),y(i.fieldGroups),r(2),m(i.fieldGroups.length===0?93:-1),r(11),y(i.fieldTypes),r(15),w("ngModel",i.functionSearch),r(3),_("ngIf",!i.functionSearch),r(),m(i.functionSearch?123:124),r(7),m(i.screens.length>0?130:-1),r(2),m(i.screens.length>0?132:-1),r(2),y(i.getFilteredFields()),r(2),m(i.getFilteredFields().length===0?136:-1),r(13),y(i.approvers),r(2),m(i.approvers.length===0?151:-1),r(15),_("formGroup",i.basicForm),r(6),y(i.corporates),r(8),y(i.filteredSbus),r(9),y(i.filteredBranches),r(8),y(i.filteredDepartments),r(7),m(i.getAccessSummary().length===0?204:205)}},dependencies:[ve,Lt,Bt,Ie,Pe,be,Oe,Me,Se,dn,ln,Ee,ke,sn,rn,zt,Gt,zn,Gn,Un,Vn,Ae,De,Ne,mn,cn,Fn,Tn,In,Ge,Ue,Le,Be,pn,Ve,He,ze,je,qe,we,We,Re,Fe,ae,oe,tt,et,Je,Mn,Qe,Ye,Ke,Xe,Ze,Sn,xn,$e,kn,En,$n,qn,jn],styles:[".workflow-builder-container[_ngcontent-%COMP%]{padding:1rem}.header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{flex:1;margin:0}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.tab-content[_ngcontent-%COMP%]{padding:1rem 0}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem}.form-field[_ngcontent-%COMP%]{flex:1}.full-width[_ngcontent-%COMP%]{width:100%}.checkbox-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem 2rem;margin:1rem 0}.builder-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:300px 1fr;gap:1rem}.field-palette[_ngcontent-%COMP%]{position:sticky;top:0;height:calc(100vh - 140px);min-height:500px}.field-palette[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.field-palette[_ngcontent-%COMP%]   mat-card-content.palette-content[_ngcontent-%COMP%]{padding:0!important;flex:1;display:flex;flex-direction:column;overflow:hidden;min-height:0}.palette-tabs[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.palette-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-group{height:100%;display:flex;flex-direction:column}.palette-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-header{flex-shrink:0}.palette-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{flex:1;min-height:0}.palette-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body{height:100%}.palette-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-content{height:100%;overflow:hidden;display:flex;flex-direction:column}.palette-tab-content[_ngcontent-%COMP%]{padding:1rem;flex:1;overflow-y:auto;min-height:0}.field-types[_ngcontent-%COMP%]{display:grid;gap:.5rem}.field-type-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem;border:1px solid #ddd;border-radius:4px;cursor:pointer;transition:all .2s}.field-type-item[_ngcontent-%COMP%]:hover{background:#e3f2fd;border-color:#1976d2}.palette-section[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid #eee}.palette-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.875rem;color:#666}.function-category[_ngcontent-%COMP%]{margin-bottom:1.25rem}.function-category[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin:0 0 .5rem;font-size:.8rem;font-weight:600;color:#1976d2;padding-bottom:.375rem;border-bottom:1px solid #e0e0e0}.function-category[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.function-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.125rem}.function-item[_ngcontent-%COMP%]{padding:.375rem .5rem;border-radius:4px;cursor:pointer;transition:background .2s;border:1px solid transparent}.function-item[_ngcontent-%COMP%]:hover{background:#e3f2fd;border-color:#90caf9}.function-name[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-size:.7rem;font-weight:500;color:#1565c0}.function-desc[_ngcontent-%COMP%]{font-size:.65rem;color:#666;margin-top:.125rem}.function-search[_ngcontent-%COMP%]{margin-bottom:.75rem}.function-search[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{width:100%}.function-search[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.function-usage-guide[_ngcontent-%COMP%]{background:#f5f5f5;border-radius:8px;margin-bottom:1rem;overflow:hidden}.guide-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;cursor:pointer;font-size:.8rem;font-weight:500;color:#1976d2;transition:background .2s}.guide-header[_ngcontent-%COMP%]:hover{background:#e3f2fd}.guide-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem}.guide-content[_ngcontent-%COMP%]{padding:0 .75rem .75rem;font-size:.75rem;color:#555}.guide-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0}.guide-content[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#e0e0e0;padding:.125rem .25rem;border-radius:3px;font-family:Roboto Mono,monospace;font-size:.7rem}.guide-content[_ngcontent-%COMP%]   code.example[_ngcontent-%COMP%]{display:block;margin-top:.5rem;padding:.5rem;background:#1976d2;color:#fff}.search-results[_ngcontent-%COMP%]{margin-top:.5rem}.search-results-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.25rem 0;font-size:.75rem;color:#666;border-bottom:1px solid #e0e0e0;margin-bottom:.5rem}.search-results-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:24px}.search-results-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.function-category-tag[_ngcontent-%COMP%]{font-size:.6rem;color:#fff;background:#1976d2;padding:.125rem .375rem;border-radius:3px;margin-top:.25rem;display:inline-block}.no-results[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem;color:#999;text-align:center}.no-results[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;margin-bottom:.5rem}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.8rem}.screen-tabs[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.25rem;margin-bottom:1rem;padding:.5rem;background:#f5f5f5;border-radius:4px}.screen-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.5rem 1rem;border-radius:4px;font-size:.85rem;background:#fff;border:1px solid #e0e0e0}.screen-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border-color:#1976d2}.screen-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.screen-info-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.75rem;color:#666;margin-left:auto;padding:.25rem .5rem;background:#fff3e0;border-radius:4px}.screen-info-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#ff9800}.field-list[_ngcontent-%COMP%]{min-height:200px}.field-panel[_ngcontent-%COMP%], .group-panel[_ngcontent-%COMP%], .approver-panel[_ngcontent-%COMP%], .screen-panel[_ngcontent-%COMP%]{margin-bottom:.5rem}.field-config[_ngcontent-%COMP%], .group-config[_ngcontent-%COMP%], .approver-config[_ngcontent-%COMP%], .screen-config[_ngcontent-%COMP%]{padding:1rem}.validation-panel[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;background:#fafafa}.validation-panel[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.9rem}.validation-panel[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.field-actions[_ngcontent-%COMP%], .group-actions[_ngcontent-%COMP%], .approver-actions[_ngcontent-%COMP%], .screen-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:1rem}.screen-info[_ngcontent-%COMP%], .screen-warning[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:1rem;background:#e3f2fd;border-radius:8px;margin-bottom:1rem}.screen-warning[_ngcontent-%COMP%]{background:#fff3e0}.screen-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .screen-warning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;flex-shrink:0}.screen-warning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f57c00}.screen-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .screen-warning[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#333}.screen-list[_ngcontent-%COMP%]{min-height:100px}.empty-canvas[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;color:#666;text-align:center}.empty-canvas[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;opacity:.5}mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.section-title[_ngcontent-%COMP%]{margin:1.5rem 0 .25rem;font-size:1rem;font-weight:500;color:#333}.section-hint[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:.85rem;color:#666}.access-info[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:1rem;background:#e3f2fd;border-radius:8px;margin-bottom:1.5rem}.access-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2;flex-shrink:0}.access-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#1565c0;font-size:.9rem}.access-summary[_ngcontent-%COMP%]{margin-top:2rem;padding-top:1.5rem;border-top:1px solid #e0e0e0}.access-summary[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1rem;font-weight:500;color:#333}.no-restrictions[_ngcontent-%COMP%]{color:#4caf50;font-weight:500;display:flex;align-items:center;gap:.5rem}.restriction-chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.user-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:1.3}.user-option[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.9rem}.user-option[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem;color:#666}  .mat-mdc-autocomplete-panel{max-height:300px}.sql-obj-hint[_ngcontent-%COMP%]{font-size:.75rem;color:#666;margin-left:.5rem}.sql-hint[_ngcontent-%COMP%]{font-size:.85rem;color:#666;margin-top:.5rem}.sql-hint[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f51b5;text-decoration:none}.sql-hint[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.dark-mode[_nghost-%COMP%]   .workflow-builder-container[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .workflow-builder-container[_ngcontent-%COMP%]{background:#1e1e1e;color:#e0e0e0}.dark-mode[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]{background:#2d2d2d!important;color:#e0e0e0}.dark-mode[_nghost-%COMP%]   mat-card-title[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   mat-card-title[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .section-title[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .access-summary[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .access-summary[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#e0e0e0!important}.dark-mode[_nghost-%COMP%]   .section-hint[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .section-hint[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .empty-canvas[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .empty-canvas[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .empty-state[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]   .field-type-item[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .field-type-item[_ngcontent-%COMP%]{border-color:#444;background:#2d2d2d;color:#e0e0e0}.dark-mode[_nghost-%COMP%]   .field-type-item[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .field-type-item[_ngcontent-%COMP%]:hover{background:#3d5a80;border-color:#5c8dc9}.dark-mode[_nghost-%COMP%]   .field-panel[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .field-panel[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .group-panel[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .group-panel[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .approver-panel[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .approver-panel[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .screen-panel[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-panel[_ngcontent-%COMP%]{background:#333!important}.dark-mode[_nghost-%COMP%]   .validation-panel[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .validation-panel[_ngcontent-%COMP%]{background:#2d2d2d!important}.dark-mode[_nghost-%COMP%]   .screen-tabs[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-tabs[_ngcontent-%COMP%]{background:#2d2d2d}.dark-mode[_nghost-%COMP%]   .screen-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#3d3d3d;border-color:#555;color:#e0e0e0}.dark-mode[_nghost-%COMP%]   .screen-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border-color:#1976d2}.dark-mode[_nghost-%COMP%]   .palette-section[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .palette-section[_ngcontent-%COMP%]{border-top-color:#444}.dark-mode[_nghost-%COMP%]   .palette-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .palette-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]   .function-category[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .function-category[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#82b1ff;border-bottom-color:#444}.dark-mode[_nghost-%COMP%]   .function-item[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .function-item[_ngcontent-%COMP%]:hover{background:#3d5a80;border-color:#5c8dc9}.dark-mode[_nghost-%COMP%]   .function-name[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .function-name[_ngcontent-%COMP%]{color:#82b1ff}.dark-mode[_nghost-%COMP%]   .function-desc[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .function-desc[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .user-option[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .user-option[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .sql-obj-hint[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .sql-obj-hint[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .sql-hint[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .sql-hint[_ngcontent-%COMP%]{color:#aaa}.dark-mode[_nghost-%COMP%]   .empty-canvas[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .empty-canvas[_ngcontent-%COMP%]{background:#2d2d2d;color:#888}.dark-mode[_nghost-%COMP%]   .screen-info[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-info[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .access-info[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .access-info[_ngcontent-%COMP%]{background:#2d3a4a;color:#b3c7e0}.dark-mode[_nghost-%COMP%]   .screen-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .screen-warning[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-warning[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode[_nghost-%COMP%]   .access-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .access-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#b3c7e0}.dark-mode[_nghost-%COMP%]   .screen-warning[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-warning[_ngcontent-%COMP%]{background:#3d3020;color:#e0c080}.dark-mode[_nghost-%COMP%]   .screen-info-badge[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .screen-info-badge[_ngcontent-%COMP%]{background:#3d3020;color:#e0c080}.dark-mode[_nghost-%COMP%]   .function-usage-guide[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .function-usage-guide[_ngcontent-%COMP%]{background:#2d3a4a;border-color:#3d5a80}.dark-mode[_nghost-%COMP%]   .guide-header[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .guide-header[_ngcontent-%COMP%]{color:#82b1ff}.dark-mode[_nghost-%COMP%]   .guide-header[_ngcontent-%COMP%]:hover, .dark-mode   [_nghost-%COMP%]   .guide-header[_ngcontent-%COMP%]:hover{background:#3d5a80}.dark-mode[_nghost-%COMP%]   .guide-content[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .guide-content[_ngcontent-%COMP%]{background:#1e2a3a;color:#b3c7e0}.dark-mode[_nghost-%COMP%]   .guide-content[_ngcontent-%COMP%]   code[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .guide-content[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#3d3d3d;color:#82b1ff}.dark-mode[_nghost-%COMP%]   .search-results-header[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .search-results-header[_ngcontent-%COMP%]{color:#aaa;border-bottom-color:#444}.dark-mode[_nghost-%COMP%]   .no-results[_ngcontent-%COMP%], .dark-mode   [_nghost-%COMP%]   .no-results[_ngcontent-%COMP%]{color:#888}.dark-mode[_nghost-%COMP%]     .mat-mdc-form-field, .dark-mode   [_nghost-%COMP%]     .mat-mdc-form-field{color:#e0e0e0}.dark-mode[_nghost-%COMP%]     .mat-mdc-floating-label, .dark-mode   [_nghost-%COMP%]     .mat-mdc-floating-label{color:#aaa!important}.dark-mode[_nghost-%COMP%]     .mat-mdc-input-element, .dark-mode   [_nghost-%COMP%]     .mat-mdc-input-element{color:#e0e0e0!important}.dark-mode[_nghost-%COMP%]     .mat-mdc-select-value, .dark-mode   [_nghost-%COMP%]     .mat-mdc-select-value{color:#e0e0e0!important}.dark-mode[_nghost-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading, .dark-mode   [_nghost-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading, .dark-mode[_nghost-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch, .dark-mode   [_nghost-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch, .dark-mode[_nghost-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing, .dark-mode   [_nghost-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:#555!important}.dark-mode[_nghost-%COMP%]     .mat-mdc-form-field-hint, .dark-mode   [_nghost-%COMP%]     .mat-mdc-form-field-hint{color:#888!important}.dark-mode[_nghost-%COMP%]     .mat-expansion-panel, .dark-mode   [_nghost-%COMP%]     .mat-expansion-panel{background:#2d2d2d!important;color:#e0e0e0}.dark-mode[_nghost-%COMP%]     .mat-expansion-panel-header-title, .dark-mode   [_nghost-%COMP%]     .mat-expansion-panel-header-title, .dark-mode[_nghost-%COMP%]     .mat-expansion-panel-header-description, .dark-mode   [_nghost-%COMP%]     .mat-expansion-panel-header-description{color:#e0e0e0!important}.dark-mode[_nghost-%COMP%]     .mat-mdc-tab-labels, .dark-mode   [_nghost-%COMP%]     .mat-mdc-tab-labels{background:#2d2d2d}.dark-mode[_nghost-%COMP%]     .mat-mdc-tab:not(.mat-mdc-tab-disabled) .mdc-tab__text-label, .dark-mode   [_nghost-%COMP%]     .mat-mdc-tab:not(.mat-mdc-tab-disabled) .mdc-tab__text-label{color:#aaa}.dark-mode[_nghost-%COMP%]     .mat-mdc-tab:not(.mat-mdc-tab-disabled).mdc-tab--active .mdc-tab__text-label, .dark-mode   [_nghost-%COMP%]     .mat-mdc-tab:not(.mat-mdc-tab-disabled).mdc-tab--active .mdc-tab__text-label{color:#82b1ff}.dark-mode[_nghost-%COMP%]     .mat-mdc-checkbox .mdc-checkbox__background, .dark-mode   [_nghost-%COMP%]     .mat-mdc-checkbox .mdc-checkbox__background{border-color:#888!important}.dark-mode[_nghost-%COMP%]     .mat-mdc-checkbox .mdc-label, .dark-mode   [_nghost-%COMP%]     .mat-mdc-checkbox .mdc-label{color:#e0e0e0}.dark-mode[_nghost-%COMP%]     .mat-mdc-slide-toggle .mdc-label, .dark-mode   [_nghost-%COMP%]     .mat-mdc-slide-toggle .mdc-label{color:#e0e0e0}"]})}return t})();export{Zs as WorkflowBuilderComponent};
