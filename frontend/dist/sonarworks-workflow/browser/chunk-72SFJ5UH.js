import{a as p}from"./chunk-CRE6EOZT.js";import{aa as i,fa as a}from"./chunk-2CONVDTD.js";var u=(()=>{class s{api;constructor(t){this.api=t}getWorkflows(){return this.api.get("/workflows")}getActiveWorkflows(){return this.api.get("/workflows/active")}getWorkflowById(t){return this.api.get(`/workflows/${t}`)}getWorkflowByCode(t){return this.api.get(`/workflows/code/${t}`)}createWorkflow(t){return this.api.post("/workflows",t)}updateWorkflow(t,e){return this.api.put(`/workflows/${t}`,e)}publishWorkflow(t){return this.api.post(`/workflows/${t}/publish`,{})}unpublishWorkflow(t){return this.api.post(`/workflows/${t}/unpublish`,{})}deleteWorkflow(t){return this.api.delete(`/workflows/${t}`)}saveForm(t,e){return this.api.post(`/workflows/${t}/forms`,e)}deleteForm(t){return this.api.delete(`/workflows/forms/${t}`)}saveFieldGroup(t,e){return this.api.post(`/workflows/forms/${t}/groups`,e)}deleteFieldGroup(t){return this.api.delete(`/workflows/groups/${t}`)}saveField(t,e){return this.api.post(`/workflows/forms/${t}/fields`,e)}deleteField(t){return this.api.delete(`/workflows/fields/${t}`)}saveApprover(t,e){return this.api.post(`/workflows/${t}/approvers`,e)}deleteApprover(t){return this.api.delete(`/workflows/approvers/${t}`)}getWorkflowTypes(){return this.api.get("/workflow-types")}createWorkflowType(t){return this.api.post("/workflow-types",t)}updateWorkflowType(t,e){return this.api.put(`/workflow-types/${t}`,e)}deleteWorkflowType(t){return this.api.delete(`/workflow-types/${t}`)}getWorkflowInstances(t,e=0,o=20){return this.api.getPage(`/workflow-instances/workflow/${t}`,e,o)}getMySubmissions(t=0,e=20,o){let r=o?{status:o}:{};return this.api.getPage("/workflow-instances/my-submissions",t,e,r)}getPendingApprovals(t=0,e=20){return this.api.getPage("/workflow-instances/pending-approvals",t,e)}getPendingApprovalsCount(){return this.api.get("/workflow-instances/pending-approvals/count")}getMySubmissionsCount(){return this.api.get("/workflow-instances/my-submissions/count")}getMyPendingSubmissionsCount(){return this.api.get("/workflow-instances/my-submissions/pending-count")}getInstanceById(t){return this.api.get(`/workflow-instances/${t}`)}createInstance(t,e,o){let r=o?`?sbuId=${o}`:"";return this.api.post(`/workflow-instances/workflow/${t}${r}`,e)}updateInstance(t,e){return this.api.upload(`/workflow-instances/${t}/update`,e)}submitDraftInstance(t){return this.api.post(`/workflow-instances/${t}/submit`,{})}processApproval(t){return this.api.post("/workflow-instances/approve",t)}cancelInstance(t,e){let o=e?`?reason=${encodeURIComponent(e)}`:"";return this.api.post(`/workflow-instances/${t}/cancel${o}`,{})}deleteInstance(t){return this.api.delete(`/workflow-instances/${t}`)}cloneInstance(t){return this.api.post(`/workflow-instances/${t}/clone`,{})}recallInstance(t,e){let o=e?`?reason=${encodeURIComponent(e)}`:"";return this.api.post(`/workflow-instances/${t}/recall${o}`,{})}resubmitInstance(t){return this.api.post(`/workflow-instances/${t}/resubmit`,{})}getAttachments(t){return this.api.get(`/workflow-instances/${t}/attachments`)}uploadAttachment(t,e,o){let r=new FormData;return r.append("file",e),o&&r.append("description",o),this.api.upload(`/workflow-instances/${t}/attachments`,r)}downloadAttachment(t){return this.api.download(`/workflow-instances/attachments/${t}/download`)}deleteAttachment(t){return this.api.delete(`/workflow-instances/attachments/${t}`)}getWorkflow(t){return this.api.get(`/workflows/${t}`)}getInstance(t){return this.api.get(`/workflow-instances/${t}`)}getInstancesByWorkflow(t,e=0,o=100){return this.api.getPage(`/workflow-instances/workflow/code/${t}`,e,o)}toggleWorkflowActive(t,e){return this.api.put(`/workflows/${t}/active`,{active:e})}duplicateWorkflow(t){return this.api.post(`/workflows/${t}/duplicate`,{})}exportWorkflow(t){return this.api.download(`/workflows/${t}/export`)}importWorkflow(t){let e=new FormData;return e.append("file",t),this.api.upload("/workflows/import",e)}submitInstance(t){return this.api.upload("/workflow-instances/submit",t)}submitApproval(t){return this.api.post("/workflow-instances/approval",t)}validateUniqueField(t,e,o,r){let n=`/workflow-instances/validate-unique?workflowCode=${encodeURIComponent(t)}&fieldName=${encodeURIComponent(e)}&value=${encodeURIComponent(o)}`;return r&&(n+=`&excludeInstanceId=${r}`),this.api.get(n)}static \u0275fac=function(e){return new(e||s)(a(p))};static \u0275prov=i({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();export{u as a};
