import{a as K,b as Q,c as X}from"./chunk-UQX5CWLE.js";import"./chunk-MS4AQ6UA.js";import{a as Y,b as Z}from"./chunk-3ACZ4RNP.js";import{b as J}from"./chunk-M4AVZ6G2.js";import{a as G}from"./chunk-3PMLAS3Y.js";import"./chunk-WPDQKNTD.js";import"./chunk-5LBLILVL.js";import"./chunk-LAGNR76Q.js";import"./chunk-T6FL6ZBG.js";import{a as q,b as H}from"./chunk-AIS23OW2.js";import{a as $,c as z,d as U}from"./chunk-XZVKBWV7.js";import{i as R}from"./chunk-IGML5J3D.js";import"./chunk-DLMMVLF7.js";import"./chunk-X4PFBHKL.js";import"./chunk-ORAJKTE5.js";import{b as V,f as W,i as B,k as E,p as k}from"./chunk-DUSDXFBS.js";import{a as N,h as D}from"./chunk-PWNKGTLH.js";import"./chunk-PSOPTTCW.js";import"./chunk-NMO4AZKI.js";import{m as P,qa as I,ra as L,ta as j,va as A}from"./chunk-A3I6STGM.js";import{Ab as g,Fb as v,Hb as O,Ib as w,Jb as b,Kb as a,Lb as r,Qb as M,Ub as T,Vb as s,bb as l,dc as f,ec as F,gb as y,hc as d,ic as _,jc as u,mc as C,na as m,nb as h,oa as c,tb as x}from"./chunk-2HR56SRD.js";var S=()=>({standalone:!0}),tt=(e,p)=>p.key;function et(e,p){if(e&1&&(a(0,"span",7),f(1),r()),e&2){let t=s().$implicit;l(),F(t.description)}}function nt(e,p){if(e&1){let t=M();a(0,"mat-slide-toggle",12),u("ngModelChange",function(i){m(t);let o=s().$implicit;return _(o.value,i)||(o.value=i),c(i)}),r()}if(e&2){let t=s().$implicit;d("ngModel",t.value),g("ngModelOptions",C(2,S))}}function it(e,p){if(e&1){let t=M();a(0,"div",10)(1,"input",13),u("ngModelChange",function(i){m(t);let o=s().$implicit;return _(o.value,i)||(o.value=i),c(i)}),r(),a(2,"input",14),u("ngModelChange",function(i){m(t);let o=s().$implicit;return _(o.value,i)||(o.value=i),c(i)}),r()()}if(e&2){let t=s().$implicit;l(),d("ngModel",t.value),g("ngModelOptions",C(4,S)),l(),d("ngModel",t.value),g("ngModelOptions",C(5,S))}}function ot(e,p){if(e&1){let t=M();a(0,"mat-form-field",11)(1,"input",15),u("ngModelChange",function(i){m(t);let o=s().$implicit;return _(o.value,i)||(o.value=i),c(i)}),r()()}if(e&2){let t=s().$implicit;l(),d("ngModel",t.value),g("ngModelOptions",C(2,S))}}function rt(e,p){if(e&1){let t=M();a(0,"mat-form-field",11)(1,"input",16),u("ngModelChange",function(i){m(t);let o=s().$implicit;return _(o.value,i)||(o.value=i),c(i)}),r()()}if(e&2){let t=s().$implicit;l(),d("ngModel",t.value),g("ngModelOptions",C(2,S))}}function at(e,p){if(e&1){let t=M();a(0,"mat-form-field",11)(1,"input",14),u("ngModelChange",function(i){m(t);let o=s().$implicit;return _(o.value,i)||(o.value=i),c(i)}),r()()}if(e&2){let t=s().$implicit;l(),d("ngModel",t.value),g("ngModelOptions",C(2,S))}}function st(e,p){if(e&1&&(a(0,"div",5)(1,"div",6)(2,"strong"),f(3),r(),x(4,et,2,1,"span",7),r(),a(5,"div",8),x(6,nt,1,3,"mat-slide-toggle",9)(7,it,3,6,"div",10)(8,ot,2,3,"mat-form-field",11)(9,rt,2,3,"mat-form-field",11)(10,at,2,3,"mat-form-field",11),r()()),e&2){let t,n=p.$implicit;l(3),F(n.label),l(),v(n.description?4:-1),l(2),v((t=n.type)==="BOOLEAN"?6:t==="COLOR"?7:t==="NUMBER"?8:t==="PASSWORD"?9:10)}}function lt(e,p){if(e&1&&(a(0,"mat-tab",3)(1,"div",4),w(2,st,11,3,"div",5,tt),r()()),e&2){let t=p.$implicit,n=s();g("label",t),l(2),b(n.getSettingsForTab(t))}}var Wt=(()=>{class e{settingService;snackBar;settings=[];tabs=[];settingsGrouped={};constructor(t,n){this.settingService=t,this.snackBar=n}ngOnInit(){this.loadSettings()}loadSettings(){this.settingService.getSettingsGrouped().subscribe(t=>{t.success&&(this.settingsGrouped=t.data,this.tabs=Object.keys(t.data),this.settings=Object.values(t.data).flat())})}getSettingsForTab(t){return this.settingsGrouped[t]||[]}saveAll(){let t=this.settings.map(n=>({id:n.id,key:n.key,value:String(n.value),label:n.label,type:n.type,tab:n.tab,category:n.category}));this.settingService.saveSettings(t).subscribe({next:n=>{n.success&&this.snackBar.open("Settings saved successfully","Close",{duration:3e3})},error:()=>{this.snackBar.open("Failed to save settings","Close",{duration:3e3})}})}static \u0275fac=function(n){return new(n||e)(y(G),y(q))};static \u0275cmp=h({type:e,selectors:[["app-settings"]],decls:12,vars:0,consts:[[1,"settings-container"],[1,"header"],["mat-raised-button","","color","primary",3,"click"],[3,"label"],[1,"tab-content"],[1,"setting-row"],[1,"setting-label"],[1,"description"],[1,"setting-input"],[3,"ngModel","ngModelOptions"],[1,"color-input"],["appearance","outline"],[3,"ngModelChange","ngModel","ngModelOptions"],["type","color",3,"ngModelChange","ngModel","ngModelOptions"],["matInput","",3,"ngModelChange","ngModel","ngModelOptions"],["matInput","","type","number",3,"ngModelChange","ngModel","ngModelOptions"],["matInput","","type","password",3,"ngModelChange","ngModel","ngModelOptions"]],template:function(n,i){n&1&&(a(0,"div",0)(1,"div",1)(2,"h1"),f(3,"Settings"),r(),a(4,"button",2),T("click",function(){return i.saveAll()}),a(5,"mat-icon"),f(6,"save"),r(),f(7," Save Changes "),r()(),a(8,"mat-card")(9,"mat-tab-group"),w(10,lt,4,1,"mat-tab",3,O),r()()()),n&2&&(l(10),b(i.tabs))},dependencies:[P,k,V,E,W,B,D,N,X,K,Q,$,R,U,z,J,Z,Y,A,j,L,I,H],styles:[".settings-container[_ngcontent-%COMP%]{padding:1rem}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.tab-content[_ngcontent-%COMP%]{padding:1rem}.setting-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0;border-bottom:1px solid #eee}.setting-label[_ngcontent-%COMP%]{flex:1}.setting-label[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#666}.setting-input[_ngcontent-%COMP%]{width:300px}.setting-input[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.color-input[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.color-input[_ngcontent-%COMP%]   input[type=color][_ngcontent-%COMP%]{width:50px;height:36px;border:none;cursor:pointer}"]})}return e})();export{Wt as SettingsComponent};
